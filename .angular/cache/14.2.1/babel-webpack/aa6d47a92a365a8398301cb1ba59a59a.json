{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Component, Input, ViewEncapsulation, ChangeDetectionStrategy, Inject, HostBinding, HostListener, ViewChild, NgModule } from '@angular/core';\nimport { __decorate } from 'tslib';\nimport { XWithConfig, XInputBoolean, XIsEmpty, XConnectBaseAnimation, XClearClass } from '@ng-nest/ui/core';\nimport { XControlValueAccessor, XValueAccessor, XBaseFormModule } from '@ng-nest/ui/base-form';\nimport { Subject } from 'rxjs';\nimport * as i1 from '@angular/common';\nimport { DOCUMENT, DecimalPipe, PercentPipe, CommonModule } from '@angular/common';\nimport { takeUntil } from 'rxjs/operators';\nimport * as i3 from '@angular/forms';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport * as i3$1 from '@angular/cdk/drag-drop';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport * as i4 from '@ng-nest/ui/slider-select';\nimport { XSliderSelectModule } from '@ng-nest/ui/slider-select';\nimport * as i5 from '@ng-nest/ui/tabs';\nimport { XTabsModule } from '@ng-nest/ui/tabs';\nimport * as i6 from '@ng-nest/ui/input';\nimport { XInputModule } from '@ng-nest/ui/input';\nimport * as i1$1 from '@ng-nest/ui/portal';\nimport { XPortalConnectedPosition, XPortalModule } from '@ng-nest/ui/portal';\nimport * as i2 from '@angular/cdk/overlay';\n/**\r\n * ColorPicker\r\n * @selector x-color-picker\r\n * @decorator component\r\n */\n\nconst _c0 = [\"panelRef\"];\nconst _c1 = [\"plateRef\"];\nconst _c2 = [\"transparentCom\"];\nconst _c3 = [\"colorPicker\"];\nconst _c4 = [\"inputCom\"];\nconst XColorPickerPrefix = 'x-color-picker';\nconst X_CONFIG_NAME = 'colorPicker';\n/**\r\n * ColorPicker Property\r\n */\n\nclass XColorPickerProperty extends XControlValueAccessor {}\n/** @nocollapse */\n\n\nXColorPickerProperty.ɵfac = /* @__PURE__ */function () {\n  let ɵXColorPickerProperty_BaseFactory;\n  return function XColorPickerProperty_Factory(t) {\n    return (ɵXColorPickerProperty_BaseFactory || (ɵXColorPickerProperty_BaseFactory = i0.ɵɵgetInheritedFactory(XColorPickerProperty)))(t || XColorPickerProperty);\n  };\n}();\n/** @nocollapse */\n\n\nXColorPickerProperty.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: XColorPickerProperty,\n  selectors: [[\"ng-component\"]],\n  inputs: {\n    placement: \"placement\",\n    size: \"size\",\n    bordered: \"bordered\"\n  },\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 0,\n  vars: 0,\n  template: function XColorPickerProperty_Template(rf, ctx) {},\n  encapsulation: 2\n});\n\n__decorate([XWithConfig(X_CONFIG_NAME, 'bottom-start')], XColorPickerProperty.prototype, \"placement\", void 0);\n\n__decorate([XWithConfig(X_CONFIG_NAME, 'medium')], XColorPickerProperty.prototype, \"size\", void 0);\n\n__decorate([XInputBoolean(), XWithConfig(X_CONFIG_NAME, true)], XColorPickerProperty.prototype, \"bordered\", void 0);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XColorPickerProperty, [{\n    type: Component,\n    args: [{\n      template: ''\n    }]\n  }], null, {\n    placement: [{\n      type: Input\n    }],\n    size: [{\n      type: Input\n    }],\n    bordered: [{\n      type: Input\n    }]\n  });\n})();\n/**\r\n * ColorPicker-Portal\r\n * @selector x-color-picker-portal\r\n * @decorator component\r\n */\n\n\nconst XColorPickerPortalPrefix = 'x-color-picker-portal';\n\nclass XColorPickerPortalComponent {\n  constructor(elementRef, renderer, doc, ngZone, cdr, decimal, percent) {\n    this.elementRef = elementRef;\n    this.renderer = renderer;\n    this.doc = doc;\n    this.ngZone = ngZone;\n    this.cdr = cdr;\n    this.decimal = decimal;\n    this.percent = percent;\n    this.sliderColorNum = 0;\n    this.offset = 0;\n    this.transform = {\n      x: 0,\n      y: 0\n    };\n    this.initTransform = {\n      x: 0,\n      y: 0\n    };\n    this.drag = false;\n    this.rgba = {\n      a: 1\n    };\n    this.hsla = {\n      h: 0,\n      a: 1\n    };\n    this._unSubject = new Subject();\n  }\n\n  done(event) {\n    this.animating(false);\n    event.toState === 'void' && this.destroyPortal();\n  }\n\n  start() {\n    this.animating(true);\n  }\n\n  ngOnInit() {\n    this.valueChange.pipe(takeUntil(this._unSubject)).subscribe(x => {\n      this.value = x;\n      this.init();\n      this.cdr.detectChanges();\n    });\n    this.positionChange.pipe(takeUntil(this._unSubject)).subscribe(x => {\n      this.placement = x;\n      this.cdr.detectChanges();\n    });\n    this.init();\n  }\n\n  ngOnDestroy() {\n    this._unSubject.next();\n\n    this._unSubject.unsubscribe();\n  }\n\n  ngAfterViewInit() {\n    this.panel = this.panelRef.nativeElement.getBoundingClientRect();\n    this.plate = this.plateRef.nativeElement.getBoundingClientRect();\n    this.offset = (this.panel.width - this.plate.width) / 2;\n    this.transparentRail = this.transparentCom.elementRef.nativeElement.querySelector('.x-slider-select-rail div');\n    this.setTransform();\n    this.setPlateBackground();\n    this.setRailBackground();\n    this.cdr.detectChanges();\n  }\n\n  hexChange() {\n    if (this.drag || !/(^#[0-9A-F]{6}$)/i.test(this.hex)) return;\n    this.rgba = this.hexToRgba(this.hex);\n    this.hsla = this.rgbaToHsla(this.rgba);\n    this.setHslaPercent();\n    this.setTransform();\n    this.setPlateBackground();\n    this.setValue();\n  }\n\n  rgbaChange() {}\n\n  init() {\n    if (!XIsEmpty(this.value)) {\n      this.value = this.value;\n    } else {\n      this.value = this.getPrimary();\n    }\n\n    this.colorConvert();\n  }\n\n  stopPropagation(event) {\n    event.stopPropagation();\n  }\n\n  setDefault() {}\n\n  colorConvert() {\n    if (/^#/.test(this.value)) {\n      this.hex = this.value;\n      this.rgba = this.hexToRgba(this.hex);\n      this.hsla = this.rgbaToHsla(this.rgba);\n      this.setHslaPercent();\n      this.type = 'hex';\n    } else if (/rgb/.test(this.value)) {\n      this.rgbaConvert(this.value);\n      this.hex = this.rgbaToHex(this.rgba);\n      this.hsla = this.rgbaToHsla(this.rgba);\n      this.setHslaPercent();\n      this.type = 'rgba';\n    } else if (/hsl/.test(this.value)) {\n      this.hslaConvert(this.value);\n      this.rgba = this.hslaToRgba(this.hsla);\n      this.hex = this.rgbaToHex(this.rgba);\n      this.type = 'hsla';\n    }\n  }\n\n  rgbaConvert(str) {\n    let rgba = str.replace(/rgba?\\(/, '').replace(/rgb?\\(/, '').replace(/\\)/, '').replace(/[\\s+]/g, '').split(',');\n\n    if (rgba.length > 2) {\n      this.rgba = {\n        r: Number(rgba[0]),\n        g: Number(rgba[1]),\n        b: Number(rgba[2]),\n        a: Number(rgba.length > 3 ? rgba[3] : 1)\n      };\n    }\n  }\n\n  hslaConvert(str) {\n    let hsla = str.replace(/hsla?\\(/, '').replace(/hsl?\\(/, '').replace(/\\)/, '').replace(/[\\s+]/g, '').split(',');\n\n    if (hsla.length > 2) {\n      this.hsla = {\n        h: Number(hsla[0]),\n        s: Number(hsla[1].replace('%', '')) / 100,\n        l: Number(hsla[2].replace('%', '')) / 100,\n        a: Number(hsla.length > 3 ? hsla[3] : 1)\n      };\n      this.setHslaPercent();\n    }\n  }\n\n  plateClick(event) {\n    if (this.drag) return;\n    const rect = this.plateRef.nativeElement.getBoundingClientRect();\n    let left = event.clientX - rect.left;\n    let top = event.clientY - rect.top;\n    this.transform = {\n      x: left - this.offset,\n      y: top - this.offset\n    };\n    this.initTransform = {\n      x: this.transform.x,\n      y: this.transform.y\n    };\n    this.setLetfTop(left, top);\n  }\n\n  setTransform() {\n    let hsv = this.hslToHsv(this.hsla.h, this.hsla.s, this.hsla.l);\n    this.transform.x = hsv.s * this.plate.width - this.offset;\n    this.transform.y = (1 - hsv.v) * this.plate.height - this.offset;\n    this.initTransform = {\n      x: this.transform.x,\n      y: this.transform.y\n    };\n  }\n\n  started() {\n    this.drag = true;\n  }\n\n  ended() {\n    this.initTransform = {\n      x: this.transform.x,\n      y: this.transform.y\n    };\n    setTimeout(() => {\n      this.drag = false;\n    });\n  }\n\n  moved(drag) {\n    const transform = drag.source.getFreeDragPosition();\n    drag.source.reset();\n    this.transform = {\n      x: transform.x + this.initTransform.x,\n      y: transform.y + this.initTransform.y\n    };\n    let left = this.transform.x + this.offset;\n    let top = this.transform.y + this.offset;\n    this.setLetfTop(left, top);\n  }\n\n  setLetfTop(left, top) {\n    let s = left / this.plate.width;\n    let v = 1 - top / this.plate.height;\n    let l = (2 - s) * v / 2;\n\n    if (l !== 0) {\n      if (l === 1) {\n        s = 0;\n      } else if (l < 0.5) {\n        s = s * v / (l * 2);\n      } else {\n        s = s * v / (2 - l * 2);\n      }\n    }\n\n    [this.hsla.s, this.hsla.l] = [Number(this.decimal.transform(s, '1.2-2')), Number(this.decimal.transform(l, '1.2-2'))];\n    this.setHslaPercent();\n    Object.assign(this.rgba, this.hslaToRgba(this.hsla));\n    this.hex = this.rgbaToHex(this.rgba);\n    this.setValue();\n  }\n\n  setHslaPercent() {\n    this.hsla.sp = this.hsla.s === 0 ? '0%' : this.percent.transform(this.hsla.s, '1.0-0');\n    this.hsla.lp = this.hsla.l === 0 ? '0%' : this.percent.transform(this.hsla.l, '1.0-0');\n  }\n\n  getPrimary() {\n    return getComputedStyle(this.doc.documentElement).getPropertyValue('--x-primary').trim();\n  }\n\n  hueChange() {\n    this.setPlateBackground();\n    Object.assign(this.rgba, this.hslaToRgba(this.hsla));\n    this.hex = this.rgbaToHex(this.rgba);\n    this.setValue();\n  }\n\n  setPlateBackground() {\n    this.renderer.setStyle(this.plateRef.nativeElement, 'background-color', `hsl(${this.hsla.h}, 100%, 50%)`);\n  }\n\n  setRailBackground() {\n    this.renderer.setStyle(this.transparentRail, 'background', `linear-gradient(to right, rgba(${this.rgba.r}, ${this.rgba.g}, ${this.rgba.b}, 0) 0%, rgba(${this.rgba.r}, ${this.rgba.g}, ${this.rgba.b}, 1) 100%)`);\n  }\n\n  transparentChange() {\n    Object.assign(this.rgba, this.hslaToRgba(this.hsla));\n    this.hex = this.rgbaToHex(this.rgba);\n    this.setValue();\n  }\n\n  setValue() {\n    this.setValueByType();\n    this.setRailBackground();\n    this.nodeEmit(this.value);\n    this.cdr.detectChanges();\n  }\n\n  setValueByType() {\n    if (this.type === 'hex') {\n      this.value = `${this.hex}`;\n    } else if (this.type === 'rgba') {\n      this.value = `rgba(${this.rgba.r}, ${this.rgba.g}, ${this.rgba.b}, ${this.rgba.a})`;\n    } else if (this.type === 'hsla') {\n      this.value = `hsla(${this.hsla.h}, ${this.hsla.sp}, ${this.hsla.lp}, ${this.hsla.a})`;\n    }\n  }\n\n  hslaToRgba(hsla) {\n    let r, g, b;\n    let [h, s, l] = [hsla.h, hsla.s, hsla.l];\n\n    if (s == 0) {\n      r = g = b = l;\n    } else {\n      let hue2rgb = (p, q, t) => {\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1 / 6) return p + (q - p) * 6 * t;\n        if (t < 1 / 2) return q;\n        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n        return p;\n      };\n\n      let q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      let p = 2 * l - q;\n      r = hue2rgb(p, q, h / 360 + 1 / 3);\n      g = hue2rgb(p, q, h / 360);\n      b = hue2rgb(p, q, h / 360 - 1 / 3);\n    }\n\n    return {\n      r: Math.round(r * 255),\n      g: Math.round(g * 255),\n      b: Math.round(b * 255),\n      a: Number(hsla.a)\n    };\n  }\n\n  rgbaToHex(rgba) {\n    let hex = [rgba.r.toString(16), rgba.g.toString(16), rgba.b.toString(16), Math.round(255 * rgba.a).toString(16)];\n    hex.forEach((x, index) => {\n      if (index === 3 && x === 'ff') {\n        hex[index] = '';\n      }\n\n      if (x.length === 1) {\n        hex[index] = '0' + x;\n      }\n    });\n    return `#${hex.join('')}`;\n  }\n\n  rgbaToHsla(rgba) {\n    let [r, g, b] = [rgba.r / 255, rgba.g / 255, rgba.b / 255];\n    let [max, min] = [Math.max(r, g, b), Math.min(r, g, b)];\n    let h = 0;\n    let s = 0;\n    let l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      let d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n\n        case g:\n          h = (b - r) / d + 2;\n          break;\n\n        case b:\n          h = (r - g) / d + 4;\n          break;\n      }\n\n      h /= 6;\n    }\n\n    return {\n      h: Math.round(h * 360),\n      s: Number(this.decimal.transform(s, '1.2-2')),\n      l: Number(this.decimal.transform(l, '1.2-2')),\n      a: Number(rgba.a)\n    };\n  }\n\n  hexToRgba(hex) {\n    let hexNum = hex.substring(1);\n    let a = 1;\n\n    if (hexNum.length === 8) {\n      a = Number(this.decimal.transform(Number('0x' + hexNum.slice(-2)) / 255, '1.2-2'));\n      hexNum = hexNum.substring(0, hexNum.length - 2);\n    }\n\n    let num = Number('0x' + (hexNum.length < 6 ? this.repeatLetter(hexNum, 2) : hexNum));\n    return {\n      r: num >> 16,\n      g: num >> 8 & 0xff,\n      b: num & 0xff,\n      a: a\n    };\n  }\n\n  hslToHsv(h, s, l) {\n    let hHsv, sHsv, v;\n    hHsv = h;\n\n    if (l == 0) {\n      sHsv = 0;\n      v = 0;\n    } else if (l > 0 && l <= 0.5) {\n      sHsv = 2 * s / (1 + s);\n      v = l * (1 + s);\n    } else {\n      sHsv = (2 * s - 2 * s * l) / (s - s * l + l);\n      v = s - s * l + l;\n    }\n\n    return {\n      h: hHsv,\n      s: Number(this.decimal.transform(sHsv, '1.2-2')),\n      v: Number(this.decimal.transform(v, '1.2-2'))\n    };\n  }\n\n  repeatWord(word, num) {\n    let result = '';\n\n    for (let i = 0; i < num; i++) {\n      result += word;\n    }\n\n    return result;\n  }\n\n  repeatLetter(word, num) {\n    let result = '';\n\n    for (let letter of word) {\n      result += this.repeatWord(letter, num);\n    }\n\n    return result;\n  }\n\n}\n/** @nocollapse */\n\n\nXColorPickerPortalComponent.ɵfac = function XColorPickerPortalComponent_Factory(t) {\n  return new (t || XColorPickerPortalComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.DecimalPipe), i0.ɵɵdirectiveInject(i1.PercentPipe));\n};\n/** @nocollapse */\n\n\nXColorPickerPortalComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: XColorPickerPortalComponent,\n  selectors: [[\"x-color-picker-portal\"]],\n  viewQuery: function XColorPickerPortalComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n      i0.ɵɵviewQuery(_c1, 7);\n      i0.ɵɵviewQuery(_c2, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.panelRef = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.plateRef = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.transparentCom = _t.first);\n    }\n  },\n  hostVars: 1,\n  hostBindings: function XColorPickerPortalComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵsyntheticHostListener(\"@x-connect-base-animation.done\", function XColorPickerPortalComponent_animation_x_connect_base_animation_done_HostBindingHandler($event) {\n        return ctx.done($event);\n      })(\"@x-connect-base-animation.start\", function XColorPickerPortalComponent_animation_x_connect_base_animation_start_HostBindingHandler($event) {\n        return ctx.start($event);\n      });\n    }\n\n    if (rf & 2) {\n      i0.ɵɵsyntheticHostProperty(\"@x-connect-base-animation\", ctx.placement);\n    }\n  },\n  features: [i0.ɵɵProvidersFeature([DecimalPipe, PercentPipe])],\n  decls: 37,\n  vars: 32,\n  consts: [[\"tabindex\", \"-1\", 1, \"x-color-picker-portal\", 3, \"click\"], [1, \"x-color-picker-portal-panel\"], [\"panelRef\", \"\"], [1, \"x-color-picker-portal-plate\", 3, \"click\"], [\"plateRef\", \"\"], [1, \"x-color-picker-portal-white\"], [1, \"x-color-picker-portal-black\"], [\"cdkDrag\", \"\", 1, \"x-color-picker-portal-cursor\", 3, \"cdkDragBoundary\", \"cdkDragStarted\", \"cdkDragEnded\", \"cdkDragMoved\"], [\"dragCom\", \"\"], [1, \"x-color-picker-portal-tool\"], [1, \"x-color-picker-portal-operations\"], [1, \"x-color-picker-portal-selected\"], [1, \"x-color-picker-portal-area\"], [1, \"x-color-picker-portal-slider\"], [\"min\", \"0\", \"max\", \"360\", \"step\", \"1\", 3, \"ngModel\", \"ngModelChange\", \"dragStartEmit\", \"dragEndEmit\"], [1, \"x-color-picker-portal-transparent\"], [\"min\", \"0\", \"max\", \"1\", \"step\", \"0.01\", 3, \"ngModel\", \"ngModelChange\", \"dragStarted\", \"dragEnded\"], [\"transparentCom\", \"\"], [1, \"x-color-picker-portal-alpha\"], [1, \"x-color-picker-portal-type\"], [\"animated\", \"false\", \"justify\", \"center\"], [\"label\", \"HEX\"], [1, \"x-color-picker-portal-type-content\"], [3, \"ngModel\", \"ngModelChange\"], [\"label\", \"RGBA\"], [3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"label\", \"HSLA\"]],\n  template: function XColorPickerPortalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵlistener(\"click\", function XColorPickerPortalComponent_Template_div_click_0_listener($event) {\n        return ctx.stopPropagation($event);\n      });\n      i0.ɵɵelementStart(1, \"div\", 1, 2)(3, \"div\", 3, 4);\n      i0.ɵɵlistener(\"click\", function XColorPickerPortalComponent_Template_div_click_3_listener($event) {\n        return ctx.plateClick($event);\n      });\n      i0.ɵɵelement(5, \"div\", 5)(6, \"div\", 6);\n      i0.ɵɵelementStart(7, \"div\", 7, 8);\n      i0.ɵɵlistener(\"cdkDragStarted\", function XColorPickerPortalComponent_Template_div_cdkDragStarted_7_listener() {\n        return ctx.started();\n      })(\"cdkDragEnded\", function XColorPickerPortalComponent_Template_div_cdkDragEnded_7_listener() {\n        return ctx.ended();\n      })(\"cdkDragMoved\", function XColorPickerPortalComponent_Template_div_cdkDragMoved_7_listener($event) {\n        return ctx.moved($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"div\", 9)(10, \"div\", 10)(11, \"div\", 11);\n      i0.ɵɵelement(12, \"div\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 12)(14, \"div\", 13)(15, \"x-slider-select\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_slider_select_ngModelChange_15_listener($event) {\n        return ctx.hsla.h = $event;\n      })(\"dragStartEmit\", function XColorPickerPortalComponent_Template_x_slider_select_dragStartEmit_15_listener() {\n        return ctx.started();\n      })(\"dragEndEmit\", function XColorPickerPortalComponent_Template_x_slider_select_dragEndEmit_15_listener() {\n        return ctx.ended();\n      })(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_slider_select_ngModelChange_15_listener() {\n        return ctx.hueChange();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 15)(17, \"x-slider-select\", 16, 17);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_slider_select_ngModelChange_17_listener($event) {\n        return ctx.hsla.a = $event;\n      })(\"dragStarted\", function XColorPickerPortalComponent_Template_x_slider_select_dragStarted_17_listener() {\n        return ctx.started();\n      })(\"dragEnded\", function XColorPickerPortalComponent_Template_x_slider_select_dragEnded_17_listener() {\n        return ctx.ended();\n      })(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_slider_select_ngModelChange_17_listener() {\n        return ctx.transparentChange();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"div\", 18);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"div\", 19)(21, \"x-tabs\", 20)(22, \"x-tab\", 21)(23, \"div\", 22)(24, \"x-input\", 23);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_input_ngModelChange_24_listener($event) {\n        return ctx.hex = $event;\n      })(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_input_ngModelChange_24_listener() {\n        return ctx.hexChange();\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"x-tab\", 24)(26, \"div\", 22)(27, \"x-input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_input_ngModelChange_27_listener($event) {\n        return ctx.rgba.r = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"x-input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_input_ngModelChange_28_listener($event) {\n        return ctx.rgba.g = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"x-input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_input_ngModelChange_29_listener($event) {\n        return ctx.rgba.b = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"x-input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_input_ngModelChange_30_listener($event) {\n        return ctx.rgba.a = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(31, \"x-tab\", 26)(32, \"div\", 22)(33, \"x-input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_input_ngModelChange_33_listener($event) {\n        return ctx.hsla.h = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"x-input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_input_ngModelChange_34_listener($event) {\n        return ctx.hsla.sp = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"x-input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_input_ngModelChange_35_listener($event) {\n        return ctx.hsla.lp = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"x-input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerPortalComponent_Template_x_input_ngModelChange_36_listener($event) {\n        return ctx.hsla.a = $event;\n      });\n      i0.ɵɵelementEnd()()()()()()();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(2);\n\n      i0.ɵɵadvance(7);\n      i0.ɵɵstyleProp(\"left\", ctx.transform.x, \"px\")(\"top\", ctx.transform.y, \"px\");\n      i0.ɵɵproperty(\"cdkDragBoundary\", _r0);\n      i0.ɵɵadvance(5);\n      i0.ɵɵstyleProp(\"background-color\", ctx.value);\n      i0.ɵɵadvance(3);\n      i0.ɵɵstyleProp(\"width\", 100, \"%\");\n      i0.ɵɵproperty(\"ngModel\", ctx.hsla.h);\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleProp(\"width\", 100, \"%\");\n      i0.ɵɵproperty(\"ngModel\", ctx.hsla.a);\n      i0.ɵɵadvance(7);\n      i0.ɵɵstyleProp(\"width\", 100, \"%\");\n      i0.ɵɵproperty(\"ngModel\", ctx.hex);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.rgba.r)(\"disabled\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.rgba.g)(\"disabled\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.rgba.b)(\"disabled\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.rgba.a)(\"disabled\", true);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.hsla.h)(\"disabled\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.hsla.sp)(\"disabled\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.hsla.lp)(\"disabled\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.hsla.a)(\"disabled\", true);\n    }\n  },\n  dependencies: [i3.NgControlStatus, i3.NgModel, i3$1.CdkDrag, i4.XSliderSelectComponent, i5.XTabsComponent, i5.XTabComponent, i6.XInputComponent],\n  styles: [\"@charset \\\"UTF-8\\\";.x-color-picker-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);background-color:var(--x-background);width:15rem;overflow:hidden}.x-color-picker-portal:focus{outline:none}.x-color-picker-portal-panel{padding:.375rem;margin:-.375rem}.x-color-picker-portal-plate{width:100%;height:8rem;display:flex;border-radius:var(--x-border-radius);position:relative}.x-color-picker-portal-white,.x-color-picker-portal-black{position:absolute;top:0;left:0;right:0;bottom:0}.x-color-picker-portal-white{background:linear-gradient(90deg,#fff,hsla(0deg,0%,100%,0))}.x-color-picker-portal-black{background:linear-gradient(0deg,#000,transparent)}.x-color-picker-portal-cursor{position:absolute;width:.75rem;height:.75rem;display:inline-block;border-radius:50%;border:.0625rem solid var(--x-background-100)}.x-color-picker-portal-tool{padding:.4rem}.x-color-picker-portal-operations{display:flex;align-items:center;padding:.4rem 0}.x-color-picker-portal-selected{margin-left:.4rem;width:2rem;height:2rem;border-radius:2rem;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.x-color-picker-portal-selected>div{width:2rem;height:2rem;border-radius:2rem}.x-color-picker-portal-area{margin-left:.4rem;position:relative;flex:1}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{height:.75rem}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-track>.x-slider-select-process{background-color:transparent}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-drags>.x-slider-select-drag>.x-slider-select-button{border-color:var(--x-border);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color)}.x-color-picker-portal-slider{position:relative;width:100%}.x-color-picker-portal-slider .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.x-color-picker-portal-transparent{margin-top:.4rem;position:relative;width:100%}.x-color-picker-portal-transparent .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.x-color-picker-portal-transparent .x-slider-select>.x-slider-select-inner>.x-slider-select-rail:after{content:\\\"\\\";height:100%;display:block}.x-color-picker-portal-type{height:5rem}.x-color-picker-portal-type .x-tabs .x-tabs-list{display:flex;justify-content:center}.x-color-picker-portal-type-content{padding:.8rem .4rem;display:flex}.x-color-picker-portal-type-content .x-input .x-input-row input{text-align:center}\\n\"],\n  encapsulation: 2,\n  data: {\n    animation: [XConnectBaseAnimation]\n  },\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XColorPickerPortalComponent, [{\n    type: Component,\n    args: [{\n      selector: `${XColorPickerPortalPrefix}`,\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [DecimalPipe, PercentPipe],\n      animations: [XConnectBaseAnimation],\n      template: \"<div class=\\\"x-color-picker-portal\\\" tabindex=\\\"-1\\\" (click)=\\\"stopPropagation($event)\\\">\\r\\n  <div #panelRef class=\\\"x-color-picker-portal-panel\\\">\\r\\n    <div #plateRef class=\\\"x-color-picker-portal-plate\\\" (click)=\\\"plateClick($event)\\\">\\r\\n      <div class=\\\"x-color-picker-portal-white\\\"></div>\\r\\n      <div class=\\\"x-color-picker-portal-black\\\"></div>\\r\\n      <div\\r\\n        #dragCom\\r\\n        class=\\\"x-color-picker-portal-cursor\\\"\\r\\n        [style.left.px]=\\\"transform.x\\\"\\r\\n        [style.top.px]=\\\"transform.y\\\"\\r\\n        cdkDrag\\r\\n        [cdkDragBoundary]=\\\"panelRef\\\"\\r\\n        (cdkDragStarted)=\\\"started()\\\"\\r\\n        (cdkDragEnded)=\\\"ended()\\\"\\r\\n        (cdkDragMoved)=\\\"moved($event)\\\"\\r\\n      ></div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"x-color-picker-portal-tool\\\">\\r\\n    <div class=\\\"x-color-picker-portal-operations\\\">\\r\\n      <!-- <x-button icon=\\\"fto-edit-2\\\" onlyIcon></x-button> -->\\r\\n      <div class=\\\"x-color-picker-portal-selected\\\">\\r\\n        <div [style.background-color]=\\\"value\\\"></div>\\r\\n      </div>\\r\\n      <div class=\\\"x-color-picker-portal-area\\\">\\r\\n        <div class=\\\"x-color-picker-portal-slider\\\">\\r\\n          <x-slider-select\\r\\n            [style.width.%]=\\\"100\\\"\\r\\n            [(ngModel)]=\\\"hsla.h\\\"\\r\\n            min=\\\"0\\\"\\r\\n            max=\\\"360\\\"\\r\\n            step=\\\"1\\\"\\r\\n            (dragStartEmit)=\\\"started()\\\"\\r\\n            (dragEndEmit)=\\\"ended()\\\"\\r\\n            (ngModelChange)=\\\"hueChange()\\\"\\r\\n          ></x-slider-select>\\r\\n        </div>\\r\\n        <div class=\\\"x-color-picker-portal-transparent\\\">\\r\\n          <x-slider-select\\r\\n            [style.width.%]=\\\"100\\\"\\r\\n            #transparentCom\\r\\n            [(ngModel)]=\\\"hsla.a\\\"\\r\\n            min=\\\"0\\\"\\r\\n            max=\\\"1\\\"\\r\\n            step=\\\"0.01\\\"\\r\\n            (dragStarted)=\\\"started()\\\"\\r\\n            (dragEnded)=\\\"ended()\\\"\\r\\n            (ngModelChange)=\\\"transparentChange()\\\"\\r\\n          ></x-slider-select>\\r\\n          <div class=\\\"x-color-picker-portal-alpha\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"x-color-picker-portal-type\\\">\\r\\n      <x-tabs animated=\\\"false\\\" justify=\\\"center\\\">\\r\\n        <x-tab label=\\\"HEX\\\">\\r\\n          <div class=\\\"x-color-picker-portal-type-content\\\">\\r\\n            <x-input [style.width.%]=\\\"100\\\" [(ngModel)]=\\\"hex\\\" (ngModelChange)=\\\"hexChange()\\\"></x-input>\\r\\n          </div>\\r\\n        </x-tab>\\r\\n        <x-tab label=\\\"RGBA\\\">\\r\\n          <div class=\\\"x-color-picker-portal-type-content\\\">\\r\\n            <x-input [(ngModel)]=\\\"rgba.r\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"rgba.g\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"rgba.b\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"rgba.a\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n          </div>\\r\\n        </x-tab>\\r\\n        <x-tab label=\\\"HSLA\\\">\\r\\n          <div class=\\\"x-color-picker-portal-type-content\\\">\\r\\n            <x-input [(ngModel)]=\\\"hsla.h\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"hsla.sp\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"hsla.lp\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"hsla.a\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n          </div>\\r\\n        </x-tab>\\r\\n      </x-tabs>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\",\n      styles: [\"@charset \\\"UTF-8\\\";.x-color-picker-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);background-color:var(--x-background);width:15rem;overflow:hidden}.x-color-picker-portal:focus{outline:none}.x-color-picker-portal-panel{padding:.375rem;margin:-.375rem}.x-color-picker-portal-plate{width:100%;height:8rem;display:flex;border-radius:var(--x-border-radius);position:relative}.x-color-picker-portal-white,.x-color-picker-portal-black{position:absolute;top:0;left:0;right:0;bottom:0}.x-color-picker-portal-white{background:linear-gradient(90deg,#fff,hsla(0deg,0%,100%,0))}.x-color-picker-portal-black{background:linear-gradient(0deg,#000,transparent)}.x-color-picker-portal-cursor{position:absolute;width:.75rem;height:.75rem;display:inline-block;border-radius:50%;border:.0625rem solid var(--x-background-100)}.x-color-picker-portal-tool{padding:.4rem}.x-color-picker-portal-operations{display:flex;align-items:center;padding:.4rem 0}.x-color-picker-portal-selected{margin-left:.4rem;width:2rem;height:2rem;border-radius:2rem;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.x-color-picker-portal-selected>div{width:2rem;height:2rem;border-radius:2rem}.x-color-picker-portal-area{margin-left:.4rem;position:relative;flex:1}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{height:.75rem}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-track>.x-slider-select-process{background-color:transparent}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-drags>.x-slider-select-drag>.x-slider-select-button{border-color:var(--x-border);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color)}.x-color-picker-portal-slider{position:relative;width:100%}.x-color-picker-portal-slider .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.x-color-picker-portal-transparent{margin-top:.4rem;position:relative;width:100%}.x-color-picker-portal-transparent .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.x-color-picker-portal-transparent .x-slider-select>.x-slider-select-inner>.x-slider-select-rail:after{content:\\\"\\\";height:100%;display:block}.x-color-picker-portal-type{height:5rem}.x-color-picker-portal-type .x-tabs .x-tabs-list{display:flex;justify-content:center}.x-color-picker-portal-type-content{padding:.8rem .4rem;display:flex}.x-color-picker-portal-type-content .x-input .x-input-row input{text-align:center}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i0.NgZone\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1.DecimalPipe\n    }, {\n      type: i1.PercentPipe\n    }];\n  }, {\n    placement: [{\n      type: HostBinding,\n      args: ['@x-connect-base-animation']\n    }],\n    done: [{\n      type: HostListener,\n      args: ['@x-connect-base-animation.done', ['$event']]\n    }],\n    start: [{\n      type: HostListener,\n      args: ['@x-connect-base-animation.start', ['$event']]\n    }],\n    panelRef: [{\n      type: ViewChild,\n      args: ['panelRef', {\n        static: true\n      }]\n    }],\n    plateRef: [{\n      type: ViewChild,\n      args: ['plateRef', {\n        static: true\n      }]\n    }],\n    transparentCom: [{\n      type: ViewChild,\n      args: ['transparentCom', {\n        static: true\n      }]\n    }]\n  });\n})();\n\nclass XColorPickerComponent extends XColorPickerProperty {\n  constructor(renderer, cdr, portalService, viewContainerRef, overlay) {\n    super();\n    this.renderer = renderer;\n    this.cdr = cdr;\n    this.portalService = portalService;\n    this.viewContainerRef = viewContainerRef;\n    this.overlay = overlay;\n    this.readonly = true;\n    this.clearable = false;\n    this.enter = false;\n    this.animating = false;\n    this.displayValue = '';\n    this.valueStyle = {};\n    this.icon = 'fto-chevron-down';\n    this.maxNodes = 6;\n    this.protalTobottom = true;\n    this.valueChange = new Subject();\n    this.dataChange = new Subject();\n    this.positionChange = new Subject();\n    this.closeSubject = new Subject();\n    this._unSubject = new Subject();\n  }\n\n  writeValue(value) {\n    this.value = value;\n    this.displayValue = value;\n    this.valueChange.next(this.value);\n    this.cdr.detectChanges();\n  }\n\n  get inputStyle() {\n    return {\n      backgroundColor: this.value,\n      color: 'transparent'\n    };\n  }\n\n  ngOnInit() {\n    this.setFlex(this.colorPicker.nativeElement, this.renderer, this.justify, this.align, this.direction);\n    this.setClassMap();\n    this.setSubject();\n  }\n\n  ngAfterViewInit() {\n    this.setPortal(); // this.setValueStyle();\n  }\n\n  ngOnDestroy() {\n    this._unSubject.next();\n\n    this._unSubject.unsubscribe();\n  }\n\n  setSubject() {\n    this.closeSubject.pipe(takeUntil(this._unSubject)).subscribe(() => {\n      this.closePortal();\n    });\n  }\n\n  setValueStyle() {\n    this.valueStyle = {\n      width: `${this.inputCom.inputRef.nativeElement.clientWidth}px`,\n      height: `${this.inputCom.inputRef.nativeElement.clientHeight}px`\n    };\n\n    if (this.direction === 'column') {\n      this.valueStyle['bottom'] = 0;\n    }\n\n    if (this.direction === 'row') {\n      this.valueStyle['bottom'] = 0;\n    }\n  }\n\n  menter() {\n    if (this.disabled) return;\n    this.enter = true;\n\n    if (!XIsEmpty(this.value)) {\n      this.icon = '';\n      this.clearable = true;\n      this.cdr.detectChanges();\n    }\n  }\n\n  mleave() {\n    if (this.disabled) return;\n    this.enter = false;\n\n    if (this.clearable) {\n      this.icon = 'fto-chevron-down';\n      this.clearable = false;\n      this.cdr.detectChanges();\n    }\n  }\n\n  clearEmit() {\n    this.value = '';\n    this.displayValue = '';\n    this.mleave();\n    this.valueChange.next(this.value);\n    if (this.onChange) this.onChange(this.value);\n  }\n\n  portalAttached() {\n    return this.portal?.overlayRef?.hasAttached();\n  }\n\n  closePortal() {\n    if (this.portalAttached()) {\n      this.portal?.overlayRef?.detach();\n      this.active = false;\n      this.cdr.detectChanges();\n      return true;\n    }\n\n    return false;\n  }\n\n  destroyPortal() {\n    this.portal?.overlayRef?.dispose();\n  }\n\n  showPortal() {\n    if (this.disabled || this.animating) return;\n    this.active = true;\n    const config = {\n      backdropClass: '',\n      positionStrategy: this.setPlacement(),\n      scrollStrategy: this.overlay.scrollStrategies.reposition()\n    };\n    this.setPosition(config);\n    this.portal = this.portalService.attach({\n      content: XColorPickerPortalComponent,\n      viewContainerRef: this.viewContainerRef,\n      overlayConfig: config\n    });\n    this.portal.overlayRef?.outsidePointerEvents().pipe(takeUntil(this._unSubject)).subscribe(() => {\n      this.closeSubject.next();\n    });\n    this.setInstance();\n  }\n\n  setPosition(config) {\n    let position = config.positionStrategy;\n    position.positionChanges.pipe(takeUntil(this._unSubject)).subscribe(pos => {\n      const place = XPortalConnectedPosition.get(pos.connectionPair);\n      place !== this.placement && this.positionChange.next(place);\n    });\n  }\n\n  setInstance() {\n    let componentRef = this.portal?.componentRef;\n    if (!componentRef) return;\n    Object.assign(componentRef.instance, {\n      value: this.value,\n      placement: this.placement,\n      valueChange: this.valueChange,\n      positionChange: this.positionChange,\n      inputCom: this.inputCom,\n      closePortal: () => this.closeSubject.next(),\n      destroyPortal: () => this.destroyPortal(),\n      nodeEmit: color => this.onNodeClick(color),\n      animating: ing => this.animating = ing\n    });\n    componentRef.changeDetectorRef.detectChanges();\n  }\n\n  onNodeClick(color) {\n    this.value = color;\n    this.displayValue = color;\n    this.inputCom.inputFocus();\n    if (this.onChange) this.onChange(this.value);\n    this.formControlValidator();\n    this.cdr.detectChanges();\n  }\n\n  setPlacement() {\n    return this.portalService.setPlacement({\n      elementRef: this.inputCom.inputRef,\n      placement: [this.placement, 'bottom-start', 'bottom-end', 'top-start', 'top-end'],\n      transformOriginOn: 'x-color-picker-portal'\n    });\n  }\n\n  setPortal() {\n    this.portalAttached() && this.portal?.overlayRef?.updatePositionStrategy(this.setPlacement());\n  }\n\n  setClassMap() {\n    XClearClass(this.labelMap);\n    this.labelMap[`x-text-align-${this.labelAlign}`] = this.labelAlign ? true : false;\n  }\n\n  formControlChanges() {\n    this.ngOnInit();\n    this.cdr.detectChanges();\n  }\n\n}\n/** @nocollapse */\n\n\nXColorPickerComponent.ɵfac = function XColorPickerComponent_Factory(t) {\n  return new (t || XColorPickerComponent)(i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1$1.XPortalService), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(i2.Overlay));\n};\n/** @nocollapse */\n\n\nXColorPickerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: XColorPickerComponent,\n  selectors: [[\"x-color-picker\"]],\n  viewQuery: function XColorPickerComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c3, 7);\n      i0.ɵɵviewQuery(_c4, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.colorPicker = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputCom = _t.first);\n    }\n  },\n  features: [i0.ɵɵProvidersFeature([XValueAccessor(XColorPickerComponent)]), i0.ɵɵInheritDefinitionFeature],\n  decls: 5,\n  vars: 25,\n  consts: [[1, \"x-color-picker\"], [\"colorPicker\", \"\"], [1, \"x-color-picker-row\"], [\"type\", \"text\", 3, \"label\", \"labelWidth\", \"labelAlign\", \"justify\", \"align\", \"direction\", \"disabled\", \"required\", \"validator\", \"icon\", \"placeholder\", \"readonly\", \"clearable\", \"ngModel\", \"valueTpl\", \"valueTplContext\", \"size\", \"bordered\", \"before\", \"after\", \"pattern\", \"message\", \"inputStyle\", \"pointer\", \"active\", \"ngModelChange\", \"activeChange\", \"clearEmit\", \"xClick\", \"xMouseenter\", \"xMouseleave\"], [\"inputCom\", \"\"]],\n  template: function XColorPickerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0, 1)(2, \"div\", 2)(3, \"x-input\", 3, 4);\n      i0.ɵɵlistener(\"ngModelChange\", function XColorPickerComponent_Template_x_input_ngModelChange_3_listener($event) {\n        return ctx.displayValue = $event;\n      })(\"activeChange\", function XColorPickerComponent_Template_x_input_activeChange_3_listener($event) {\n        return ctx.active = $event;\n      })(\"clearEmit\", function XColorPickerComponent_Template_x_input_clearEmit_3_listener() {\n        return ctx.clearEmit();\n      })(\"xClick\", function XColorPickerComponent_Template_x_input_xClick_3_listener() {\n        return ctx.showPortal();\n      })(\"xMouseenter\", function XColorPickerComponent_Template_x_input_xMouseenter_3_listener() {\n        return ctx.menter();\n      })(\"xMouseleave\", function XColorPickerComponent_Template_x_input_xMouseleave_3_listener() {\n        return ctx.mleave();\n      });\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"label\", ctx.label)(\"labelWidth\", ctx.labelWidth)(\"labelAlign\", ctx.labelAlign)(\"justify\", ctx.justify)(\"align\", ctx.align)(\"direction\", ctx.direction)(\"disabled\", ctx.disabled)(\"required\", ctx.required)(\"validator\", ctx.validator)(\"icon\", ctx.icon)(\"placeholder\", ctx.placeholder)(\"readonly\", ctx.readonly)(\"clearable\", ctx.clearable)(\"ngModel\", ctx.displayValue)(\"valueTpl\", ctx.valueTpl)(\"valueTplContext\", ctx.valueTplContext)(\"size\", ctx.size)(\"bordered\", ctx.bordered)(\"before\", ctx.before)(\"after\", ctx.after)(\"pattern\", ctx.pattern)(\"message\", ctx.message)(\"inputStyle\", ctx.inputStyle)(\"pointer\", true)(\"active\", ctx.active);\n    }\n  },\n  dependencies: [i3.NgControlStatus, i3.RequiredValidator, i3.PatternValidator, i3.NgModel, i6.XInputComponent],\n  styles: [\"@charset \\\"UTF-8\\\";x-color-picker{display:inline-block;width:12rem}.x-color-picker{margin:0;padding:0;width:100%}.x-color-picker x-input{width:100%}\\n\"],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XColorPickerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'x-color-picker',\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [XValueAccessor(XColorPickerComponent)],\n      template: \"<div #colorPicker class=\\\"x-color-picker\\\">\\r\\n  <div class=\\\"x-color-picker-row\\\">\\r\\n    <x-input\\r\\n      #inputCom\\r\\n      type=\\\"text\\\"\\r\\n      [label]=\\\"label\\\"\\r\\n      [labelWidth]=\\\"labelWidth\\\"\\r\\n      [labelAlign]=\\\"labelAlign\\\"\\r\\n      [justify]=\\\"justify\\\"\\r\\n      [align]=\\\"align\\\"\\r\\n      [direction]=\\\"direction\\\"\\r\\n      [disabled]=\\\"disabled\\\"\\r\\n      [required]=\\\"required\\\"\\r\\n      [validator]=\\\"validator\\\"\\r\\n      [icon]=\\\"icon\\\"\\r\\n      [placeholder]=\\\"placeholder\\\"\\r\\n      [readonly]=\\\"readonly\\\"\\r\\n      [clearable]=\\\"clearable\\\"\\r\\n      [(ngModel)]=\\\"displayValue\\\"\\r\\n      [valueTpl]=\\\"valueTpl\\\"\\r\\n      [valueTplContext]=\\\"valueTplContext\\\"\\r\\n      [size]=\\\"size\\\"\\r\\n      [bordered]=\\\"bordered\\\"\\r\\n      [before]=\\\"before\\\"\\r\\n      [after]=\\\"after\\\"\\r\\n      [pattern]=\\\"pattern\\\"\\r\\n      [message]=\\\"message\\\"\\r\\n      [inputStyle]=\\\"inputStyle\\\"\\r\\n      [pointer]=\\\"true\\\"\\r\\n      [(active)]=\\\"active\\\"\\r\\n      (clearEmit)=\\\"clearEmit()\\\"\\r\\n      (xClick)=\\\"showPortal()\\\"\\r\\n      (xMouseenter)=\\\"menter()\\\"\\r\\n      (xMouseleave)=\\\"mleave()\\\"\\r\\n    ></x-input>\\r\\n  </div>\\r\\n</div>\\r\\n\",\n      styles: [\"@charset \\\"UTF-8\\\";x-color-picker{display:inline-block;width:12rem}.x-color-picker{margin:0;padding:0;width:100%}.x-color-picker x-input{width:100%}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: i0.Renderer2\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1$1.XPortalService\n    }, {\n      type: i0.ViewContainerRef\n    }, {\n      type: i2.Overlay\n    }];\n  }, {\n    colorPicker: [{\n      type: ViewChild,\n      args: ['colorPicker', {\n        static: true\n      }]\n    }],\n    inputCom: [{\n      type: ViewChild,\n      args: ['inputCom', {\n        static: true\n      }]\n    }]\n  });\n})();\n\nclass XColorPickerModule {}\n/** @nocollapse */\n\n\nXColorPickerModule.ɵfac = function XColorPickerModule_Factory(t) {\n  return new (t || XColorPickerModule)();\n};\n/** @nocollapse */\n\n\nXColorPickerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: XColorPickerModule\n});\n/** @nocollapse */\n\nXColorPickerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, DragDropModule, XPortalModule, XSliderSelectModule, XTabsModule, XInputModule, XBaseFormModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XColorPickerModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [XColorPickerComponent, XColorPickerPortalComponent, XColorPickerProperty],\n      exports: [XColorPickerComponent, XColorPickerPortalComponent],\n      imports: [CommonModule, FormsModule, ReactiveFormsModule, DragDropModule, XPortalModule, XSliderSelectModule, XTabsModule, XInputModule, XBaseFormModule]\n    }]\n  }], null, null);\n})();\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\n\nexport { XColorPickerComponent, XColorPickerModule, XColorPickerPortalComponent, XColorPickerPortalPrefix, XColorPickerPrefix, XColorPickerProperty };","map":{"version":3,"names":["i0","Component","Input","ViewEncapsulation","ChangeDetectionStrategy","Inject","HostBinding","HostListener","ViewChild","NgModule","__decorate","XWithConfig","XInputBoolean","XIsEmpty","XConnectBaseAnimation","XClearClass","XControlValueAccessor","XValueAccessor","XBaseFormModule","Subject","i1","DOCUMENT","DecimalPipe","PercentPipe","CommonModule","takeUntil","i3","FormsModule","ReactiveFormsModule","i3$1","DragDropModule","i4","XSliderSelectModule","i5","XTabsModule","i6","XInputModule","i1$1","XPortalConnectedPosition","XPortalModule","i2","XColorPickerPrefix","X_CONFIG_NAME","XColorPickerProperty","ɵfac","ɵcmp","prototype","type","args","template","placement","size","bordered","XColorPickerPortalPrefix","XColorPickerPortalComponent","constructor","elementRef","renderer","doc","ngZone","cdr","decimal","percent","sliderColorNum","offset","transform","x","y","initTransform","drag","rgba","a","hsla","h","_unSubject","done","event","animating","toState","destroyPortal","start","ngOnInit","valueChange","pipe","subscribe","value","init","detectChanges","positionChange","ngOnDestroy","next","unsubscribe","ngAfterViewInit","panel","panelRef","nativeElement","getBoundingClientRect","plate","plateRef","width","transparentRail","transparentCom","querySelector","setTransform","setPlateBackground","setRailBackground","hexChange","test","hex","hexToRgba","rgbaToHsla","setHslaPercent","setValue","rgbaChange","getPrimary","colorConvert","stopPropagation","setDefault","rgbaConvert","rgbaToHex","hslaConvert","hslaToRgba","str","replace","split","length","r","Number","g","b","s","l","plateClick","rect","left","clientX","top","clientY","setLetfTop","hsv","hslToHsv","v","height","started","ended","setTimeout","moved","source","getFreeDragPosition","reset","Object","assign","sp","lp","getComputedStyle","documentElement","getPropertyValue","trim","hueChange","setStyle","transparentChange","setValueByType","nodeEmit","hue2rgb","p","q","t","Math","round","toString","forEach","index","join","max","min","d","hexNum","substring","slice","num","repeatLetter","hHsv","sHsv","repeatWord","word","result","i","letter","ElementRef","Renderer2","NgZone","ChangeDetectorRef","NgControlStatus","NgModel","CdkDrag","XSliderSelectComponent","XTabsComponent","XTabComponent","XInputComponent","selector","encapsulation","None","changeDetection","OnPush","providers","animations","styles","undefined","decorators","static","XColorPickerComponent","portalService","viewContainerRef","overlay","readonly","clearable","enter","displayValue","valueStyle","icon","maxNodes","protalTobottom","dataChange","closeSubject","writeValue","inputStyle","backgroundColor","color","setFlex","colorPicker","justify","align","direction","setClassMap","setSubject","setPortal","closePortal","setValueStyle","inputCom","inputRef","clientWidth","clientHeight","menter","disabled","mleave","clearEmit","onChange","portalAttached","portal","overlayRef","hasAttached","detach","active","dispose","showPortal","config","backdropClass","positionStrategy","setPlacement","scrollStrategy","scrollStrategies","reposition","setPosition","attach","content","overlayConfig","outsidePointerEvents","setInstance","position","positionChanges","pos","place","get","connectionPair","componentRef","instance","onNodeClick","ing","changeDetectorRef","inputFocus","formControlValidator","transformOriginOn","updatePositionStrategy","labelMap","labelAlign","formControlChanges","XPortalService","ViewContainerRef","Overlay","RequiredValidator","PatternValidator","XColorPickerModule","ɵmod","ɵinj","declarations","exports","imports"],"sources":["/Users/lzl/my-angular-app/node_modules/@ng-nest/ui/fesm2020/ng-nest-ui-color-picker.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Component, Input, ViewEncapsulation, ChangeDetectionStrategy, Inject, HostBinding, HostListener, ViewChild, NgModule } from '@angular/core';\nimport { __decorate } from 'tslib';\nimport { XWithConfig, XInputBoolean, XIsEmpty, XConnectBaseAnimation, XClearClass } from '@ng-nest/ui/core';\nimport { XControlValueAccessor, XValueAccessor, XBaseFormModule } from '@ng-nest/ui/base-form';\nimport { Subject } from 'rxjs';\nimport * as i1 from '@angular/common';\nimport { DOCUMENT, DecimalPipe, PercentPipe, CommonModule } from '@angular/common';\nimport { takeUntil } from 'rxjs/operators';\nimport * as i3 from '@angular/forms';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport * as i3$1 from '@angular/cdk/drag-drop';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport * as i4 from '@ng-nest/ui/slider-select';\nimport { XSliderSelectModule } from '@ng-nest/ui/slider-select';\nimport * as i5 from '@ng-nest/ui/tabs';\nimport { XTabsModule } from '@ng-nest/ui/tabs';\nimport * as i6 from '@ng-nest/ui/input';\nimport { XInputModule } from '@ng-nest/ui/input';\nimport * as i1$1 from '@ng-nest/ui/portal';\nimport { XPortalConnectedPosition, XPortalModule } from '@ng-nest/ui/portal';\nimport * as i2 from '@angular/cdk/overlay';\n\n/**\r\n * ColorPicker\r\n * @selector x-color-picker\r\n * @decorator component\r\n */\r\nconst XColorPickerPrefix = 'x-color-picker';\r\nconst X_CONFIG_NAME = 'colorPicker';\r\n/**\r\n * ColorPicker Property\r\n */\r\nclass XColorPickerProperty extends XControlValueAccessor {\r\n}\r\n/** @nocollapse */ XColorPickerProperty.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XColorPickerProperty, deps: null, target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ XColorPickerProperty.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.2\", type: XColorPickerProperty, selector: \"ng-component\", inputs: { placement: \"placement\", size: \"size\", bordered: \"bordered\" }, usesInheritance: true, ngImport: i0, template: '', isInline: true });\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME, 'bottom-start')\r\n], XColorPickerProperty.prototype, \"placement\", void 0);\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME, 'medium')\r\n], XColorPickerProperty.prototype, \"size\", void 0);\r\n__decorate([\r\n    XInputBoolean(),\r\n    XWithConfig(X_CONFIG_NAME, true)\r\n], XColorPickerProperty.prototype, \"bordered\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XColorPickerProperty, decorators: [{\r\n            type: Component,\r\n            args: [{ template: '' }]\r\n        }], propDecorators: { placement: [{\r\n                type: Input\r\n            }], size: [{\r\n                type: Input\r\n            }], bordered: [{\r\n                type: Input\r\n            }] } });\r\n/**\r\n * ColorPicker-Portal\r\n * @selector x-color-picker-portal\r\n * @decorator component\r\n */\r\nconst XColorPickerPortalPrefix = 'x-color-picker-portal';\n\nclass XColorPickerPortalComponent {\r\n    constructor(elementRef, renderer, doc, ngZone, cdr, decimal, percent) {\r\n        this.elementRef = elementRef;\r\n        this.renderer = renderer;\r\n        this.doc = doc;\r\n        this.ngZone = ngZone;\r\n        this.cdr = cdr;\r\n        this.decimal = decimal;\r\n        this.percent = percent;\r\n        this.sliderColorNum = 0;\r\n        this.offset = 0;\r\n        this.transform = { x: 0, y: 0 };\r\n        this.initTransform = { x: 0, y: 0 };\r\n        this.drag = false;\r\n        this.rgba = { a: 1 };\r\n        this.hsla = { h: 0, a: 1 };\r\n        this._unSubject = new Subject();\r\n    }\r\n    done(event) {\r\n        this.animating(false);\r\n        event.toState === 'void' && this.destroyPortal();\r\n    }\r\n    start() {\r\n        this.animating(true);\r\n    }\r\n    ngOnInit() {\r\n        this.valueChange.pipe(takeUntil(this._unSubject)).subscribe((x) => {\r\n            this.value = x;\r\n            this.init();\r\n            this.cdr.detectChanges();\r\n        });\r\n        this.positionChange.pipe(takeUntil(this._unSubject)).subscribe((x) => {\r\n            this.placement = x;\r\n            this.cdr.detectChanges();\r\n        });\r\n        this.init();\r\n    }\r\n    ngOnDestroy() {\r\n        this._unSubject.next();\r\n        this._unSubject.unsubscribe();\r\n    }\r\n    ngAfterViewInit() {\r\n        this.panel = this.panelRef.nativeElement.getBoundingClientRect();\r\n        this.plate = this.plateRef.nativeElement.getBoundingClientRect();\r\n        this.offset = (this.panel.width - this.plate.width) / 2;\r\n        this.transparentRail = this.transparentCom.elementRef.nativeElement.querySelector('.x-slider-select-rail div');\r\n        this.setTransform();\r\n        this.setPlateBackground();\r\n        this.setRailBackground();\r\n        this.cdr.detectChanges();\r\n    }\r\n    hexChange() {\r\n        if (this.drag || !/(^#[0-9A-F]{6}$)/i.test(this.hex))\r\n            return;\r\n        this.rgba = this.hexToRgba(this.hex);\r\n        this.hsla = this.rgbaToHsla(this.rgba);\r\n        this.setHslaPercent();\r\n        this.setTransform();\r\n        this.setPlateBackground();\r\n        this.setValue();\r\n    }\r\n    rgbaChange() { }\r\n    init() {\r\n        if (!XIsEmpty(this.value)) {\r\n            this.value = this.value;\r\n        }\r\n        else {\r\n            this.value = this.getPrimary();\r\n        }\r\n        this.colorConvert();\r\n    }\r\n    stopPropagation(event) {\r\n        event.stopPropagation();\r\n    }\r\n    setDefault() { }\r\n    colorConvert() {\r\n        if (/^#/.test(this.value)) {\r\n            this.hex = this.value;\r\n            this.rgba = this.hexToRgba(this.hex);\r\n            this.hsla = this.rgbaToHsla(this.rgba);\r\n            this.setHslaPercent();\r\n            this.type = 'hex';\r\n        }\r\n        else if (/rgb/.test(this.value)) {\r\n            this.rgbaConvert(this.value);\r\n            this.hex = this.rgbaToHex(this.rgba);\r\n            this.hsla = this.rgbaToHsla(this.rgba);\r\n            this.setHslaPercent();\r\n            this.type = 'rgba';\r\n        }\r\n        else if (/hsl/.test(this.value)) {\r\n            this.hslaConvert(this.value);\r\n            this.rgba = this.hslaToRgba(this.hsla);\r\n            this.hex = this.rgbaToHex(this.rgba);\r\n            this.type = 'hsla';\r\n        }\r\n    }\r\n    rgbaConvert(str) {\r\n        let rgba = str\r\n            .replace(/rgba?\\(/, '')\r\n            .replace(/rgb?\\(/, '')\r\n            .replace(/\\)/, '')\r\n            .replace(/[\\s+]/g, '')\r\n            .split(',');\r\n        if (rgba.length > 2) {\r\n            this.rgba = {\r\n                r: Number(rgba[0]),\r\n                g: Number(rgba[1]),\r\n                b: Number(rgba[2]),\r\n                a: Number(rgba.length > 3 ? rgba[3] : 1)\r\n            };\r\n        }\r\n    }\r\n    hslaConvert(str) {\r\n        let hsla = str\r\n            .replace(/hsla?\\(/, '')\r\n            .replace(/hsl?\\(/, '')\r\n            .replace(/\\)/, '')\r\n            .replace(/[\\s+]/g, '')\r\n            .split(',');\r\n        if (hsla.length > 2) {\r\n            this.hsla = {\r\n                h: Number(hsla[0]),\r\n                s: Number(hsla[1].replace('%', '')) / 100,\r\n                l: Number(hsla[2].replace('%', '')) / 100,\r\n                a: Number(hsla.length > 3 ? hsla[3] : 1)\r\n            };\r\n            this.setHslaPercent();\r\n        }\r\n    }\r\n    plateClick(event) {\r\n        if (this.drag)\r\n            return;\r\n        const rect = this.plateRef.nativeElement.getBoundingClientRect();\r\n        let left = event.clientX - rect.left;\r\n        let top = event.clientY - rect.top;\r\n        this.transform = { x: left - this.offset, y: top - this.offset };\r\n        this.initTransform = { x: this.transform.x, y: this.transform.y };\r\n        this.setLetfTop(left, top);\r\n    }\r\n    setTransform() {\r\n        let hsv = this.hslToHsv(this.hsla.h, this.hsla.s, this.hsla.l);\r\n        this.transform.x = hsv.s * this.plate.width - this.offset;\r\n        this.transform.y = (1 - hsv.v) * this.plate.height - this.offset;\r\n        this.initTransform = { x: this.transform.x, y: this.transform.y };\r\n    }\r\n    started() {\r\n        this.drag = true;\r\n    }\r\n    ended() {\r\n        this.initTransform = { x: this.transform.x, y: this.transform.y };\r\n        setTimeout(() => {\r\n            this.drag = false;\r\n        });\r\n    }\r\n    moved(drag) {\r\n        const transform = drag.source.getFreeDragPosition();\r\n        drag.source.reset();\r\n        this.transform = { x: transform.x + this.initTransform.x, y: transform.y + this.initTransform.y };\r\n        let left = this.transform.x + this.offset;\r\n        let top = this.transform.y + this.offset;\r\n        this.setLetfTop(left, top);\r\n    }\r\n    setLetfTop(left, top) {\r\n        let s = left / this.plate.width;\r\n        let v = 1 - top / this.plate.height;\r\n        let l = ((2 - s) * v) / 2;\r\n        if (l !== 0) {\r\n            if (l === 1) {\r\n                s = 0;\r\n            }\r\n            else if (l < 0.5) {\r\n                s = (s * v) / (l * 2);\r\n            }\r\n            else {\r\n                s = (s * v) / (2 - l * 2);\r\n            }\r\n        }\r\n        [this.hsla.s, this.hsla.l] = [Number(this.decimal.transform(s, '1.2-2')), Number(this.decimal.transform(l, '1.2-2'))];\r\n        this.setHslaPercent();\r\n        Object.assign(this.rgba, this.hslaToRgba(this.hsla));\r\n        this.hex = this.rgbaToHex(this.rgba);\r\n        this.setValue();\r\n    }\r\n    setHslaPercent() {\r\n        this.hsla.sp = this.hsla.s === 0 ? '0%' : this.percent.transform(this.hsla.s, '1.0-0');\r\n        this.hsla.lp = this.hsla.l === 0 ? '0%' : this.percent.transform(this.hsla.l, '1.0-0');\r\n    }\r\n    getPrimary() {\r\n        return getComputedStyle(this.doc.documentElement).getPropertyValue('--x-primary').trim();\r\n    }\r\n    hueChange() {\r\n        this.setPlateBackground();\r\n        Object.assign(this.rgba, this.hslaToRgba(this.hsla));\r\n        this.hex = this.rgbaToHex(this.rgba);\r\n        this.setValue();\r\n    }\r\n    setPlateBackground() {\r\n        this.renderer.setStyle(this.plateRef.nativeElement, 'background-color', `hsl(${this.hsla.h}, 100%, 50%)`);\r\n    }\r\n    setRailBackground() {\r\n        this.renderer.setStyle(this.transparentRail, 'background', `linear-gradient(to right, rgba(${this.rgba.r}, ${this.rgba.g}, ${this.rgba.b}, 0) 0%, rgba(${this.rgba.r}, ${this.rgba.g}, ${this.rgba.b}, 1) 100%)`);\r\n    }\r\n    transparentChange() {\r\n        Object.assign(this.rgba, this.hslaToRgba(this.hsla));\r\n        this.hex = this.rgbaToHex(this.rgba);\r\n        this.setValue();\r\n    }\r\n    setValue() {\r\n        this.setValueByType();\r\n        this.setRailBackground();\r\n        this.nodeEmit(this.value);\r\n        this.cdr.detectChanges();\r\n    }\r\n    setValueByType() {\r\n        if (this.type === 'hex') {\r\n            this.value = `${this.hex}`;\r\n        }\r\n        else if (this.type === 'rgba') {\r\n            this.value = `rgba(${this.rgba.r}, ${this.rgba.g}, ${this.rgba.b}, ${this.rgba.a})`;\r\n        }\r\n        else if (this.type === 'hsla') {\r\n            this.value = `hsla(${this.hsla.h}, ${this.hsla.sp}, ${this.hsla.lp}, ${this.hsla.a})`;\r\n        }\r\n    }\r\n    hslaToRgba(hsla) {\r\n        let r, g, b;\r\n        let [h, s, l] = [hsla.h, hsla.s, hsla.l];\r\n        if (s == 0) {\r\n            r = g = b = l;\r\n        }\r\n        else {\r\n            let hue2rgb = (p, q, t) => {\r\n                if (t < 0)\r\n                    t += 1;\r\n                if (t > 1)\r\n                    t -= 1;\r\n                if (t < 1 / 6)\r\n                    return p + (q - p) * 6 * t;\r\n                if (t < 1 / 2)\r\n                    return q;\r\n                if (t < 2 / 3)\r\n                    return p + (q - p) * (2 / 3 - t) * 6;\r\n                return p;\r\n            };\r\n            let q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n            let p = 2 * l - q;\r\n            r = hue2rgb(p, q, h / 360 + 1 / 3);\r\n            g = hue2rgb(p, q, h / 360);\r\n            b = hue2rgb(p, q, h / 360 - 1 / 3);\r\n        }\r\n        return { r: Math.round(r * 255), g: Math.round(g * 255), b: Math.round(b * 255), a: Number(hsla.a) };\r\n    }\r\n    rgbaToHex(rgba) {\r\n        let hex = [\r\n            rgba.r.toString(16),\r\n            rgba.g.toString(16),\r\n            rgba.b.toString(16),\r\n            Math.round(255 * rgba.a).toString(16)\r\n        ];\r\n        hex.forEach((x, index) => {\r\n            if (index === 3 && x === 'ff') {\r\n                hex[index] = '';\r\n            }\r\n            if (x.length === 1) {\r\n                hex[index] = '0' + x;\r\n            }\r\n        });\r\n        return `#${hex.join('')}`;\r\n    }\r\n    rgbaToHsla(rgba) {\r\n        let [r, g, b] = [rgba.r / 255, rgba.g / 255, rgba.b / 255];\r\n        let [max, min] = [Math.max(r, g, b), Math.min(r, g, b)];\r\n        let h = 0;\r\n        let s = 0;\r\n        let l = (max + min) / 2;\r\n        if (max === min) {\r\n            h = s = 0;\r\n        }\r\n        else {\r\n            let d = max - min;\r\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n            switch (max) {\r\n                case r:\r\n                    h = (g - b) / d + (g < b ? 6 : 0);\r\n                    break;\r\n                case g:\r\n                    h = (b - r) / d + 2;\r\n                    break;\r\n                case b:\r\n                    h = (r - g) / d + 4;\r\n                    break;\r\n            }\r\n            h /= 6;\r\n        }\r\n        return {\r\n            h: Math.round(h * 360),\r\n            s: Number(this.decimal.transform(s, '1.2-2')),\r\n            l: Number(this.decimal.transform(l, '1.2-2')),\r\n            a: Number(rgba.a)\r\n        };\r\n    }\r\n    hexToRgba(hex) {\r\n        let hexNum = hex.substring(1);\r\n        let a = 1;\r\n        if (hexNum.length === 8) {\r\n            a = Number(this.decimal.transform(Number('0x' + hexNum.slice(-2)) / 255, '1.2-2'));\r\n            hexNum = hexNum.substring(0, hexNum.length - 2);\r\n        }\r\n        let num = Number('0x' + (hexNum.length < 6 ? this.repeatLetter(hexNum, 2) : hexNum));\r\n        return { r: num >> 16, g: (num >> 8) & 0xff, b: num & 0xff, a: a };\r\n    }\r\n    hslToHsv(h, s, l) {\r\n        let hHsv, sHsv, v;\r\n        hHsv = h;\r\n        if (l == 0) {\r\n            sHsv = 0;\r\n            v = 0;\r\n        }\r\n        else if (l > 0 && l <= 0.5) {\r\n            sHsv = (2 * s) / (1 + s);\r\n            v = l * (1 + s);\r\n        }\r\n        else {\r\n            sHsv = (2 * s - 2 * s * l) / (s - s * l + l);\r\n            v = s - s * l + l;\r\n        }\r\n        return {\r\n            h: hHsv,\r\n            s: Number(this.decimal.transform(sHsv, '1.2-2')),\r\n            v: Number(this.decimal.transform(v, '1.2-2'))\r\n        };\r\n    }\r\n    repeatWord(word, num) {\r\n        let result = '';\r\n        for (let i = 0; i < num; i++) {\r\n            result += word;\r\n        }\r\n        return result;\r\n    }\r\n    repeatLetter(word, num) {\r\n        let result = '';\r\n        for (let letter of word) {\r\n            result += this.repeatWord(letter, num);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n/** @nocollapse */ XColorPickerPortalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XColorPickerPortalComponent, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }, { token: DOCUMENT }, { token: i0.NgZone }, { token: i0.ChangeDetectorRef }, { token: i1.DecimalPipe }, { token: i1.PercentPipe }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ XColorPickerPortalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.2\", type: XColorPickerPortalComponent, selector: \"x-color-picker-portal\", host: { listeners: { \"@x-connect-base-animation.done\": \"done($event)\", \"@x-connect-base-animation.start\": \"start($event)\" }, properties: { \"@x-connect-base-animation\": \"this.placement\" } }, providers: [DecimalPipe, PercentPipe], viewQueries: [{ propertyName: \"panelRef\", first: true, predicate: [\"panelRef\"], descendants: true, static: true }, { propertyName: \"plateRef\", first: true, predicate: [\"plateRef\"], descendants: true, static: true }, { propertyName: \"transparentCom\", first: true, predicate: [\"transparentCom\"], descendants: true, static: true }], ngImport: i0, template: \"<div class=\\\"x-color-picker-portal\\\" tabindex=\\\"-1\\\" (click)=\\\"stopPropagation($event)\\\">\\r\\n  <div #panelRef class=\\\"x-color-picker-portal-panel\\\">\\r\\n    <div #plateRef class=\\\"x-color-picker-portal-plate\\\" (click)=\\\"plateClick($event)\\\">\\r\\n      <div class=\\\"x-color-picker-portal-white\\\"></div>\\r\\n      <div class=\\\"x-color-picker-portal-black\\\"></div>\\r\\n      <div\\r\\n        #dragCom\\r\\n        class=\\\"x-color-picker-portal-cursor\\\"\\r\\n        [style.left.px]=\\\"transform.x\\\"\\r\\n        [style.top.px]=\\\"transform.y\\\"\\r\\n        cdkDrag\\r\\n        [cdkDragBoundary]=\\\"panelRef\\\"\\r\\n        (cdkDragStarted)=\\\"started()\\\"\\r\\n        (cdkDragEnded)=\\\"ended()\\\"\\r\\n        (cdkDragMoved)=\\\"moved($event)\\\"\\r\\n      ></div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"x-color-picker-portal-tool\\\">\\r\\n    <div class=\\\"x-color-picker-portal-operations\\\">\\r\\n      <!-- <x-button icon=\\\"fto-edit-2\\\" onlyIcon></x-button> -->\\r\\n      <div class=\\\"x-color-picker-portal-selected\\\">\\r\\n        <div [style.background-color]=\\\"value\\\"></div>\\r\\n      </div>\\r\\n      <div class=\\\"x-color-picker-portal-area\\\">\\r\\n        <div class=\\\"x-color-picker-portal-slider\\\">\\r\\n          <x-slider-select\\r\\n            [style.width.%]=\\\"100\\\"\\r\\n            [(ngModel)]=\\\"hsla.h\\\"\\r\\n            min=\\\"0\\\"\\r\\n            max=\\\"360\\\"\\r\\n            step=\\\"1\\\"\\r\\n            (dragStartEmit)=\\\"started()\\\"\\r\\n            (dragEndEmit)=\\\"ended()\\\"\\r\\n            (ngModelChange)=\\\"hueChange()\\\"\\r\\n          ></x-slider-select>\\r\\n        </div>\\r\\n        <div class=\\\"x-color-picker-portal-transparent\\\">\\r\\n          <x-slider-select\\r\\n            [style.width.%]=\\\"100\\\"\\r\\n            #transparentCom\\r\\n            [(ngModel)]=\\\"hsla.a\\\"\\r\\n            min=\\\"0\\\"\\r\\n            max=\\\"1\\\"\\r\\n            step=\\\"0.01\\\"\\r\\n            (dragStarted)=\\\"started()\\\"\\r\\n            (dragEnded)=\\\"ended()\\\"\\r\\n            (ngModelChange)=\\\"transparentChange()\\\"\\r\\n          ></x-slider-select>\\r\\n          <div class=\\\"x-color-picker-portal-alpha\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"x-color-picker-portal-type\\\">\\r\\n      <x-tabs animated=\\\"false\\\" justify=\\\"center\\\">\\r\\n        <x-tab label=\\\"HEX\\\">\\r\\n          <div class=\\\"x-color-picker-portal-type-content\\\">\\r\\n            <x-input [style.width.%]=\\\"100\\\" [(ngModel)]=\\\"hex\\\" (ngModelChange)=\\\"hexChange()\\\"></x-input>\\r\\n          </div>\\r\\n        </x-tab>\\r\\n        <x-tab label=\\\"RGBA\\\">\\r\\n          <div class=\\\"x-color-picker-portal-type-content\\\">\\r\\n            <x-input [(ngModel)]=\\\"rgba.r\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"rgba.g\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"rgba.b\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"rgba.a\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n          </div>\\r\\n        </x-tab>\\r\\n        <x-tab label=\\\"HSLA\\\">\\r\\n          <div class=\\\"x-color-picker-portal-type-content\\\">\\r\\n            <x-input [(ngModel)]=\\\"hsla.h\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"hsla.sp\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"hsla.lp\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"hsla.a\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n          </div>\\r\\n        </x-tab>\\r\\n      </x-tabs>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\"@charset \\\"UTF-8\\\";.x-color-picker-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);background-color:var(--x-background);width:15rem;overflow:hidden}.x-color-picker-portal:focus{outline:none}.x-color-picker-portal-panel{padding:.375rem;margin:-.375rem}.x-color-picker-portal-plate{width:100%;height:8rem;display:flex;border-radius:var(--x-border-radius);position:relative}.x-color-picker-portal-white,.x-color-picker-portal-black{position:absolute;top:0;left:0;right:0;bottom:0}.x-color-picker-portal-white{background:linear-gradient(90deg,#fff,hsla(0deg,0%,100%,0))}.x-color-picker-portal-black{background:linear-gradient(0deg,#000,transparent)}.x-color-picker-portal-cursor{position:absolute;width:.75rem;height:.75rem;display:inline-block;border-radius:50%;border:.0625rem solid var(--x-background-100)}.x-color-picker-portal-tool{padding:.4rem}.x-color-picker-portal-operations{display:flex;align-items:center;padding:.4rem 0}.x-color-picker-portal-selected{margin-left:.4rem;width:2rem;height:2rem;border-radius:2rem;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.x-color-picker-portal-selected>div{width:2rem;height:2rem;border-radius:2rem}.x-color-picker-portal-area{margin-left:.4rem;position:relative;flex:1}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{height:.75rem}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-track>.x-slider-select-process{background-color:transparent}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-drags>.x-slider-select-drag>.x-slider-select-button{border-color:var(--x-border);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color)}.x-color-picker-portal-slider{position:relative;width:100%}.x-color-picker-portal-slider .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.x-color-picker-portal-transparent{margin-top:.4rem;position:relative;width:100%}.x-color-picker-portal-transparent .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.x-color-picker-portal-transparent .x-slider-select>.x-slider-select-inner>.x-slider-select-rail:after{content:\\\"\\\";height:100%;display:block}.x-color-picker-portal-type{height:5rem}.x-color-picker-portal-type .x-tabs .x-tabs-list{display:flex;justify-content:center}.x-color-picker-portal-type-content{padding:.8rem .4rem;display:flex}.x-color-picker-portal-type-content .x-input .x-input-row input{text-align:center}\\n\"], dependencies: [{ kind: \"directive\", type: i3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"directive\", type: i3$1.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragData\", \"cdkDragLockAxis\", \"cdkDragRootElement\", \"cdkDragBoundary\", \"cdkDragStartDelay\", \"cdkDragFreeDragPosition\", \"cdkDragDisabled\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragPreviewContainer\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { kind: \"component\", type: i4.XSliderSelectComponent, selector: \"x-slider-select\" }, { kind: \"component\", type: i5.XTabsComponent, selector: \"x-tabs\" }, { kind: \"component\", type: i5.XTabComponent, selector: \"x-tab\" }, { kind: \"component\", type: i6.XInputComponent, selector: \"x-input\" }], animations: [XConnectBaseAnimation], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XColorPickerPortalComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: `${XColorPickerPortalPrefix}`, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, providers: [DecimalPipe, PercentPipe], animations: [XConnectBaseAnimation], template: \"<div class=\\\"x-color-picker-portal\\\" tabindex=\\\"-1\\\" (click)=\\\"stopPropagation($event)\\\">\\r\\n  <div #panelRef class=\\\"x-color-picker-portal-panel\\\">\\r\\n    <div #plateRef class=\\\"x-color-picker-portal-plate\\\" (click)=\\\"plateClick($event)\\\">\\r\\n      <div class=\\\"x-color-picker-portal-white\\\"></div>\\r\\n      <div class=\\\"x-color-picker-portal-black\\\"></div>\\r\\n      <div\\r\\n        #dragCom\\r\\n        class=\\\"x-color-picker-portal-cursor\\\"\\r\\n        [style.left.px]=\\\"transform.x\\\"\\r\\n        [style.top.px]=\\\"transform.y\\\"\\r\\n        cdkDrag\\r\\n        [cdkDragBoundary]=\\\"panelRef\\\"\\r\\n        (cdkDragStarted)=\\\"started()\\\"\\r\\n        (cdkDragEnded)=\\\"ended()\\\"\\r\\n        (cdkDragMoved)=\\\"moved($event)\\\"\\r\\n      ></div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"x-color-picker-portal-tool\\\">\\r\\n    <div class=\\\"x-color-picker-portal-operations\\\">\\r\\n      <!-- <x-button icon=\\\"fto-edit-2\\\" onlyIcon></x-button> -->\\r\\n      <div class=\\\"x-color-picker-portal-selected\\\">\\r\\n        <div [style.background-color]=\\\"value\\\"></div>\\r\\n      </div>\\r\\n      <div class=\\\"x-color-picker-portal-area\\\">\\r\\n        <div class=\\\"x-color-picker-portal-slider\\\">\\r\\n          <x-slider-select\\r\\n            [style.width.%]=\\\"100\\\"\\r\\n            [(ngModel)]=\\\"hsla.h\\\"\\r\\n            min=\\\"0\\\"\\r\\n            max=\\\"360\\\"\\r\\n            step=\\\"1\\\"\\r\\n            (dragStartEmit)=\\\"started()\\\"\\r\\n            (dragEndEmit)=\\\"ended()\\\"\\r\\n            (ngModelChange)=\\\"hueChange()\\\"\\r\\n          ></x-slider-select>\\r\\n        </div>\\r\\n        <div class=\\\"x-color-picker-portal-transparent\\\">\\r\\n          <x-slider-select\\r\\n            [style.width.%]=\\\"100\\\"\\r\\n            #transparentCom\\r\\n            [(ngModel)]=\\\"hsla.a\\\"\\r\\n            min=\\\"0\\\"\\r\\n            max=\\\"1\\\"\\r\\n            step=\\\"0.01\\\"\\r\\n            (dragStarted)=\\\"started()\\\"\\r\\n            (dragEnded)=\\\"ended()\\\"\\r\\n            (ngModelChange)=\\\"transparentChange()\\\"\\r\\n          ></x-slider-select>\\r\\n          <div class=\\\"x-color-picker-portal-alpha\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"x-color-picker-portal-type\\\">\\r\\n      <x-tabs animated=\\\"false\\\" justify=\\\"center\\\">\\r\\n        <x-tab label=\\\"HEX\\\">\\r\\n          <div class=\\\"x-color-picker-portal-type-content\\\">\\r\\n            <x-input [style.width.%]=\\\"100\\\" [(ngModel)]=\\\"hex\\\" (ngModelChange)=\\\"hexChange()\\\"></x-input>\\r\\n          </div>\\r\\n        </x-tab>\\r\\n        <x-tab label=\\\"RGBA\\\">\\r\\n          <div class=\\\"x-color-picker-portal-type-content\\\">\\r\\n            <x-input [(ngModel)]=\\\"rgba.r\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"rgba.g\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"rgba.b\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"rgba.a\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n          </div>\\r\\n        </x-tab>\\r\\n        <x-tab label=\\\"HSLA\\\">\\r\\n          <div class=\\\"x-color-picker-portal-type-content\\\">\\r\\n            <x-input [(ngModel)]=\\\"hsla.h\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"hsla.sp\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"hsla.lp\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n            <x-input [(ngModel)]=\\\"hsla.a\\\" [disabled]=\\\"true\\\"></x-input>\\r\\n          </div>\\r\\n        </x-tab>\\r\\n      </x-tabs>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\"@charset \\\"UTF-8\\\";.x-color-picker-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);background-color:var(--x-background);width:15rem;overflow:hidden}.x-color-picker-portal:focus{outline:none}.x-color-picker-portal-panel{padding:.375rem;margin:-.375rem}.x-color-picker-portal-plate{width:100%;height:8rem;display:flex;border-radius:var(--x-border-radius);position:relative}.x-color-picker-portal-white,.x-color-picker-portal-black{position:absolute;top:0;left:0;right:0;bottom:0}.x-color-picker-portal-white{background:linear-gradient(90deg,#fff,hsla(0deg,0%,100%,0))}.x-color-picker-portal-black{background:linear-gradient(0deg,#000,transparent)}.x-color-picker-portal-cursor{position:absolute;width:.75rem;height:.75rem;display:inline-block;border-radius:50%;border:.0625rem solid var(--x-background-100)}.x-color-picker-portal-tool{padding:.4rem}.x-color-picker-portal-operations{display:flex;align-items:center;padding:.4rem 0}.x-color-picker-portal-selected{margin-left:.4rem;width:2rem;height:2rem;border-radius:2rem;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.x-color-picker-portal-selected>div{width:2rem;height:2rem;border-radius:2rem}.x-color-picker-portal-area{margin-left:.4rem;position:relative;flex:1}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{height:.75rem}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-track>.x-slider-select-process{background-color:transparent}.x-color-picker-portal-area .x-slider-select>.x-slider-select-inner>.x-slider-select-drags>.x-slider-select-drag>.x-slider-select-button{border-color:var(--x-border);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color)}.x-color-picker-portal-slider{position:relative;width:100%}.x-color-picker-portal-slider .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.x-color-picker-portal-transparent{margin-top:.4rem;position:relative;width:100%}.x-color-picker-portal-transparent .x-slider-select>.x-slider-select-inner>.x-slider-select-rail{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.x-color-picker-portal-transparent .x-slider-select>.x-slider-select-inner>.x-slider-select-rail:after{content:\\\"\\\";height:100%;display:block}.x-color-picker-portal-type{height:5rem}.x-color-picker-portal-type .x-tabs .x-tabs-list{display:flex;justify-content:center}.x-color-picker-portal-type-content{padding:.8rem .4rem;display:flex}.x-color-picker-portal-type-content .x-input .x-input-row input{text-align:center}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }, { type: undefined, decorators: [{\r\n                    type: Inject,\r\n                    args: [DOCUMENT]\r\n                }] }, { type: i0.NgZone }, { type: i0.ChangeDetectorRef }, { type: i1.DecimalPipe }, { type: i1.PercentPipe }]; }, propDecorators: { placement: [{\r\n                type: HostBinding,\r\n                args: ['@x-connect-base-animation']\r\n            }], done: [{\r\n                type: HostListener,\r\n                args: ['@x-connect-base-animation.done', ['$event']]\r\n            }], start: [{\r\n                type: HostListener,\r\n                args: ['@x-connect-base-animation.start', ['$event']]\r\n            }], panelRef: [{\r\n                type: ViewChild,\r\n                args: ['panelRef', { static: true }]\r\n            }], plateRef: [{\r\n                type: ViewChild,\r\n                args: ['plateRef', { static: true }]\r\n            }], transparentCom: [{\r\n                type: ViewChild,\r\n                args: ['transparentCom', { static: true }]\r\n            }] } });\n\nclass XColorPickerComponent extends XColorPickerProperty {\r\n    constructor(renderer, cdr, portalService, viewContainerRef, overlay) {\r\n        super();\r\n        this.renderer = renderer;\r\n        this.cdr = cdr;\r\n        this.portalService = portalService;\r\n        this.viewContainerRef = viewContainerRef;\r\n        this.overlay = overlay;\r\n        this.readonly = true;\r\n        this.clearable = false;\r\n        this.enter = false;\r\n        this.animating = false;\r\n        this.displayValue = '';\r\n        this.valueStyle = {};\r\n        this.icon = 'fto-chevron-down';\r\n        this.maxNodes = 6;\r\n        this.protalTobottom = true;\r\n        this.valueChange = new Subject();\r\n        this.dataChange = new Subject();\r\n        this.positionChange = new Subject();\r\n        this.closeSubject = new Subject();\r\n        this._unSubject = new Subject();\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n        this.displayValue = value;\r\n        this.valueChange.next(this.value);\r\n        this.cdr.detectChanges();\r\n    }\r\n    get inputStyle() {\r\n        return {\r\n            backgroundColor: this.value,\r\n            color: 'transparent'\r\n        };\r\n    }\r\n    ngOnInit() {\r\n        this.setFlex(this.colorPicker.nativeElement, this.renderer, this.justify, this.align, this.direction);\r\n        this.setClassMap();\r\n        this.setSubject();\r\n    }\r\n    ngAfterViewInit() {\r\n        this.setPortal();\r\n        // this.setValueStyle();\r\n    }\r\n    ngOnDestroy() {\r\n        this._unSubject.next();\r\n        this._unSubject.unsubscribe();\r\n    }\r\n    setSubject() {\r\n        this.closeSubject.pipe(takeUntil(this._unSubject)).subscribe(() => {\r\n            this.closePortal();\r\n        });\r\n    }\r\n    setValueStyle() {\r\n        this.valueStyle = {\r\n            width: `${this.inputCom.inputRef.nativeElement.clientWidth}px`,\r\n            height: `${this.inputCom.inputRef.nativeElement.clientHeight}px`\r\n        };\r\n        if (this.direction === 'column') {\r\n            this.valueStyle['bottom'] = 0;\r\n        }\r\n        if (this.direction === 'row') {\r\n            this.valueStyle['bottom'] = 0;\r\n        }\r\n    }\r\n    menter() {\r\n        if (this.disabled)\r\n            return;\r\n        this.enter = true;\r\n        if (!XIsEmpty(this.value)) {\r\n            this.icon = '';\r\n            this.clearable = true;\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n    mleave() {\r\n        if (this.disabled)\r\n            return;\r\n        this.enter = false;\r\n        if (this.clearable) {\r\n            this.icon = 'fto-chevron-down';\r\n            this.clearable = false;\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n    clearEmit() {\r\n        this.value = '';\r\n        this.displayValue = '';\r\n        this.mleave();\r\n        this.valueChange.next(this.value);\r\n        if (this.onChange)\r\n            this.onChange(this.value);\r\n    }\r\n    portalAttached() {\r\n        return this.portal?.overlayRef?.hasAttached();\r\n    }\r\n    closePortal() {\r\n        if (this.portalAttached()) {\r\n            this.portal?.overlayRef?.detach();\r\n            this.active = false;\r\n            this.cdr.detectChanges();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    destroyPortal() {\r\n        this.portal?.overlayRef?.dispose();\r\n    }\r\n    showPortal() {\r\n        if (this.disabled || this.animating)\r\n            return;\r\n        this.active = true;\r\n        const config = {\r\n            backdropClass: '',\r\n            positionStrategy: this.setPlacement(),\r\n            scrollStrategy: this.overlay.scrollStrategies.reposition()\r\n        };\r\n        this.setPosition(config);\r\n        this.portal = this.portalService.attach({\r\n            content: XColorPickerPortalComponent,\r\n            viewContainerRef: this.viewContainerRef,\r\n            overlayConfig: config\r\n        });\r\n        this.portal.overlayRef\r\n            ?.outsidePointerEvents()\r\n            .pipe(takeUntil(this._unSubject))\r\n            .subscribe(() => {\r\n            this.closeSubject.next();\r\n        });\r\n        this.setInstance();\r\n    }\r\n    setPosition(config) {\r\n        let position = config.positionStrategy;\r\n        position.positionChanges.pipe(takeUntil(this._unSubject)).subscribe((pos) => {\r\n            const place = XPortalConnectedPosition.get(pos.connectionPair);\r\n            place !== this.placement && this.positionChange.next(place);\r\n        });\r\n    }\r\n    setInstance() {\r\n        let componentRef = this.portal?.componentRef;\r\n        if (!componentRef)\r\n            return;\r\n        Object.assign(componentRef.instance, {\r\n            value: this.value,\r\n            placement: this.placement,\r\n            valueChange: this.valueChange,\r\n            positionChange: this.positionChange,\r\n            inputCom: this.inputCom,\r\n            closePortal: () => this.closeSubject.next(),\r\n            destroyPortal: () => this.destroyPortal(),\r\n            nodeEmit: (color) => this.onNodeClick(color),\r\n            animating: (ing) => (this.animating = ing)\r\n        });\r\n        componentRef.changeDetectorRef.detectChanges();\r\n    }\r\n    onNodeClick(color) {\r\n        this.value = color;\r\n        this.displayValue = color;\r\n        this.inputCom.inputFocus();\r\n        if (this.onChange)\r\n            this.onChange(this.value);\r\n        this.formControlValidator();\r\n        this.cdr.detectChanges();\r\n    }\r\n    setPlacement() {\r\n        return this.portalService.setPlacement({\r\n            elementRef: this.inputCom.inputRef,\r\n            placement: [this.placement, 'bottom-start', 'bottom-end', 'top-start', 'top-end'],\r\n            transformOriginOn: 'x-color-picker-portal'\r\n        });\r\n    }\r\n    setPortal() {\r\n        this.portalAttached() && this.portal?.overlayRef?.updatePositionStrategy(this.setPlacement());\r\n    }\r\n    setClassMap() {\r\n        XClearClass(this.labelMap);\r\n        this.labelMap[`x-text-align-${this.labelAlign}`] = this.labelAlign ? true : false;\r\n    }\r\n    formControlChanges() {\r\n        this.ngOnInit();\r\n        this.cdr.detectChanges();\r\n    }\r\n}\r\n/** @nocollapse */ XColorPickerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XColorPickerComponent, deps: [{ token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: i1$1.XPortalService }, { token: i0.ViewContainerRef }, { token: i2.Overlay }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ XColorPickerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.2\", type: XColorPickerComponent, selector: \"x-color-picker\", providers: [XValueAccessor(XColorPickerComponent)], viewQueries: [{ propertyName: \"colorPicker\", first: true, predicate: [\"colorPicker\"], descendants: true, static: true }, { propertyName: \"inputCom\", first: true, predicate: [\"inputCom\"], descendants: true, static: true }], usesInheritance: true, ngImport: i0, template: \"<div #colorPicker class=\\\"x-color-picker\\\">\\r\\n  <div class=\\\"x-color-picker-row\\\">\\r\\n    <x-input\\r\\n      #inputCom\\r\\n      type=\\\"text\\\"\\r\\n      [label]=\\\"label\\\"\\r\\n      [labelWidth]=\\\"labelWidth\\\"\\r\\n      [labelAlign]=\\\"labelAlign\\\"\\r\\n      [justify]=\\\"justify\\\"\\r\\n      [align]=\\\"align\\\"\\r\\n      [direction]=\\\"direction\\\"\\r\\n      [disabled]=\\\"disabled\\\"\\r\\n      [required]=\\\"required\\\"\\r\\n      [validator]=\\\"validator\\\"\\r\\n      [icon]=\\\"icon\\\"\\r\\n      [placeholder]=\\\"placeholder\\\"\\r\\n      [readonly]=\\\"readonly\\\"\\r\\n      [clearable]=\\\"clearable\\\"\\r\\n      [(ngModel)]=\\\"displayValue\\\"\\r\\n      [valueTpl]=\\\"valueTpl\\\"\\r\\n      [valueTplContext]=\\\"valueTplContext\\\"\\r\\n      [size]=\\\"size\\\"\\r\\n      [bordered]=\\\"bordered\\\"\\r\\n      [before]=\\\"before\\\"\\r\\n      [after]=\\\"after\\\"\\r\\n      [pattern]=\\\"pattern\\\"\\r\\n      [message]=\\\"message\\\"\\r\\n      [inputStyle]=\\\"inputStyle\\\"\\r\\n      [pointer]=\\\"true\\\"\\r\\n      [(active)]=\\\"active\\\"\\r\\n      (clearEmit)=\\\"clearEmit()\\\"\\r\\n      (xClick)=\\\"showPortal()\\\"\\r\\n      (xMouseenter)=\\\"menter()\\\"\\r\\n      (xMouseleave)=\\\"mleave()\\\"\\r\\n    ></x-input>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\"@charset \\\"UTF-8\\\";x-color-picker{display:inline-block;width:12rem}.x-color-picker{margin:0;padding:0;width:100%}.x-color-picker x-input{width:100%}\\n\"], dependencies: [{ kind: \"directive\", type: i3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { kind: \"directive\", type: i3.PatternValidator, selector: \"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]\", inputs: [\"pattern\"] }, { kind: \"directive\", type: i3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"component\", type: i6.XInputComponent, selector: \"x-input\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XColorPickerComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'x-color-picker', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, providers: [XValueAccessor(XColorPickerComponent)], template: \"<div #colorPicker class=\\\"x-color-picker\\\">\\r\\n  <div class=\\\"x-color-picker-row\\\">\\r\\n    <x-input\\r\\n      #inputCom\\r\\n      type=\\\"text\\\"\\r\\n      [label]=\\\"label\\\"\\r\\n      [labelWidth]=\\\"labelWidth\\\"\\r\\n      [labelAlign]=\\\"labelAlign\\\"\\r\\n      [justify]=\\\"justify\\\"\\r\\n      [align]=\\\"align\\\"\\r\\n      [direction]=\\\"direction\\\"\\r\\n      [disabled]=\\\"disabled\\\"\\r\\n      [required]=\\\"required\\\"\\r\\n      [validator]=\\\"validator\\\"\\r\\n      [icon]=\\\"icon\\\"\\r\\n      [placeholder]=\\\"placeholder\\\"\\r\\n      [readonly]=\\\"readonly\\\"\\r\\n      [clearable]=\\\"clearable\\\"\\r\\n      [(ngModel)]=\\\"displayValue\\\"\\r\\n      [valueTpl]=\\\"valueTpl\\\"\\r\\n      [valueTplContext]=\\\"valueTplContext\\\"\\r\\n      [size]=\\\"size\\\"\\r\\n      [bordered]=\\\"bordered\\\"\\r\\n      [before]=\\\"before\\\"\\r\\n      [after]=\\\"after\\\"\\r\\n      [pattern]=\\\"pattern\\\"\\r\\n      [message]=\\\"message\\\"\\r\\n      [inputStyle]=\\\"inputStyle\\\"\\r\\n      [pointer]=\\\"true\\\"\\r\\n      [(active)]=\\\"active\\\"\\r\\n      (clearEmit)=\\\"clearEmit()\\\"\\r\\n      (xClick)=\\\"showPortal()\\\"\\r\\n      (xMouseenter)=\\\"menter()\\\"\\r\\n      (xMouseleave)=\\\"mleave()\\\"\\r\\n    ></x-input>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\"@charset \\\"UTF-8\\\";x-color-picker{display:inline-block;width:12rem}.x-color-picker{margin:0;padding:0;width:100%}.x-color-picker x-input{width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i1$1.XPortalService }, { type: i0.ViewContainerRef }, { type: i2.Overlay }]; }, propDecorators: { colorPicker: [{\r\n                type: ViewChild,\r\n                args: ['colorPicker', { static: true }]\r\n            }], inputCom: [{\r\n                type: ViewChild,\r\n                args: ['inputCom', { static: true }]\r\n            }] } });\n\nclass XColorPickerModule {\r\n}\r\n/** @nocollapse */ XColorPickerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XColorPickerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ XColorPickerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.2\", ngImport: i0, type: XColorPickerModule, declarations: [XColorPickerComponent, XColorPickerPortalComponent, XColorPickerProperty], imports: [CommonModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        DragDropModule,\r\n        XPortalModule,\r\n        XSliderSelectModule,\r\n        XTabsModule,\r\n        XInputModule,\r\n        XBaseFormModule], exports: [XColorPickerComponent, XColorPickerPortalComponent] });\r\n/** @nocollapse */ XColorPickerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XColorPickerModule, imports: [CommonModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        DragDropModule,\r\n        XPortalModule,\r\n        XSliderSelectModule,\r\n        XTabsModule,\r\n        XInputModule,\r\n        XBaseFormModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XColorPickerModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [XColorPickerComponent, XColorPickerPortalComponent, XColorPickerProperty],\r\n                    exports: [XColorPickerComponent, XColorPickerPortalComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        DragDropModule,\r\n                        XPortalModule,\r\n                        XSliderSelectModule,\r\n                        XTabsModule,\r\n                        XInputModule,\r\n                        XBaseFormModule\r\n                    ]\r\n                }]\r\n        }] });\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { XColorPickerComponent, XColorPickerModule, XColorPickerPortalComponent, XColorPickerPortalPrefix, XColorPickerPrefix, XColorPickerProperty };\n"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,SAASC,SAAT,EAAoBC,KAApB,EAA2BC,iBAA3B,EAA8CC,uBAA9C,EAAuEC,MAAvE,EAA+EC,WAA/E,EAA4FC,YAA5F,EAA0GC,SAA1G,EAAqHC,QAArH,QAAqI,eAArI;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,WAAT,EAAsBC,aAAtB,EAAqCC,QAArC,EAA+CC,qBAA/C,EAAsEC,WAAtE,QAAyF,kBAAzF;AACA,SAASC,qBAAT,EAAgCC,cAAhC,EAAgDC,eAAhD,QAAuE,uBAAvE;AACA,SAASC,OAAT,QAAwB,MAAxB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,WAAhC,EAA6CC,YAA7C,QAAiE,iBAAjE;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;AACA,SAASC,WAAT,EAAsBC,mBAAtB,QAAiD,gBAAjD;AACA,OAAO,KAAKC,IAAZ,MAAsB,wBAAtB;AACA,SAASC,cAAT,QAA+B,wBAA/B;AACA,OAAO,KAAKC,EAAZ,MAAoB,2BAApB;AACA,SAASC,mBAAT,QAAoC,2BAApC;AACA,OAAO,KAAKC,EAAZ,MAAoB,kBAApB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAO,KAAKC,EAAZ,MAAoB,mBAApB;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,OAAO,KAAKC,IAAZ,MAAsB,oBAAtB;AACA,SAASC,wBAAT,EAAmCC,aAAnC,QAAwD,oBAAxD;AACA,OAAO,KAAKC,EAAZ,MAAoB,sBAApB;AAEA;AACA;AACA;AACA;AACA;;;;;;;AACA,MAAMC,kBAAkB,GAAG,gBAA3B;AACA,MAAMC,aAAa,GAAG,aAAtB;AACA;AACA;AACA;;AACA,MAAMC,oBAAN,SAAmC3B,qBAAnC,CAAyD;AAEzD;;;AAAmB2B,oBAAoB,CAACC,IAArB;EAAA;EAAA;IAAA,kFAAuG5C,EAAvG,uBAAiH2C,oBAAjH,SAAiHA,oBAAjH;EAAA;AAAA;AACnB;;;AAAmBA,oBAAoB,CAACE,IAArB,kBADuG7C,EACvG;EAAA,MAAqG2C,oBAArG;EAAA;EAAA;IAAA;IAAA;IAAA;EAAA;EAAA,WADuG3C,EACvG;EAAA;EAAA;EAAA;EAAA;AAAA;;AACnBU,UAAU,CAAC,CACPC,WAAW,CAAC+B,aAAD,EAAgB,cAAhB,CADJ,CAAD,EAEPC,oBAAoB,CAACG,SAFd,EAEyB,WAFzB,EAEsC,KAAK,CAF3C,CAAV;;AAGApC,UAAU,CAAC,CACPC,WAAW,CAAC+B,aAAD,EAAgB,QAAhB,CADJ,CAAD,EAEPC,oBAAoB,CAACG,SAFd,EAEyB,MAFzB,EAEiC,KAAK,CAFtC,CAAV;;AAGApC,UAAU,CAAC,CACPE,aAAa,EADN,EAEPD,WAAW,CAAC+B,aAAD,EAAgB,IAAhB,CAFJ,CAAD,EAGPC,oBAAoB,CAACG,SAHd,EAGyB,UAHzB,EAGqC,KAAK,CAH1C,CAAV;;AAIA;EAAA,mDAZ0H9C,EAY1H,mBAA2F2C,oBAA3F,EAA6H,CAAC;IAClHI,IAAI,EAAE9C,SAD4G;IAElH+C,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE;IAAZ,CAAD;EAF4G,CAAD,CAA7H,QAG4B;IAAEC,SAAS,EAAE,CAAC;MAC1BH,IAAI,EAAE7C;IADoB,CAAD,CAAb;IAEZiD,IAAI,EAAE,CAAC;MACPJ,IAAI,EAAE7C;IADC,CAAD,CAFM;IAIZkD,QAAQ,EAAE,CAAC;MACXL,IAAI,EAAE7C;IADK,CAAD;EAJE,CAH5B;AAAA;AAUA;AACA;AACA;AACA;AACA;;;AACA,MAAMmD,wBAAwB,GAAG,uBAAjC;;AAEA,MAAMC,2BAAN,CAAkC;EAC9BC,WAAW,CAACC,UAAD,EAAaC,QAAb,EAAuBC,GAAvB,EAA4BC,MAA5B,EAAoCC,GAApC,EAAyCC,OAAzC,EAAkDC,OAAlD,EAA2D;IAClE,KAAKN,UAAL,GAAkBA,UAAlB;IACA,KAAKC,QAAL,GAAgBA,QAAhB;IACA,KAAKC,GAAL,GAAWA,GAAX;IACA,KAAKC,MAAL,GAAcA,MAAd;IACA,KAAKC,GAAL,GAAWA,GAAX;IACA,KAAKC,OAAL,GAAeA,OAAf;IACA,KAAKC,OAAL,GAAeA,OAAf;IACA,KAAKC,cAAL,GAAsB,CAAtB;IACA,KAAKC,MAAL,GAAc,CAAd;IACA,KAAKC,SAAL,GAAiB;MAAEC,CAAC,EAAE,CAAL;MAAQC,CAAC,EAAE;IAAX,CAAjB;IACA,KAAKC,aAAL,GAAqB;MAAEF,CAAC,EAAE,CAAL;MAAQC,CAAC,EAAE;IAAX,CAArB;IACA,KAAKE,IAAL,GAAY,KAAZ;IACA,KAAKC,IAAL,GAAY;MAAEC,CAAC,EAAE;IAAL,CAAZ;IACA,KAAKC,IAAL,GAAY;MAAEC,CAAC,EAAE,CAAL;MAAQF,CAAC,EAAE;IAAX,CAAZ;IACA,KAAKG,UAAL,GAAkB,IAAIvD,OAAJ,EAAlB;EACH;;EACDwD,IAAI,CAACC,KAAD,EAAQ;IACR,KAAKC,SAAL,CAAe,KAAf;IACAD,KAAK,CAACE,OAAN,KAAkB,MAAlB,IAA4B,KAAKC,aAAL,EAA5B;EACH;;EACDC,KAAK,GAAG;IACJ,KAAKH,SAAL,CAAe,IAAf;EACH;;EACDI,QAAQ,GAAG;IACP,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB1D,SAAS,CAAC,KAAKiD,UAAN,CAA/B,EAAkDU,SAAlD,CAA6DlB,CAAD,IAAO;MAC/D,KAAKmB,KAAL,GAAanB,CAAb;MACA,KAAKoB,IAAL;MACA,KAAK1B,GAAL,CAAS2B,aAAT;IACH,CAJD;IAKA,KAAKC,cAAL,CAAoBL,IAApB,CAAyB1D,SAAS,CAAC,KAAKiD,UAAN,CAAlC,EAAqDU,SAArD,CAAgElB,CAAD,IAAO;MAClE,KAAKhB,SAAL,GAAiBgB,CAAjB;MACA,KAAKN,GAAL,CAAS2B,aAAT;IACH,CAHD;IAIA,KAAKD,IAAL;EACH;;EACDG,WAAW,GAAG;IACV,KAAKf,UAAL,CAAgBgB,IAAhB;;IACA,KAAKhB,UAAL,CAAgBiB,WAAhB;EACH;;EACDC,eAAe,GAAG;IACd,KAAKC,KAAL,GAAa,KAAKC,QAAL,CAAcC,aAAd,CAA4BC,qBAA5B,EAAb;IACA,KAAKC,KAAL,GAAa,KAAKC,QAAL,CAAcH,aAAd,CAA4BC,qBAA5B,EAAb;IACA,KAAKhC,MAAL,GAAc,CAAC,KAAK6B,KAAL,CAAWM,KAAX,GAAmB,KAAKF,KAAL,CAAWE,KAA/B,IAAwC,CAAtD;IACA,KAAKC,eAAL,GAAuB,KAAKC,cAAL,CAAoB7C,UAApB,CAA+BuC,aAA/B,CAA6CO,aAA7C,CAA2D,2BAA3D,CAAvB;IACA,KAAKC,YAAL;IACA,KAAKC,kBAAL;IACA,KAAKC,iBAAL;IACA,KAAK7C,GAAL,CAAS2B,aAAT;EACH;;EACDmB,SAAS,GAAG;IACR,IAAI,KAAKrC,IAAL,IAAa,CAAC,oBAAoBsC,IAApB,CAAyB,KAAKC,GAA9B,CAAlB,EACI;IACJ,KAAKtC,IAAL,GAAY,KAAKuC,SAAL,CAAe,KAAKD,GAApB,CAAZ;IACA,KAAKpC,IAAL,GAAY,KAAKsC,UAAL,CAAgB,KAAKxC,IAArB,CAAZ;IACA,KAAKyC,cAAL;IACA,KAAKR,YAAL;IACA,KAAKC,kBAAL;IACA,KAAKQ,QAAL;EACH;;EACDC,UAAU,GAAG,CAAG;;EAChB3B,IAAI,GAAG;IACH,IAAI,CAACzE,QAAQ,CAAC,KAAKwE,KAAN,CAAb,EAA2B;MACvB,KAAKA,KAAL,GAAa,KAAKA,KAAlB;IACH,CAFD,MAGK;MACD,KAAKA,KAAL,GAAa,KAAK6B,UAAL,EAAb;IACH;;IACD,KAAKC,YAAL;EACH;;EACDC,eAAe,CAACxC,KAAD,EAAQ;IACnBA,KAAK,CAACwC,eAAN;EACH;;EACDC,UAAU,GAAG,CAAG;;EAChBF,YAAY,GAAG;IACX,IAAI,KAAKR,IAAL,CAAU,KAAKtB,KAAf,CAAJ,EAA2B;MACvB,KAAKuB,GAAL,GAAW,KAAKvB,KAAhB;MACA,KAAKf,IAAL,GAAY,KAAKuC,SAAL,CAAe,KAAKD,GAApB,CAAZ;MACA,KAAKpC,IAAL,GAAY,KAAKsC,UAAL,CAAgB,KAAKxC,IAArB,CAAZ;MACA,KAAKyC,cAAL;MACA,KAAKhE,IAAL,GAAY,KAAZ;IACH,CAND,MAOK,IAAI,MAAM4D,IAAN,CAAW,KAAKtB,KAAhB,CAAJ,EAA4B;MAC7B,KAAKiC,WAAL,CAAiB,KAAKjC,KAAtB;MACA,KAAKuB,GAAL,GAAW,KAAKW,SAAL,CAAe,KAAKjD,IAApB,CAAX;MACA,KAAKE,IAAL,GAAY,KAAKsC,UAAL,CAAgB,KAAKxC,IAArB,CAAZ;MACA,KAAKyC,cAAL;MACA,KAAKhE,IAAL,GAAY,MAAZ;IACH,CANI,MAOA,IAAI,MAAM4D,IAAN,CAAW,KAAKtB,KAAhB,CAAJ,EAA4B;MAC7B,KAAKmC,WAAL,CAAiB,KAAKnC,KAAtB;MACA,KAAKf,IAAL,GAAY,KAAKmD,UAAL,CAAgB,KAAKjD,IAArB,CAAZ;MACA,KAAKoC,GAAL,GAAW,KAAKW,SAAL,CAAe,KAAKjD,IAApB,CAAX;MACA,KAAKvB,IAAL,GAAY,MAAZ;IACH;EACJ;;EACDuE,WAAW,CAACI,GAAD,EAAM;IACb,IAAIpD,IAAI,GAAGoD,GAAG,CACTC,OADM,CACE,SADF,EACa,EADb,EAENA,OAFM,CAEE,QAFF,EAEY,EAFZ,EAGNA,OAHM,CAGE,IAHF,EAGQ,EAHR,EAINA,OAJM,CAIE,QAJF,EAIY,EAJZ,EAKNC,KALM,CAKA,GALA,CAAX;;IAMA,IAAItD,IAAI,CAACuD,MAAL,GAAc,CAAlB,EAAqB;MACjB,KAAKvD,IAAL,GAAY;QACRwD,CAAC,EAAEC,MAAM,CAACzD,IAAI,CAAC,CAAD,CAAL,CADD;QAER0D,CAAC,EAAED,MAAM,CAACzD,IAAI,CAAC,CAAD,CAAL,CAFD;QAGR2D,CAAC,EAAEF,MAAM,CAACzD,IAAI,CAAC,CAAD,CAAL,CAHD;QAIRC,CAAC,EAAEwD,MAAM,CAACzD,IAAI,CAACuD,MAAL,GAAc,CAAd,GAAkBvD,IAAI,CAAC,CAAD,CAAtB,GAA4B,CAA7B;MAJD,CAAZ;IAMH;EACJ;;EACDkD,WAAW,CAACE,GAAD,EAAM;IACb,IAAIlD,IAAI,GAAGkD,GAAG,CACTC,OADM,CACE,SADF,EACa,EADb,EAENA,OAFM,CAEE,QAFF,EAEY,EAFZ,EAGNA,OAHM,CAGE,IAHF,EAGQ,EAHR,EAINA,OAJM,CAIE,QAJF,EAIY,EAJZ,EAKNC,KALM,CAKA,GALA,CAAX;;IAMA,IAAIpD,IAAI,CAACqD,MAAL,GAAc,CAAlB,EAAqB;MACjB,KAAKrD,IAAL,GAAY;QACRC,CAAC,EAAEsD,MAAM,CAACvD,IAAI,CAAC,CAAD,CAAL,CADD;QAER0D,CAAC,EAAEH,MAAM,CAACvD,IAAI,CAAC,CAAD,CAAJ,CAAQmD,OAAR,CAAgB,GAAhB,EAAqB,EAArB,CAAD,CAAN,GAAmC,GAF9B;QAGRQ,CAAC,EAAEJ,MAAM,CAACvD,IAAI,CAAC,CAAD,CAAJ,CAAQmD,OAAR,CAAgB,GAAhB,EAAqB,EAArB,CAAD,CAAN,GAAmC,GAH9B;QAIRpD,CAAC,EAAEwD,MAAM,CAACvD,IAAI,CAACqD,MAAL,GAAc,CAAd,GAAkBrD,IAAI,CAAC,CAAD,CAAtB,GAA4B,CAA7B;MAJD,CAAZ;MAMA,KAAKuC,cAAL;IACH;EACJ;;EACDqB,UAAU,CAACxD,KAAD,EAAQ;IACd,IAAI,KAAKP,IAAT,EACI;IACJ,MAAMgE,IAAI,GAAG,KAAKnC,QAAL,CAAcH,aAAd,CAA4BC,qBAA5B,EAAb;IACA,IAAIsC,IAAI,GAAG1D,KAAK,CAAC2D,OAAN,GAAgBF,IAAI,CAACC,IAAhC;IACA,IAAIE,GAAG,GAAG5D,KAAK,CAAC6D,OAAN,GAAgBJ,IAAI,CAACG,GAA/B;IACA,KAAKvE,SAAL,GAAiB;MAAEC,CAAC,EAAEoE,IAAI,GAAG,KAAKtE,MAAjB;MAAyBG,CAAC,EAAEqE,GAAG,GAAG,KAAKxE;IAAvC,CAAjB;IACA,KAAKI,aAAL,GAAqB;MAAEF,CAAC,EAAE,KAAKD,SAAL,CAAeC,CAApB;MAAuBC,CAAC,EAAE,KAAKF,SAAL,CAAeE;IAAzC,CAArB;IACA,KAAKuE,UAAL,CAAgBJ,IAAhB,EAAsBE,GAAtB;EACH;;EACDjC,YAAY,GAAG;IACX,IAAIoC,GAAG,GAAG,KAAKC,QAAL,CAAc,KAAKpE,IAAL,CAAUC,CAAxB,EAA2B,KAAKD,IAAL,CAAU0D,CAArC,EAAwC,KAAK1D,IAAL,CAAU2D,CAAlD,CAAV;IACA,KAAKlE,SAAL,CAAeC,CAAf,GAAmByE,GAAG,CAACT,CAAJ,GAAQ,KAAKjC,KAAL,CAAWE,KAAnB,GAA2B,KAAKnC,MAAnD;IACA,KAAKC,SAAL,CAAeE,CAAf,GAAmB,CAAC,IAAIwE,GAAG,CAACE,CAAT,IAAc,KAAK5C,KAAL,CAAW6C,MAAzB,GAAkC,KAAK9E,MAA1D;IACA,KAAKI,aAAL,GAAqB;MAAEF,CAAC,EAAE,KAAKD,SAAL,CAAeC,CAApB;MAAuBC,CAAC,EAAE,KAAKF,SAAL,CAAeE;IAAzC,CAArB;EACH;;EACD4E,OAAO,GAAG;IACN,KAAK1E,IAAL,GAAY,IAAZ;EACH;;EACD2E,KAAK,GAAG;IACJ,KAAK5E,aAAL,GAAqB;MAAEF,CAAC,EAAE,KAAKD,SAAL,CAAeC,CAApB;MAAuBC,CAAC,EAAE,KAAKF,SAAL,CAAeE;IAAzC,CAArB;IACA8E,UAAU,CAAC,MAAM;MACb,KAAK5E,IAAL,GAAY,KAAZ;IACH,CAFS,CAAV;EAGH;;EACD6E,KAAK,CAAC7E,IAAD,EAAO;IACR,MAAMJ,SAAS,GAAGI,IAAI,CAAC8E,MAAL,CAAYC,mBAAZ,EAAlB;IACA/E,IAAI,CAAC8E,MAAL,CAAYE,KAAZ;IACA,KAAKpF,SAAL,GAAiB;MAAEC,CAAC,EAAED,SAAS,CAACC,CAAV,GAAc,KAAKE,aAAL,CAAmBF,CAAtC;MAAyCC,CAAC,EAAEF,SAAS,CAACE,CAAV,GAAc,KAAKC,aAAL,CAAmBD;IAA7E,CAAjB;IACA,IAAImE,IAAI,GAAG,KAAKrE,SAAL,CAAeC,CAAf,GAAmB,KAAKF,MAAnC;IACA,IAAIwE,GAAG,GAAG,KAAKvE,SAAL,CAAeE,CAAf,GAAmB,KAAKH,MAAlC;IACA,KAAK0E,UAAL,CAAgBJ,IAAhB,EAAsBE,GAAtB;EACH;;EACDE,UAAU,CAACJ,IAAD,EAAOE,GAAP,EAAY;IAClB,IAAIN,CAAC,GAAGI,IAAI,GAAG,KAAKrC,KAAL,CAAWE,KAA1B;IACA,IAAI0C,CAAC,GAAG,IAAIL,GAAG,GAAG,KAAKvC,KAAL,CAAW6C,MAA7B;IACA,IAAIX,CAAC,GAAI,CAAC,IAAID,CAAL,IAAUW,CAAX,GAAgB,CAAxB;;IACA,IAAIV,CAAC,KAAK,CAAV,EAAa;MACT,IAAIA,CAAC,KAAK,CAAV,EAAa;QACTD,CAAC,GAAG,CAAJ;MACH,CAFD,MAGK,IAAIC,CAAC,GAAG,GAAR,EAAa;QACdD,CAAC,GAAIA,CAAC,GAAGW,CAAL,IAAWV,CAAC,GAAG,CAAf,CAAJ;MACH,CAFI,MAGA;QACDD,CAAC,GAAIA,CAAC,GAAGW,CAAL,IAAW,IAAIV,CAAC,GAAG,CAAnB,CAAJ;MACH;IACJ;;IACD,CAAC,KAAK3D,IAAL,CAAU0D,CAAX,EAAc,KAAK1D,IAAL,CAAU2D,CAAxB,IAA6B,CAACJ,MAAM,CAAC,KAAKlE,OAAL,CAAaI,SAAb,CAAuBiE,CAAvB,EAA0B,OAA1B,CAAD,CAAP,EAA6CH,MAAM,CAAC,KAAKlE,OAAL,CAAaI,SAAb,CAAuBkE,CAAvB,EAA0B,OAA1B,CAAD,CAAnD,CAA7B;IACA,KAAKpB,cAAL;IACAuC,MAAM,CAACC,MAAP,CAAc,KAAKjF,IAAnB,EAAyB,KAAKmD,UAAL,CAAgB,KAAKjD,IAArB,CAAzB;IACA,KAAKoC,GAAL,GAAW,KAAKW,SAAL,CAAe,KAAKjD,IAApB,CAAX;IACA,KAAK0C,QAAL;EACH;;EACDD,cAAc,GAAG;IACb,KAAKvC,IAAL,CAAUgF,EAAV,GAAe,KAAKhF,IAAL,CAAU0D,CAAV,KAAgB,CAAhB,GAAoB,IAApB,GAA2B,KAAKpE,OAAL,CAAaG,SAAb,CAAuB,KAAKO,IAAL,CAAU0D,CAAjC,EAAoC,OAApC,CAA1C;IACA,KAAK1D,IAAL,CAAUiF,EAAV,GAAe,KAAKjF,IAAL,CAAU2D,CAAV,KAAgB,CAAhB,GAAoB,IAApB,GAA2B,KAAKrE,OAAL,CAAaG,SAAb,CAAuB,KAAKO,IAAL,CAAU2D,CAAjC,EAAoC,OAApC,CAA1C;EACH;;EACDjB,UAAU,GAAG;IACT,OAAOwC,gBAAgB,CAAC,KAAKhG,GAAL,CAASiG,eAAV,CAAhB,CAA2CC,gBAA3C,CAA4D,aAA5D,EAA2EC,IAA3E,EAAP;EACH;;EACDC,SAAS,GAAG;IACR,KAAKtD,kBAAL;IACA8C,MAAM,CAACC,MAAP,CAAc,KAAKjF,IAAnB,EAAyB,KAAKmD,UAAL,CAAgB,KAAKjD,IAArB,CAAzB;IACA,KAAKoC,GAAL,GAAW,KAAKW,SAAL,CAAe,KAAKjD,IAApB,CAAX;IACA,KAAK0C,QAAL;EACH;;EACDR,kBAAkB,GAAG;IACjB,KAAK/C,QAAL,CAAcsG,QAAd,CAAuB,KAAK7D,QAAL,CAAcH,aAArC,EAAoD,kBAApD,EAAyE,OAAM,KAAKvB,IAAL,CAAUC,CAAE,cAA3F;EACH;;EACDgC,iBAAiB,GAAG;IAChB,KAAKhD,QAAL,CAAcsG,QAAd,CAAuB,KAAK3D,eAA5B,EAA6C,YAA7C,EAA4D,kCAAiC,KAAK9B,IAAL,CAAUwD,CAAE,KAAI,KAAKxD,IAAL,CAAU0D,CAAE,KAAI,KAAK1D,IAAL,CAAU2D,CAAE,iBAAgB,KAAK3D,IAAL,CAAUwD,CAAE,KAAI,KAAKxD,IAAL,CAAU0D,CAAE,KAAI,KAAK1D,IAAL,CAAU2D,CAAE,YAArM;EACH;;EACD+B,iBAAiB,GAAG;IAChBV,MAAM,CAACC,MAAP,CAAc,KAAKjF,IAAnB,EAAyB,KAAKmD,UAAL,CAAgB,KAAKjD,IAArB,CAAzB;IACA,KAAKoC,GAAL,GAAW,KAAKW,SAAL,CAAe,KAAKjD,IAApB,CAAX;IACA,KAAK0C,QAAL;EACH;;EACDA,QAAQ,GAAG;IACP,KAAKiD,cAAL;IACA,KAAKxD,iBAAL;IACA,KAAKyD,QAAL,CAAc,KAAK7E,KAAnB;IACA,KAAKzB,GAAL,CAAS2B,aAAT;EACH;;EACD0E,cAAc,GAAG;IACb,IAAI,KAAKlH,IAAL,KAAc,KAAlB,EAAyB;MACrB,KAAKsC,KAAL,GAAc,GAAE,KAAKuB,GAAI,EAAzB;IACH,CAFD,MAGK,IAAI,KAAK7D,IAAL,KAAc,MAAlB,EAA0B;MAC3B,KAAKsC,KAAL,GAAc,QAAO,KAAKf,IAAL,CAAUwD,CAAE,KAAI,KAAKxD,IAAL,CAAU0D,CAAE,KAAI,KAAK1D,IAAL,CAAU2D,CAAE,KAAI,KAAK3D,IAAL,CAAUC,CAAE,GAAjF;IACH,CAFI,MAGA,IAAI,KAAKxB,IAAL,KAAc,MAAlB,EAA0B;MAC3B,KAAKsC,KAAL,GAAc,QAAO,KAAKb,IAAL,CAAUC,CAAE,KAAI,KAAKD,IAAL,CAAUgF,EAAG,KAAI,KAAKhF,IAAL,CAAUiF,EAAG,KAAI,KAAKjF,IAAL,CAAUD,CAAE,GAAnF;IACH;EACJ;;EACDkD,UAAU,CAACjD,IAAD,EAAO;IACb,IAAIsD,CAAJ,EAAOE,CAAP,EAAUC,CAAV;IACA,IAAI,CAACxD,CAAD,EAAIyD,CAAJ,EAAOC,CAAP,IAAY,CAAC3D,IAAI,CAACC,CAAN,EAASD,IAAI,CAAC0D,CAAd,EAAiB1D,IAAI,CAAC2D,CAAtB,CAAhB;;IACA,IAAID,CAAC,IAAI,CAAT,EAAY;MACRJ,CAAC,GAAGE,CAAC,GAAGC,CAAC,GAAGE,CAAZ;IACH,CAFD,MAGK;MACD,IAAIgC,OAAO,GAAG,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,KAAa;QACvB,IAAIA,CAAC,GAAG,CAAR,EACIA,CAAC,IAAI,CAAL;QACJ,IAAIA,CAAC,GAAG,CAAR,EACIA,CAAC,IAAI,CAAL;QACJ,IAAIA,CAAC,GAAG,IAAI,CAAZ,EACI,OAAOF,CAAC,GAAG,CAACC,CAAC,GAAGD,CAAL,IAAU,CAAV,GAAcE,CAAzB;QACJ,IAAIA,CAAC,GAAG,IAAI,CAAZ,EACI,OAAOD,CAAP;QACJ,IAAIC,CAAC,GAAG,IAAI,CAAZ,EACI,OAAOF,CAAC,GAAG,CAACC,CAAC,GAAGD,CAAL,KAAW,IAAI,CAAJ,GAAQE,CAAnB,IAAwB,CAAnC;QACJ,OAAOF,CAAP;MACH,CAZD;;MAaA,IAAIC,CAAC,GAAGlC,CAAC,GAAG,GAAJ,GAAUA,CAAC,IAAI,IAAID,CAAR,CAAX,GAAwBC,CAAC,GAAGD,CAAJ,GAAQC,CAAC,GAAGD,CAA5C;MACA,IAAIkC,CAAC,GAAG,IAAIjC,CAAJ,GAAQkC,CAAhB;MACAvC,CAAC,GAAGqC,OAAO,CAACC,CAAD,EAAIC,CAAJ,EAAO5F,CAAC,GAAG,GAAJ,GAAU,IAAI,CAArB,CAAX;MACAuD,CAAC,GAAGmC,OAAO,CAACC,CAAD,EAAIC,CAAJ,EAAO5F,CAAC,GAAG,GAAX,CAAX;MACAwD,CAAC,GAAGkC,OAAO,CAACC,CAAD,EAAIC,CAAJ,EAAO5F,CAAC,GAAG,GAAJ,GAAU,IAAI,CAArB,CAAX;IACH;;IACD,OAAO;MAAEqD,CAAC,EAAEyC,IAAI,CAACC,KAAL,CAAW1C,CAAC,GAAG,GAAf,CAAL;MAA0BE,CAAC,EAAEuC,IAAI,CAACC,KAAL,CAAWxC,CAAC,GAAG,GAAf,CAA7B;MAAkDC,CAAC,EAAEsC,IAAI,CAACC,KAAL,CAAWvC,CAAC,GAAG,GAAf,CAArD;MAA0E1D,CAAC,EAAEwD,MAAM,CAACvD,IAAI,CAACD,CAAN;IAAnF,CAAP;EACH;;EACDgD,SAAS,CAACjD,IAAD,EAAO;IACZ,IAAIsC,GAAG,GAAG,CACNtC,IAAI,CAACwD,CAAL,CAAO2C,QAAP,CAAgB,EAAhB,CADM,EAENnG,IAAI,CAAC0D,CAAL,CAAOyC,QAAP,CAAgB,EAAhB,CAFM,EAGNnG,IAAI,CAAC2D,CAAL,CAAOwC,QAAP,CAAgB,EAAhB,CAHM,EAINF,IAAI,CAACC,KAAL,CAAW,MAAMlG,IAAI,CAACC,CAAtB,EAAyBkG,QAAzB,CAAkC,EAAlC,CAJM,CAAV;IAMA7D,GAAG,CAAC8D,OAAJ,CAAY,CAACxG,CAAD,EAAIyG,KAAJ,KAAc;MACtB,IAAIA,KAAK,KAAK,CAAV,IAAezG,CAAC,KAAK,IAAzB,EAA+B;QAC3B0C,GAAG,CAAC+D,KAAD,CAAH,GAAa,EAAb;MACH;;MACD,IAAIzG,CAAC,CAAC2D,MAAF,KAAa,CAAjB,EAAoB;QAChBjB,GAAG,CAAC+D,KAAD,CAAH,GAAa,MAAMzG,CAAnB;MACH;IACJ,CAPD;IAQA,OAAQ,IAAG0C,GAAG,CAACgE,IAAJ,CAAS,EAAT,CAAa,EAAxB;EACH;;EACD9D,UAAU,CAACxC,IAAD,EAAO;IACb,IAAI,CAACwD,CAAD,EAAIE,CAAJ,EAAOC,CAAP,IAAY,CAAC3D,IAAI,CAACwD,CAAL,GAAS,GAAV,EAAexD,IAAI,CAAC0D,CAAL,GAAS,GAAxB,EAA6B1D,IAAI,CAAC2D,CAAL,GAAS,GAAtC,CAAhB;IACA,IAAI,CAAC4C,GAAD,EAAMC,GAAN,IAAa,CAACP,IAAI,CAACM,GAAL,CAAS/C,CAAT,EAAYE,CAAZ,EAAeC,CAAf,CAAD,EAAoBsC,IAAI,CAACO,GAAL,CAAShD,CAAT,EAAYE,CAAZ,EAAeC,CAAf,CAApB,CAAjB;IACA,IAAIxD,CAAC,GAAG,CAAR;IACA,IAAIyD,CAAC,GAAG,CAAR;IACA,IAAIC,CAAC,GAAG,CAAC0C,GAAG,GAAGC,GAAP,IAAc,CAAtB;;IACA,IAAID,GAAG,KAAKC,GAAZ,EAAiB;MACbrG,CAAC,GAAGyD,CAAC,GAAG,CAAR;IACH,CAFD,MAGK;MACD,IAAI6C,CAAC,GAAGF,GAAG,GAAGC,GAAd;MACA5C,CAAC,GAAGC,CAAC,GAAG,GAAJ,GAAU4C,CAAC,IAAI,IAAIF,GAAJ,GAAUC,GAAd,CAAX,GAAgCC,CAAC,IAAIF,GAAG,GAAGC,GAAV,CAArC;;MACA,QAAQD,GAAR;QACI,KAAK/C,CAAL;UACIrD,CAAC,GAAG,CAACuD,CAAC,GAAGC,CAAL,IAAU8C,CAAV,IAAe/C,CAAC,GAAGC,CAAJ,GAAQ,CAAR,GAAY,CAA3B,CAAJ;UACA;;QACJ,KAAKD,CAAL;UACIvD,CAAC,GAAG,CAACwD,CAAC,GAAGH,CAAL,IAAUiD,CAAV,GAAc,CAAlB;UACA;;QACJ,KAAK9C,CAAL;UACIxD,CAAC,GAAG,CAACqD,CAAC,GAAGE,CAAL,IAAU+C,CAAV,GAAc,CAAlB;UACA;MATR;;MAWAtG,CAAC,IAAI,CAAL;IACH;;IACD,OAAO;MACHA,CAAC,EAAE8F,IAAI,CAACC,KAAL,CAAW/F,CAAC,GAAG,GAAf,CADA;MAEHyD,CAAC,EAAEH,MAAM,CAAC,KAAKlE,OAAL,CAAaI,SAAb,CAAuBiE,CAAvB,EAA0B,OAA1B,CAAD,CAFN;MAGHC,CAAC,EAAEJ,MAAM,CAAC,KAAKlE,OAAL,CAAaI,SAAb,CAAuBkE,CAAvB,EAA0B,OAA1B,CAAD,CAHN;MAIH5D,CAAC,EAAEwD,MAAM,CAACzD,IAAI,CAACC,CAAN;IAJN,CAAP;EAMH;;EACDsC,SAAS,CAACD,GAAD,EAAM;IACX,IAAIoE,MAAM,GAAGpE,GAAG,CAACqE,SAAJ,CAAc,CAAd,CAAb;IACA,IAAI1G,CAAC,GAAG,CAAR;;IACA,IAAIyG,MAAM,CAACnD,MAAP,KAAkB,CAAtB,EAAyB;MACrBtD,CAAC,GAAGwD,MAAM,CAAC,KAAKlE,OAAL,CAAaI,SAAb,CAAuB8D,MAAM,CAAC,OAAOiD,MAAM,CAACE,KAAP,CAAa,CAAC,CAAd,CAAR,CAAN,GAAkC,GAAzD,EAA8D,OAA9D,CAAD,CAAV;MACAF,MAAM,GAAGA,MAAM,CAACC,SAAP,CAAiB,CAAjB,EAAoBD,MAAM,CAACnD,MAAP,GAAgB,CAApC,CAAT;IACH;;IACD,IAAIsD,GAAG,GAAGpD,MAAM,CAAC,QAAQiD,MAAM,CAACnD,MAAP,GAAgB,CAAhB,GAAoB,KAAKuD,YAAL,CAAkBJ,MAAlB,EAA0B,CAA1B,CAApB,GAAmDA,MAA3D,CAAD,CAAhB;IACA,OAAO;MAAElD,CAAC,EAAEqD,GAAG,IAAI,EAAZ;MAAgBnD,CAAC,EAAGmD,GAAG,IAAI,CAAR,GAAa,IAAhC;MAAsClD,CAAC,EAAEkD,GAAG,GAAG,IAA/C;MAAqD5G,CAAC,EAAEA;IAAxD,CAAP;EACH;;EACDqE,QAAQ,CAACnE,CAAD,EAAIyD,CAAJ,EAAOC,CAAP,EAAU;IACd,IAAIkD,IAAJ,EAAUC,IAAV,EAAgBzC,CAAhB;IACAwC,IAAI,GAAG5G,CAAP;;IACA,IAAI0D,CAAC,IAAI,CAAT,EAAY;MACRmD,IAAI,GAAG,CAAP;MACAzC,CAAC,GAAG,CAAJ;IACH,CAHD,MAIK,IAAIV,CAAC,GAAG,CAAJ,IAASA,CAAC,IAAI,GAAlB,EAAuB;MACxBmD,IAAI,GAAI,IAAIpD,CAAL,IAAW,IAAIA,CAAf,CAAP;MACAW,CAAC,GAAGV,CAAC,IAAI,IAAID,CAAR,CAAL;IACH,CAHI,MAIA;MACDoD,IAAI,GAAG,CAAC,IAAIpD,CAAJ,GAAQ,IAAIA,CAAJ,GAAQC,CAAjB,KAAuBD,CAAC,GAAGA,CAAC,GAAGC,CAAR,GAAYA,CAAnC,CAAP;MACAU,CAAC,GAAGX,CAAC,GAAGA,CAAC,GAAGC,CAAR,GAAYA,CAAhB;IACH;;IACD,OAAO;MACH1D,CAAC,EAAE4G,IADA;MAEHnD,CAAC,EAAEH,MAAM,CAAC,KAAKlE,OAAL,CAAaI,SAAb,CAAuBqH,IAAvB,EAA6B,OAA7B,CAAD,CAFN;MAGHzC,CAAC,EAAEd,MAAM,CAAC,KAAKlE,OAAL,CAAaI,SAAb,CAAuB4E,CAAvB,EAA0B,OAA1B,CAAD;IAHN,CAAP;EAKH;;EACD0C,UAAU,CAACC,IAAD,EAAOL,GAAP,EAAY;IAClB,IAAIM,MAAM,GAAG,EAAb;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,GAApB,EAAyBO,CAAC,EAA1B,EAA8B;MAC1BD,MAAM,IAAID,IAAV;IACH;;IACD,OAAOC,MAAP;EACH;;EACDL,YAAY,CAACI,IAAD,EAAOL,GAAP,EAAY;IACpB,IAAIM,MAAM,GAAG,EAAb;;IACA,KAAK,IAAIE,MAAT,IAAmBH,IAAnB,EAAyB;MACrBC,MAAM,IAAI,KAAKF,UAAL,CAAgBI,MAAhB,EAAwBR,GAAxB,CAAV;IACH;;IACD,OAAOM,MAAP;EACH;;AA1V6B;AA4VlC;;;AAAmBnI,2BAA2B,CAACV,IAA5B;EAAA,iBAAwHU,2BAAxH,EAzXuGtD,EAyXvG,mBAAqKA,EAAE,CAAC4L,UAAxK,GAzXuG5L,EAyXvG,mBAA+LA,EAAE,CAAC6L,SAAlM,GAzXuG7L,EAyXvG,mBAAwNqB,QAAxN,GAzXuGrB,EAyXvG,mBAA6OA,EAAE,CAAC8L,MAAhP,GAzXuG9L,EAyXvG,mBAAmQA,EAAE,CAAC+L,iBAAtQ,GAzXuG/L,EAyXvG,mBAAoSoB,EAAE,CAACE,WAAvS,GAzXuGtB,EAyXvG,mBAA+ToB,EAAE,CAACG,WAAlU;AAAA;AACnB;;;AAAmB+B,2BAA2B,CAACT,IAA5B,kBA1XuG7C,EA0XvG;EAAA,MAA4GsD,2BAA5G;EAAA;EAAA;IAAA;MA1XuGtD,EA0XvG;MA1XuGA,EA0XvG;MA1XuGA,EA0XvG;IAAA;;IAAA;MAAA;;MA1XuGA,EA0XvG,qBA1XuGA,EA0XvG;MA1XuGA,EA0XvG,qBA1XuGA,EA0XvG;MA1XuGA,EA0XvG,qBA1XuGA,EA0XvG;IAAA;EAAA;EAAA;EAAA;IAAA;MA1XuGA,EA0XvG;QAAA,OAA4G,gBAA5G;MAAA;QAAA,OAA4G,iBAA5G;MAAA;IAAA;;IAAA;MA1XuGA,EA0XvG;IAAA;EAAA;EAAA,WA1XuGA,EA0XvG,oBAAqX,CAACsB,WAAD,EAAcC,WAAd,CAArX;EAAA;EAAA;EAAA;EAAA;IAAA;MA1XuGvB,EA0X6oB,4BAApvB;MA1XuGA,EA0XksB;QAAA,OAAU,2BAAV;MAAA,EAAzyB;MA1XuGA,EA0X4uB,+CAAn1B;MA1XuGA,EA0X81B;QAAA,OAAU,sBAAV;MAAA,EAAr8B;MA1XuGA,EA0Xu4B,oCAA9+B;MA1XuGA,EA0X6/B,+BAApmC;MA1XuGA,EA0XquC;QAAA,OAAmB,aAAnB;MAAA;QAAA,OAA2D,WAA3D;MAAA;QAAA,OAAiG,iBAAjG;MAAA,EAA50C;MA1XuGA,EA0Xg2C,mBAAv8C;MA1XuGA,EA0Xs4C,0DAA7+C;MA1XuGA,EA0XinD,qBAAxtD;MA1XuGA,EA0XyqD,eAAhxD;MA1XuGA,EA0XyrD,wEAAhyD;MA1XuGA,EA0Xg3D;QAAA;MAAA;QAAA,OAAsI,aAAtI;MAAA;QAAA,OAAiL,WAAjL;MAAA;QAAA,OAA4N,eAA5N;MAAA,EAAv9D;MA1XuGA,EA0XwmE,iBAA/sE;MA1XuGA,EA0XwpE,6DAA/vE;MA1XuGA,EA0X6zE;QAAA;MAAA;QAAA,OAAqI,aAArI;MAAA;QAAA,OAA8K,WAA9K;MAAA;QAAA,OAAyN,uBAAzN;MAAA,EAAp6E;MA1XuGA,EA0X0jF,eAAjqF;MA1XuGA,EA0X0lF,yBAAjsF;MA1XuGA,EA0XupF,mBAA9vF;MA1XuGA,EA0XmsF,mGAA1yF;MA1XuGA,EA0Xu7F;QAAA;MAAA;QAAA,OAAsC,eAAtC;MAAA,EAA9hG;MA1XuGA,EA0X2+F,mBAAllG;MA1XuGA,EA0XyiG,kEAAhpG;MA1XuGA,EA0XwpG;QAAA;MAAA,EAA/vG;MA1XuGA,EA0XmsG,eAA1yG;MA1XuGA,EA0X6tG,kCAAp0G;MA1XuGA,EA0XsuG;QAAA;MAAA,EAA70G;MA1XuGA,EA0XixG,eAAx3G;MA1XuGA,EA0X2yG,kCAAl5G;MA1XuGA,EA0XozG;QAAA;MAAA,EAA35G;MA1XuGA,EA0X+1G,eAAt8G;MA1XuGA,EA0Xy3G,kCAAh+G;MA1XuGA,EA0Xk4G;QAAA;MAAA,EAAz+G;MA1XuGA,EA0X66G,mBAAphH;MA1XuGA,EA0X2+G,kEAAllH;MA1XuGA,EA0X0lH;QAAA;MAAA,EAAjsH;MA1XuGA,EA0XqoH,eAA5uH;MA1XuGA,EA0X+pH,kCAAtwH;MA1XuGA,EA0XwqH;QAAA;MAAA,EAA/wH;MA1XuGA,EA0XotH,eAA3zH;MA1XuGA,EA0X8uH,kCAAr1H;MA1XuGA,EA0XuvH;QAAA;MAAA,EAA91H;MA1XuGA,EA0XmyH,eAA14H;MA1XuGA,EA0X6zH,kCAAp6H;MA1XuGA,EA0Xs0H;QAAA;MAAA,EAA76H;MA1XuGA,EA0Xi3H,2BAAx9H;IAAA;;IAAA;MAAA,YA1XuGA,EA0XvG;;MA1XuGA,EA0XmlC,aAA1rC;MA1XuGA,EA0XmlC,yEAA1rC;MA1XuGA,EA0X2rC,mCAAlyC;MA1XuGA,EA0XsnD,aAA7tD;MA1XuGA,EA0XsnD,2CAA7tD;MA1XuGA,EA0Xy0D,aAAh7D;MA1XuGA,EA0Xy0D,+BAAh7D;MA1XuGA,EA0Xg3D,kCAAv9D;MA1XuGA,EA0XuvE,aAA91E;MA1XuGA,EA0XuvE,+BAA91E;MA1XuGA,EA0X6zE,kCAAp6E;MA1XuGA,EA0X+5F,aAAtgG;MA1XuGA,EA0X+5F,+BAAtgG;MA1XuGA,EA0Xu7F,+BAA9hG;MA1XuGA,EA0XwpG,aAA/vG;MA1XuGA,EA0XwpG,oDAA/vG;MA1XuGA,EA0XsuG,aAA70G;MA1XuGA,EA0XsuG,oDAA70G;MA1XuGA,EA0XozG,aAA35G;MA1XuGA,EA0XozG,oDAA35G;MA1XuGA,EA0Xk4G,aAAz+G;MA1XuGA,EA0Xk4G,oDAAz+G;MA1XuGA,EA0X0lH,aAAjsH;MA1XuGA,EA0X0lH,oDAAjsH;MA1XuGA,EA0XwqH,aAA/wH;MA1XuGA,EA0XwqH,qDAA/wH;MA1XuGA,EA0XuvH,aAA91H;MA1XuGA,EA0XuvH,qDAA91H;MA1XuGA,EA0Xs0H,aAA76H;MA1XuGA,EA0Xs0H,oDAA76H;IAAA;EAAA;EAAA,eAA2iO0B,EAAE,CAACsK,eAA9iO,EAAmpOtK,EAAE,CAACuK,OAAtpO,EAA22OpK,IAAI,CAACqK,OAAh3O,EAA+yPnK,EAAE,CAACoK,sBAAlzP,EAAo4PlK,EAAE,CAACmK,cAAv4P,EAAw8PnK,EAAE,CAACoK,aAA38P,EAA0gQlK,EAAE,CAACmK,eAA7gQ;EAAA;EAAA;EAAA;IAAA,WAAkkQ,CAACxL,qBAAD;EAAlkQ;EAAA;AAAA;;AACnB;EAAA,mDA3X0Hd,EA2X1H,mBAA2FsD,2BAA3F,EAAoI,CAAC;IACzHP,IAAI,EAAE9C,SADmH;IAEzH+C,IAAI,EAAE,CAAC;MAAEuJ,QAAQ,EAAG,GAAElJ,wBAAyB,EAAxC;MAA2CmJ,aAAa,EAAErM,iBAAiB,CAACsM,IAA5E;MAAkFC,eAAe,EAAEtM,uBAAuB,CAACuM,MAA3H;MAAmIC,SAAS,EAAE,CAACtL,WAAD,EAAcC,WAAd,CAA9I;MAA0KsL,UAAU,EAAE,CAAC/L,qBAAD,CAAtL;MAA+MmC,QAAQ,EAAE,m1GAAzN;MAA8iH6J,MAAM,EAAE,CAAC,66FAAD;IAAtjH,CAAD;EAFmH,CAAD,CAApI,EAG4B,YAAY;IAAE,OAAO,CAAC;MAAE/J,IAAI,EAAE/C,EAAE,CAAC4L;IAAX,CAAD,EAA0B;MAAE7I,IAAI,EAAE/C,EAAE,CAAC6L;IAAX,CAA1B,EAAkD;MAAE9I,IAAI,EAAEgK,SAAR;MAAmBC,UAAU,EAAE,CAAC;QAC/GjK,IAAI,EAAE1C,MADyG;QAE/G2C,IAAI,EAAE,CAAC3B,QAAD;MAFyG,CAAD;IAA/B,CAAlD,EAG3B;MAAE0B,IAAI,EAAE/C,EAAE,CAAC8L;IAAX,CAH2B,EAGN;MAAE/I,IAAI,EAAE/C,EAAE,CAAC+L;IAAX,CAHM,EAG0B;MAAEhJ,IAAI,EAAE3B,EAAE,CAACE;IAAX,CAH1B,EAGoD;MAAEyB,IAAI,EAAE3B,EAAE,CAACG;IAAX,CAHpD,CAAP;EAGuF,CANjI,EAMmJ;IAAE2B,SAAS,EAAE,CAAC;MACjJH,IAAI,EAAEzC,WAD2I;MAEjJ0C,IAAI,EAAE,CAAC,2BAAD;IAF2I,CAAD,CAAb;IAGnI2B,IAAI,EAAE,CAAC;MACP5B,IAAI,EAAExC,YADC;MAEPyC,IAAI,EAAE,CAAC,gCAAD,EAAmC,CAAC,QAAD,CAAnC;IAFC,CAAD,CAH6H;IAMnIgC,KAAK,EAAE,CAAC;MACRjC,IAAI,EAAExC,YADE;MAERyC,IAAI,EAAE,CAAC,iCAAD,EAAoC,CAAC,QAAD,CAApC;IAFE,CAAD,CAN4H;IASnI8C,QAAQ,EAAE,CAAC;MACX/C,IAAI,EAAEvC,SADK;MAEXwC,IAAI,EAAE,CAAC,UAAD,EAAa;QAAEiK,MAAM,EAAE;MAAV,CAAb;IAFK,CAAD,CATyH;IAYnI/G,QAAQ,EAAE,CAAC;MACXnD,IAAI,EAAEvC,SADK;MAEXwC,IAAI,EAAE,CAAC,UAAD,EAAa;QAAEiK,MAAM,EAAE;MAAV,CAAb;IAFK,CAAD,CAZyH;IAenI5G,cAAc,EAAE,CAAC;MACjBtD,IAAI,EAAEvC,SADW;MAEjBwC,IAAI,EAAE,CAAC,gBAAD,EAAmB;QAAEiK,MAAM,EAAE;MAAV,CAAnB;IAFW,CAAD;EAfmH,CANnJ;AAAA;;AA0BA,MAAMC,qBAAN,SAAoCvK,oBAApC,CAAyD;EACrDY,WAAW,CAACE,QAAD,EAAWG,GAAX,EAAgBuJ,aAAhB,EAA+BC,gBAA/B,EAAiDC,OAAjD,EAA0D;IACjE;IACA,KAAK5J,QAAL,GAAgBA,QAAhB;IACA,KAAKG,GAAL,GAAWA,GAAX;IACA,KAAKuJ,aAAL,GAAqBA,aAArB;IACA,KAAKC,gBAAL,GAAwBA,gBAAxB;IACA,KAAKC,OAAL,GAAeA,OAAf;IACA,KAAKC,QAAL,GAAgB,IAAhB;IACA,KAAKC,SAAL,GAAiB,KAAjB;IACA,KAAKC,KAAL,GAAa,KAAb;IACA,KAAK3I,SAAL,GAAiB,KAAjB;IACA,KAAK4I,YAAL,GAAoB,EAApB;IACA,KAAKC,UAAL,GAAkB,EAAlB;IACA,KAAKC,IAAL,GAAY,kBAAZ;IACA,KAAKC,QAAL,GAAgB,CAAhB;IACA,KAAKC,cAAL,GAAsB,IAAtB;IACA,KAAK3I,WAAL,GAAmB,IAAI/D,OAAJ,EAAnB;IACA,KAAK2M,UAAL,GAAkB,IAAI3M,OAAJ,EAAlB;IACA,KAAKqE,cAAL,GAAsB,IAAIrE,OAAJ,EAAtB;IACA,KAAK4M,YAAL,GAAoB,IAAI5M,OAAJ,EAApB;IACA,KAAKuD,UAAL,GAAkB,IAAIvD,OAAJ,EAAlB;EACH;;EACD6M,UAAU,CAAC3I,KAAD,EAAQ;IACd,KAAKA,KAAL,GAAaA,KAAb;IACA,KAAKoI,YAAL,GAAoBpI,KAApB;IACA,KAAKH,WAAL,CAAiBQ,IAAjB,CAAsB,KAAKL,KAA3B;IACA,KAAKzB,GAAL,CAAS2B,aAAT;EACH;;EACa,IAAV0I,UAAU,GAAG;IACb,OAAO;MACHC,eAAe,EAAE,KAAK7I,KADnB;MAEH8I,KAAK,EAAE;IAFJ,CAAP;EAIH;;EACDlJ,QAAQ,GAAG;IACP,KAAKmJ,OAAL,CAAa,KAAKC,WAAL,CAAiBtI,aAA9B,EAA6C,KAAKtC,QAAlD,EAA4D,KAAK6K,OAAjE,EAA0E,KAAKC,KAA/E,EAAsF,KAAKC,SAA3F;IACA,KAAKC,WAAL;IACA,KAAKC,UAAL;EACH;;EACD9I,eAAe,GAAG;IACd,KAAK+I,SAAL,GADc,CAEd;EACH;;EACDlJ,WAAW,GAAG;IACV,KAAKf,UAAL,CAAgBgB,IAAhB;;IACA,KAAKhB,UAAL,CAAgBiB,WAAhB;EACH;;EACD+I,UAAU,GAAG;IACT,KAAKX,YAAL,CAAkB5I,IAAlB,CAAuB1D,SAAS,CAAC,KAAKiD,UAAN,CAAhC,EAAmDU,SAAnD,CAA6D,MAAM;MAC/D,KAAKwJ,WAAL;IACH,CAFD;EAGH;;EACDC,aAAa,GAAG;IACZ,KAAKnB,UAAL,GAAkB;MACdvH,KAAK,EAAG,GAAE,KAAK2I,QAAL,CAAcC,QAAd,CAAuBhJ,aAAvB,CAAqCiJ,WAAY,IAD7C;MAEdlG,MAAM,EAAG,GAAE,KAAKgG,QAAL,CAAcC,QAAd,CAAuBhJ,aAAvB,CAAqCkJ,YAAa;IAF/C,CAAlB;;IAIA,IAAI,KAAKT,SAAL,KAAmB,QAAvB,EAAiC;MAC7B,KAAKd,UAAL,CAAgB,QAAhB,IAA4B,CAA5B;IACH;;IACD,IAAI,KAAKc,SAAL,KAAmB,KAAvB,EAA8B;MAC1B,KAAKd,UAAL,CAAgB,QAAhB,IAA4B,CAA5B;IACH;EACJ;;EACDwB,MAAM,GAAG;IACL,IAAI,KAAKC,QAAT,EACI;IACJ,KAAK3B,KAAL,GAAa,IAAb;;IACA,IAAI,CAAC3M,QAAQ,CAAC,KAAKwE,KAAN,CAAb,EAA2B;MACvB,KAAKsI,IAAL,GAAY,EAAZ;MACA,KAAKJ,SAAL,GAAiB,IAAjB;MACA,KAAK3J,GAAL,CAAS2B,aAAT;IACH;EACJ;;EACD6J,MAAM,GAAG;IACL,IAAI,KAAKD,QAAT,EACI;IACJ,KAAK3B,KAAL,GAAa,KAAb;;IACA,IAAI,KAAKD,SAAT,EAAoB;MAChB,KAAKI,IAAL,GAAY,kBAAZ;MACA,KAAKJ,SAAL,GAAiB,KAAjB;MACA,KAAK3J,GAAL,CAAS2B,aAAT;IACH;EACJ;;EACD8J,SAAS,GAAG;IACR,KAAKhK,KAAL,GAAa,EAAb;IACA,KAAKoI,YAAL,GAAoB,EAApB;IACA,KAAK2B,MAAL;IACA,KAAKlK,WAAL,CAAiBQ,IAAjB,CAAsB,KAAKL,KAA3B;IACA,IAAI,KAAKiK,QAAT,EACI,KAAKA,QAAL,CAAc,KAAKjK,KAAnB;EACP;;EACDkK,cAAc,GAAG;IACb,OAAO,KAAKC,MAAL,EAAaC,UAAb,EAAyBC,WAAzB,EAAP;EACH;;EACDd,WAAW,GAAG;IACV,IAAI,KAAKW,cAAL,EAAJ,EAA2B;MACvB,KAAKC,MAAL,EAAaC,UAAb,EAAyBE,MAAzB;MACA,KAAKC,MAAL,GAAc,KAAd;MACA,KAAKhM,GAAL,CAAS2B,aAAT;MACA,OAAO,IAAP;IACH;;IACD,OAAO,KAAP;EACH;;EACDR,aAAa,GAAG;IACZ,KAAKyK,MAAL,EAAaC,UAAb,EAAyBI,OAAzB;EACH;;EACDC,UAAU,GAAG;IACT,IAAI,KAAKX,QAAL,IAAiB,KAAKtK,SAA1B,EACI;IACJ,KAAK+K,MAAL,GAAc,IAAd;IACA,MAAMG,MAAM,GAAG;MACXC,aAAa,EAAE,EADJ;MAEXC,gBAAgB,EAAE,KAAKC,YAAL,EAFP;MAGXC,cAAc,EAAE,KAAK9C,OAAL,CAAa+C,gBAAb,CAA8BC,UAA9B;IAHL,CAAf;IAKA,KAAKC,WAAL,CAAiBP,MAAjB;IACA,KAAKP,MAAL,GAAc,KAAKrC,aAAL,CAAmBoD,MAAnB,CAA0B;MACpCC,OAAO,EAAElN,2BAD2B;MAEpC8J,gBAAgB,EAAE,KAAKA,gBAFa;MAGpCqD,aAAa,EAAEV;IAHqB,CAA1B,CAAd;IAKA,KAAKP,MAAL,CAAYC,UAAZ,EACMiB,oBADN,GAEKvL,IAFL,CAEU1D,SAAS,CAAC,KAAKiD,UAAN,CAFnB,EAGKU,SAHL,CAGe,MAAM;MACjB,KAAK2I,YAAL,CAAkBrI,IAAlB;IACH,CALD;IAMA,KAAKiL,WAAL;EACH;;EACDL,WAAW,CAACP,MAAD,EAAS;IAChB,IAAIa,QAAQ,GAAGb,MAAM,CAACE,gBAAtB;IACAW,QAAQ,CAACC,eAAT,CAAyB1L,IAAzB,CAA8B1D,SAAS,CAAC,KAAKiD,UAAN,CAAvC,EAA0DU,SAA1D,CAAqE0L,GAAD,IAAS;MACzE,MAAMC,KAAK,GAAGzO,wBAAwB,CAAC0O,GAAzB,CAA6BF,GAAG,CAACG,cAAjC,CAAd;MACAF,KAAK,KAAK,KAAK7N,SAAf,IAA4B,KAAKsC,cAAL,CAAoBE,IAApB,CAAyBqL,KAAzB,CAA5B;IACH,CAHD;EAIH;;EACDJ,WAAW,GAAG;IACV,IAAIO,YAAY,GAAG,KAAK1B,MAAL,EAAa0B,YAAhC;IACA,IAAI,CAACA,YAAL,EACI;IACJ5H,MAAM,CAACC,MAAP,CAAc2H,YAAY,CAACC,QAA3B,EAAqC;MACjC9L,KAAK,EAAE,KAAKA,KADqB;MAEjCnC,SAAS,EAAE,KAAKA,SAFiB;MAGjCgC,WAAW,EAAE,KAAKA,WAHe;MAIjCM,cAAc,EAAE,KAAKA,cAJY;MAKjCsJ,QAAQ,EAAE,KAAKA,QALkB;MAMjCF,WAAW,EAAE,MAAM,KAAKb,YAAL,CAAkBrI,IAAlB,EANc;MAOjCX,aAAa,EAAE,MAAM,KAAKA,aAAL,EAPY;MAQjCmF,QAAQ,EAAGiE,KAAD,IAAW,KAAKiD,WAAL,CAAiBjD,KAAjB,CARY;MASjCtJ,SAAS,EAAGwM,GAAD,IAAU,KAAKxM,SAAL,GAAiBwM;IATL,CAArC;IAWAH,YAAY,CAACI,iBAAb,CAA+B/L,aAA/B;EACH;;EACD6L,WAAW,CAACjD,KAAD,EAAQ;IACf,KAAK9I,KAAL,GAAa8I,KAAb;IACA,KAAKV,YAAL,GAAoBU,KAApB;IACA,KAAKW,QAAL,CAAcyC,UAAd;IACA,IAAI,KAAKjC,QAAT,EACI,KAAKA,QAAL,CAAc,KAAKjK,KAAnB;IACJ,KAAKmM,oBAAL;IACA,KAAK5N,GAAL,CAAS2B,aAAT;EACH;;EACD2K,YAAY,GAAG;IACX,OAAO,KAAK/C,aAAL,CAAmB+C,YAAnB,CAAgC;MACnC1M,UAAU,EAAE,KAAKsL,QAAL,CAAcC,QADS;MAEnC7L,SAAS,EAAE,CAAC,KAAKA,SAAN,EAAiB,cAAjB,EAAiC,YAAjC,EAA+C,WAA/C,EAA4D,SAA5D,CAFwB;MAGnCuO,iBAAiB,EAAE;IAHgB,CAAhC,CAAP;EAKH;;EACD9C,SAAS,GAAG;IACR,KAAKY,cAAL,MAAyB,KAAKC,MAAL,EAAaC,UAAb,EAAyBiC,sBAAzB,CAAgD,KAAKxB,YAAL,EAAhD,CAAzB;EACH;;EACDzB,WAAW,GAAG;IACV1N,WAAW,CAAC,KAAK4Q,QAAN,CAAX;IACA,KAAKA,QAAL,CAAe,gBAAe,KAAKC,UAAW,EAA9C,IAAmD,KAAKA,UAAL,GAAkB,IAAlB,GAAyB,KAA5E;EACH;;EACDC,kBAAkB,GAAG;IACjB,KAAK5M,QAAL;IACA,KAAKrB,GAAL,CAAS2B,aAAT;EACH;;AArLoD;AAuLzD;;;AAAmB2H,qBAAqB,CAACtK,IAAtB;EAAA,iBAAkHsK,qBAAlH,EA5kBuGlN,EA4kBvG,mBAAyJA,EAAE,CAAC6L,SAA5J,GA5kBuG7L,EA4kBvG,mBAAkLA,EAAE,CAAC+L,iBAArL,GA5kBuG/L,EA4kBvG,mBAAmNqC,IAAI,CAACyP,cAAxN,GA5kBuG9R,EA4kBvG,mBAAmPA,EAAE,CAAC+R,gBAAtP,GA5kBuG/R,EA4kBvG,mBAAmRwC,EAAE,CAACwP,OAAtR;AAAA;AACnB;;;AAAmB9E,qBAAqB,CAACrK,IAAtB,kBA7kBuG7C,EA6kBvG;EAAA,MAAsGkN,qBAAtG;EAAA;EAAA;IAAA;MA7kBuGlN,EA6kBvG;MA7kBuGA,EA6kBvG;IAAA;;IAAA;MAAA;;MA7kBuGA,EA6kBvG,qBA7kBuGA,EA6kBvG;MA7kBuGA,EA6kBvG,qBA7kBuGA,EA6kBvG;IAAA;EAAA;EAAA,WA7kBuGA,EA6kBvG,oBAAoK,CAACiB,cAAc,CAACiM,qBAAD,CAAf,CAApK,GA7kBuGlN,EA6kBvG;EAAA;EAAA;EAAA;EAAA;IAAA;MA7kBuGA,EA6kBqX,gEAA5d;MA7kBuGA,EA6kBu7B;QAAA;MAAA;QAAA;MAAA;QAAA,OAAoZ,eAApZ;MAAA;QAAA,OAAsb,gBAAtb;MAAA;QAAA,OAA8d,YAA9d;MAAA;QAAA,OAAkgB,YAAlgB;MAAA,EAA9hC;MA7kBuGA,EA6kB48C,mBAAnjD;IAAA;;IAAA;MA7kBuGA,EA6kB4gB,aAAnnB;MA7kBuGA,EA6kB4gB,qoBAAnnB;IAAA;EAAA;EAAA,eAAwyD0B,EAAE,CAACsK,eAA3yD,EAAg5DtK,EAAE,CAACuQ,iBAAn5D,EAA6mEvQ,EAAE,CAACwQ,gBAAhnE,EAAswExQ,EAAE,CAACuK,OAAzwE,EAA89E9J,EAAE,CAACmK,eAAj+E;EAAA;EAAA;EAAA;AAAA;;AACnB;EAAA,mDA9kB0HtM,EA8kB1H,mBAA2FkN,qBAA3F,EAA8H,CAAC;IACnHnK,IAAI,EAAE9C,SAD6G;IAEnH+C,IAAI,EAAE,CAAC;MAAEuJ,QAAQ,EAAE,gBAAZ;MAA8BC,aAAa,EAAErM,iBAAiB,CAACsM,IAA/D;MAAqEC,eAAe,EAAEtM,uBAAuB,CAACuM,MAA9G;MAAsHC,SAAS,EAAE,CAAC3L,cAAc,CAACiM,qBAAD,CAAf,CAAjI;MAA0KjK,QAAQ,EAAE,6nCAApL;MAAmzC6J,MAAM,EAAE,CAAC,wJAAD;IAA3zC,CAAD;EAF6G,CAAD,CAA9H,EAG4B,YAAY;IAAE,OAAO,CAAC;MAAE/J,IAAI,EAAE/C,EAAE,CAAC6L;IAAX,CAAD,EAAyB;MAAE9I,IAAI,EAAE/C,EAAE,CAAC+L;IAAX,CAAzB,EAAyD;MAAEhJ,IAAI,EAAEV,IAAI,CAACyP;IAAb,CAAzD,EAAwF;MAAE/O,IAAI,EAAE/C,EAAE,CAAC+R;IAAX,CAAxF,EAAuH;MAAEhP,IAAI,EAAEP,EAAE,CAACwP;IAAX,CAAvH,CAAP;EAAsJ,CAHhM,EAGkN;IAAE3D,WAAW,EAAE,CAAC;MAClNtL,IAAI,EAAEvC,SAD4M;MAElNwC,IAAI,EAAE,CAAC,aAAD,EAAgB;QAAEiK,MAAM,EAAE;MAAV,CAAhB;IAF4M,CAAD,CAAf;IAGlM6B,QAAQ,EAAE,CAAC;MACX/L,IAAI,EAAEvC,SADK;MAEXwC,IAAI,EAAE,CAAC,UAAD,EAAa;QAAEiK,MAAM,EAAE;MAAV,CAAb;IAFK,CAAD;EAHwL,CAHlN;AAAA;;AAWA,MAAMkF,kBAAN,CAAyB;AAEzB;;;AAAmBA,kBAAkB,CAACvP,IAAnB;EAAA,iBAA+GuP,kBAA/G;AAAA;AACnB;;;AAAmBA,kBAAkB,CAACC,IAAnB,kBA5lBuGpS,EA4lBvG;EAAA,MAAgHmS;AAAhH;AASnB;;AAAmBA,kBAAkB,CAACE,IAAnB,kBArmBuGrS,EAqmBvG;EAAA,UAA8IwB,YAA9I,EACXG,WADW,EAEXC,mBAFW,EAGXE,cAHW,EAIXS,aAJW,EAKXP,mBALW,EAMXE,WANW,EAOXE,YAPW,EAQXlB,eARW;AAAA;;AASnB;EAAA,mDA9mB0HlB,EA8mB1H,mBAA2FmS,kBAA3F,EAA2H,CAAC;IAChHpP,IAAI,EAAEtC,QAD0G;IAEhHuC,IAAI,EAAE,CAAC;MACCsP,YAAY,EAAE,CAACpF,qBAAD,EAAwB5J,2BAAxB,EAAqDX,oBAArD,CADf;MAEC4P,OAAO,EAAE,CAACrF,qBAAD,EAAwB5J,2BAAxB,CAFV;MAGCkP,OAAO,EAAE,CACLhR,YADK,EAELG,WAFK,EAGLC,mBAHK,EAILE,cAJK,EAKLS,aALK,EAMLP,mBANK,EAOLE,WAPK,EAQLE,YARK,EASLlB,eATK;IAHV,CAAD;EAF0G,CAAD,CAA3H;AAAA;AAmBA;AACA;AACA;;;AAEA,SAASgM,qBAAT,EAAgCiF,kBAAhC,EAAoD7O,2BAApD,EAAiFD,wBAAjF,EAA2GZ,kBAA3G,EAA+HE,oBAA/H"},"metadata":{},"sourceType":"module"}