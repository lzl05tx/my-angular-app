{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Pipe, NgModule } from '@angular/core';\n/**\r\n * TimeRange\r\n * @selector xTimeRange\r\n * @decorator Pipe\r\n */\n\nconst XTimeRangePrefix = 'xTimeRange';\nconst timeUnits = [['Y', 1000 * 60 * 60 * 24 * 365], ['M', 1000 * 60 * 60 * 24 * 30], ['D', 1000 * 60 * 60 * 24], ['H', 1000 * 60 * 60], ['m', 1000 * 60], ['s', 1000], ['S', 1] // million seconds\n];\n\nclass XTimeRangePipe {\n  transform(value, format = 'HH:mm:ss') {\n    let duration = Number(value || 0);\n    return timeUnits.reduce((current, [name, unit]) => {\n      if (current.indexOf(name) !== -1) {\n        const v = Math.floor(duration / unit);\n        duration -= v * unit;\n        return current.replace(new RegExp(`${name}+`, 'g'), match => {\n          return this.padStart(v.toString(), match.length, '0');\n        });\n      }\n\n      return current;\n    }, format);\n  }\n\n  padStart(toPad, length, element) {\n    if (toPad.length > length) {\n      return toPad;\n    }\n\n    const joined = `${this.getRepeatedElement(length, element)}${toPad}`;\n    return joined.slice(joined.length - length, joined.length);\n  }\n\n  getRepeatedElement(length, element) {\n    return Array(length).fill(element).join('');\n  }\n\n}\n/** @nocollapse */\n\n\nXTimeRangePipe.ɵfac = function XTimeRangePipe_Factory(t) {\n  return new (t || XTimeRangePipe)();\n};\n/** @nocollapse */\n\n\nXTimeRangePipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n  name: \"xTimeRange\",\n  type: XTimeRangePipe,\n  pure: true\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XTimeRangePipe, [{\n    type: Pipe,\n    args: [{\n      name: `${XTimeRangePrefix}`\n    }]\n  }], null, null);\n})();\n\nclass XTimeRangeModule {}\n/** @nocollapse */\n\n\nXTimeRangeModule.ɵfac = function XTimeRangeModule_Factory(t) {\n  return new (t || XTimeRangeModule)();\n};\n/** @nocollapse */\n\n\nXTimeRangeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: XTimeRangeModule\n});\n/** @nocollapse */\n\nXTimeRangeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XTimeRangeModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [XTimeRangePipe],\n      exports: [XTimeRangePipe]\n    }]\n  }], null, null);\n})();\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\n\nexport { XTimeRangeModule, XTimeRangePipe, XTimeRangePrefix, timeUnits };","map":{"version":3,"names":["i0","Pipe","NgModule","XTimeRangePrefix","timeUnits","XTimeRangePipe","transform","value","format","duration","Number","reduce","current","name","unit","indexOf","v","Math","floor","replace","RegExp","match","padStart","toString","length","toPad","element","joined","getRepeatedElement","slice","Array","fill","join","ɵfac","ɵpipe","type","args","XTimeRangeModule","ɵmod","ɵinj","declarations","exports"],"sources":["/Users/lzl/my-angular-app/node_modules/@ng-nest/ui/fesm2020/ng-nest-ui-time-range.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Pipe, NgModule } from '@angular/core';\n\n/**\r\n * TimeRange\r\n * @selector xTimeRange\r\n * @decorator Pipe\r\n */\r\nconst XTimeRangePrefix = 'xTimeRange';\n\nconst timeUnits = [\r\n    ['Y', 1000 * 60 * 60 * 24 * 365],\r\n    ['M', 1000 * 60 * 60 * 24 * 30],\r\n    ['D', 1000 * 60 * 60 * 24],\r\n    ['H', 1000 * 60 * 60],\r\n    ['m', 1000 * 60],\r\n    ['s', 1000],\r\n    ['S', 1] // million seconds\r\n];\r\nclass XTimeRangePipe {\r\n    transform(value, format = 'HH:mm:ss') {\r\n        let duration = Number(value || 0);\r\n        return timeUnits.reduce((current, [name, unit]) => {\r\n            if (current.indexOf(name) !== -1) {\r\n                const v = Math.floor(duration / unit);\r\n                duration -= v * unit;\r\n                return current.replace(new RegExp(`${name}+`, 'g'), (match) => {\r\n                    return this.padStart(v.toString(), match.length, '0');\r\n                });\r\n            }\r\n            return current;\r\n        }, format);\r\n    }\r\n    padStart(toPad, length, element) {\r\n        if (toPad.length > length) {\r\n            return toPad;\r\n        }\r\n        const joined = `${this.getRepeatedElement(length, element)}${toPad}`;\r\n        return joined.slice(joined.length - length, joined.length);\r\n    }\r\n    getRepeatedElement(length, element) {\r\n        return Array(length).fill(element).join('');\r\n    }\r\n}\r\n/** @nocollapse */ XTimeRangePipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XTimeRangePipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ XTimeRangePipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"14.0.2\", ngImport: i0, type: XTimeRangePipe, name: \"xTimeRange\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XTimeRangePipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{ name: `${XTimeRangePrefix}` }]\r\n        }] });\n\nclass XTimeRangeModule {\r\n}\r\n/** @nocollapse */ XTimeRangeModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XTimeRangeModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ XTimeRangeModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.2\", ngImport: i0, type: XTimeRangeModule, declarations: [XTimeRangePipe], exports: [XTimeRangePipe] });\r\n/** @nocollapse */ XTimeRangeModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XTimeRangeModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XTimeRangeModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [XTimeRangePipe],\r\n                    exports: [XTimeRangePipe]\r\n                }]\r\n        }] });\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { XTimeRangeModule, XTimeRangePipe, XTimeRangePrefix, timeUnits };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}