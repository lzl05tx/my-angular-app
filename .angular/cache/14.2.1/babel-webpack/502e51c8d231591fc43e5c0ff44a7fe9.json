{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Component, Input, ViewEncapsulation, ChangeDetectionStrategy, Inject, ViewChild, NgModule } from '@angular/core';\nimport { __decorate } from 'tslib';\nimport * as i1 from '@ng-nest/ui/core';\nimport { XProperty, XWithConfig, computedStyle, XIsEmpty, XIsUndefined, XIsNumber, reqAnimFrame } from '@ng-nest/ui/core';\nimport * as i2 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { Subject, fromEvent } from 'rxjs';\nimport { throttleTime, takeUntil } from 'rxjs/operators';\nimport * as i3 from '@ng-nest/ui/affix';\nimport { XAffixModule } from '@ng-nest/ui/affix';\nimport * as i4 from '@ng-nest/ui/slider';\nimport { XSliderModule } from '@ng-nest/ui/slider';\n/**\r\n * Anchor\r\n * @selector x-anchor\r\n * @decorator component\r\n */\n\nconst _c0 = [\"anchor\"];\nconst _c1 = [\"content\"];\n\nfunction XAnchorComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const node_r4 = ctx.$node;\n    i0.ɵɵstyleProp(\"padding-left\", node_r4.left - 1, \"rem\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(node_r4.label);\n  }\n}\n\nconst _c2 = [\"*\"];\nconst XAnchorPrefix = 'x-anchor';\nconst X_CONFIG_NAME = 'anchor';\n/**\r\n * Anchor Property\r\n */\n\nclass XAnchorProperty extends XProperty {}\n/** @nocollapse */\n\n\nXAnchorProperty.ɵfac = /* @__PURE__ */function () {\n  let ɵXAnchorProperty_BaseFactory;\n  return function XAnchorProperty_Factory(t) {\n    return (ɵXAnchorProperty_BaseFactory || (ɵXAnchorProperty_BaseFactory = i0.ɵɵgetInheritedFactory(XAnchorProperty)))(t || XAnchorProperty);\n  };\n}();\n/** @nocollapse */\n\n\nXAnchorProperty.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: XAnchorProperty,\n  selectors: [[\"ng-component\"]],\n  inputs: {\n    scroll: \"scroll\",\n    affixTop: \"affixTop\",\n    layout: \"layout\",\n    justify: \"justify\"\n  },\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 0,\n  vars: 0,\n  template: function XAnchorProperty_Template(rf, ctx) {},\n  encapsulation: 2\n});\n\n__decorate([XWithConfig(X_CONFIG_NAME, '0')], XAnchorProperty.prototype, \"affixTop\", void 0);\n\n__decorate([XWithConfig(X_CONFIG_NAME, 'right')], XAnchorProperty.prototype, \"layout\", void 0);\n\n__decorate([XWithConfig(X_CONFIG_NAME, 'start')], XAnchorProperty.prototype, \"justify\", void 0);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XAnchorProperty, [{\n    type: Component,\n    args: [{\n      template: ''\n    }]\n  }], null, {\n    scroll: [{\n      type: Input\n    }],\n    affixTop: [{\n      type: Input\n    }],\n    layout: [{\n      type: Input\n    }],\n    justify: [{\n      type: Input\n    }]\n  });\n})();\n\nclass XAnchorComponent extends XAnchorProperty {\n  constructor(renderer, elementRef, cdr, doc, configService) {\n    super();\n    this.renderer = renderer;\n    this.elementRef = elementRef;\n    this.cdr = cdr;\n    this.configService = configService;\n    this.hElements = [];\n    this.sliderData = [];\n    this.activatedIndex = 0;\n    this._scrolling = false;\n    this._unSubject = new Subject();\n    this.document = doc;\n    this._fontSize = parseFloat(computedStyle(this.document.documentElement, 'font-size'));\n  }\n\n  ngOnInit() {\n    this.setClassMap();\n    this.setSliderData();\n    this.setHeight();\n  }\n\n  ngAfterViewInit() {\n    this.setScroll();\n  }\n\n  ngOnDestroy() {\n    this._unSubject.next();\n\n    this._unSubject.unsubscribe();\n  }\n\n  activatedChange(index) {\n    if (XIsEmpty(this.hElements) || XIsUndefined(this.scroll)) return;\n    this._scrolling = true;\n    const hElement = this.hElements[index];\n    let scrollTop = hElement.offsetTop - this.anchor.nativeElement.offsetTop - parseFloat(computedStyle(hElement, 'margin-top'));\n    let maxScrollTop = this.scroll.scrollHeight - this.scroll.clientHeight;\n    if (scrollTop > maxScrollTop) scrollTop = maxScrollTop;\n    this.scrollTo(this.scroll, parseInt(`${scrollTop}`), 150);\n  }\n\n  setClassMap() {\n    this.classMap[`${XAnchorPrefix}-${this.layout}`] = !XIsEmpty(this.layout);\n  }\n\n  setScroll() {\n    fromEvent(this.scroll ? this.scroll : window, 'scroll').pipe(throttleTime(10), takeUntil(this._unSubject)).subscribe(() => {\n      if (this._scrolling) return;\n      this.setActivatedByScroll();\n    });\n\n    if (!this.scroll) {\n      this.scroll = this.document.documentElement;\n    }\n  }\n\n  setActivatedByScroll() {\n    let now = 0;\n    this.hElements.forEach((h, index) => {\n      let distance = this.scroll.scrollTop + this.anchor.nativeElement.offsetTop;\n\n      if (distance >= h.offsetTop) {\n        now = index;\n        return;\n      }\n    });\n    this.activatedIndex = now;\n    this.cdr.detectChanges();\n  }\n\n  setSliderData() {\n    this.hElements = this.content.nativeElement.querySelectorAll(':scope> h1,:scope> h2,:scope> h3,:scope> h4,:scope> h5');\n\n    if (this.hElements.length > 0) {\n      let list = [];\n      this.hElements.forEach((x, i) => {\n        const link = `x-anchor-${i}`;\n        const left = this.setLeft(x);\n        this.renderer.setAttribute(x, 'id', link);\n        list = [...list, {\n          id: i,\n          label: x.innerText,\n          left: left,\n          link: link\n        }];\n      });\n      this.sliderData = list;\n    }\n  }\n\n  setLeft(element) {\n    const eles = ['H1', 'H2', 'H3', 'H4', 'H5'];\n    const index = eles.indexOf(element.tagName);\n    return index + 1;\n  }\n\n  setHeight() {\n    if (this.scroll) {\n      let height = this.scroll.offsetHeight;\n      let top = parseFloat(computedStyle(this.scroll, 'padding-top'));\n      let borderTop = parseFloat(computedStyle(this.scroll, 'border-top'));\n      let bottom = parseFloat(computedStyle(this.scroll, 'padding-bottom'));\n      let borderBottom = parseFloat(computedStyle(this.scroll, 'border-bottom'));\n      this.sliderHeight = height - top - bottom - borderTop - borderBottom - this.getTop();\n    }\n  }\n\n  getTop() {\n    if (this.affixTop === '0') return 0;\n    if (XIsNumber(this.affixTop)) return Number(this.affixTop);else if (this.affixTop.indexOf('rem') !== -1) return Number(this.affixTop.replace(/rem/g, '')) * this._fontSize;else if (this.affixTop.indexOf('px') !== -1) return Number(this.affixTop.replace(/px/g, ''));\n    return 0;\n  }\n\n  scrollTo(element, to, duration) {\n    const difference = to - element.scrollTop;\n    const perTick = difference / duration * 10;\n    reqAnimFrame(() => {\n      element.scrollTop = element.scrollTop + perTick;\n\n      if (element.scrollTop === to || duration <= 0) {\n        setTimeout(() => this._scrolling = false, 20);\n        return;\n      } else {\n        this.scrollTo(element, to, duration - 10);\n      }\n    });\n  }\n\n}\n/** @nocollapse */\n\n\nXAnchorComponent.ɵfac = function XAnchorComponent_Factory(t) {\n  return new (t || XAnchorComponent)(i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(i1.XConfigService));\n};\n/** @nocollapse */\n\n\nXAnchorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: XAnchorComponent,\n  selectors: [[\"x-anchor\"]],\n  viewQuery: function XAnchorComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n      i0.ɵɵviewQuery(_c1, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.anchor = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n    }\n  },\n  features: [i0.ɵɵInheritDefinitionFeature],\n  ngContentSelectors: _c2,\n  decls: 10,\n  vars: 8,\n  consts: [[1, \"x-anchor\", 3, \"ngClass\"], [\"anchor\", \"\"], [1, \"x-anchor-content\"], [\"content\", \"\"], [1, \"x-anchor-affix\", 3, \"top\"], [1, \"x-anchor-slider\"], [\"layout\", \"column\", 3, \"data\", \"activatedIndex\", \"nodeJustify\", \"nodeTpl\", \"indexChange\"], [\"sliderNodeTpl\", \"\"]],\n  template: function XAnchorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", 0, 1)(2, \"div\", 2, 3);\n      i0.ɵɵprojection(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"x-affix\", 4)(6, \"div\", 5)(7, \"x-slider\", 6);\n      i0.ɵɵlistener(\"indexChange\", function XAnchorComponent_Template_x_slider_indexChange_7_listener($event) {\n        return ctx.activatedChange($event);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(8, XAnchorComponent_ng_template_8_Template, 2, 3, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(9);\n\n      i0.ɵɵproperty(\"ngClass\", ctx.classMap);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"top\", ctx.affixTop);\n      i0.ɵɵadvance(1);\n      i0.ɵɵstyleProp(\"height\", ctx.sliderHeight, \"px\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"data\", ctx.sliderData)(\"activatedIndex\", ctx.activatedIndex)(\"nodeJustify\", ctx.justify)(\"nodeTpl\", _r2);\n    }\n  },\n  dependencies: [i2.NgClass, i3.XAffixComponent, i4.XSliderComponent],\n  styles: [\".x-anchor{margin:0;padding:0;display:flex}.x-anchor-content{flex:1}.x-anchor-affix{display:block}.x-anchor-slider{float:left;overflow:hidden}.x-anchor-slider:hover{overflow-y:auto}.x-anchor-right{flex-direction:row}.x-anchor-right .x-slider-column>.x-slider-scroll{overflow-y:auto}.x-anchor-right .x-slider-column>.x-slider-scroll>ul>li{border-left:.125rem solid var(--x-border)}.x-anchor-right .x-slider-column>.x-slider-scroll>ul>li.x-slider-highlight{border:none;border-top-left-radius:0;border-bottom-left-radius:0;z-index:2;border-left:.125rem solid var(--x-primary)}.x-anchor-left{flex-direction:row-reverse}.x-anchor-left .x-slider-column>.x-slider-scroll{overflow-y:auto}.x-anchor-left .x-slider-column>.x-slider-scroll>ul>li{border-right:.125rem solid var(--x-border)}.x-anchor-left .x-slider-column>.x-slider-scroll>ul>li.x-slider-highlight{border:none;border-top-right-radius:0;border-bottom-right-radius:0;z-index:2;border-right:.125rem solid var(--x-primary)}\\n\"],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XAnchorComponent, [{\n    type: Component,\n    args: [{\n      selector: `${XAnchorPrefix}`,\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<div #anchor class=\\\"x-anchor\\\" [ngClass]=\\\"classMap\\\">\\r\\n  <div #content class=\\\"x-anchor-content\\\">\\r\\n    <ng-content></ng-content>\\r\\n  </div>\\r\\n  <x-affix class=\\\"x-anchor-affix\\\" [top]=\\\"affixTop\\\">\\r\\n    <div class=\\\"x-anchor-slider\\\" [style.height.px]=\\\"sliderHeight\\\">\\r\\n      <x-slider\\r\\n        [data]=\\\"sliderData\\\"\\r\\n        layout=\\\"column\\\"\\r\\n        [activatedIndex]=\\\"activatedIndex\\\"\\r\\n        [nodeJustify]=\\\"justify\\\"\\r\\n        [nodeTpl]=\\\"sliderNodeTpl\\\"\\r\\n        (indexChange)=\\\"activatedChange($event)\\\"\\r\\n      ></x-slider>\\r\\n    </div>\\r\\n  </x-affix>\\r\\n</div>\\r\\n\\r\\n<ng-template #sliderNodeTpl let-node=\\\"$node\\\">\\r\\n  <span [style.padding-left.rem]=\\\"node.left - 1\\\">{{ node.label }}</span>\\r\\n</ng-template>\\r\\n\",\n      styles: [\".x-anchor{margin:0;padding:0;display:flex}.x-anchor-content{flex:1}.x-anchor-affix{display:block}.x-anchor-slider{float:left;overflow:hidden}.x-anchor-slider:hover{overflow-y:auto}.x-anchor-right{flex-direction:row}.x-anchor-right .x-slider-column>.x-slider-scroll{overflow-y:auto}.x-anchor-right .x-slider-column>.x-slider-scroll>ul>li{border-left:.125rem solid var(--x-border)}.x-anchor-right .x-slider-column>.x-slider-scroll>ul>li.x-slider-highlight{border:none;border-top-left-radius:0;border-bottom-left-radius:0;z-index:2;border-left:.125rem solid var(--x-primary)}.x-anchor-left{flex-direction:row-reverse}.x-anchor-left .x-slider-column>.x-slider-scroll{overflow-y:auto}.x-anchor-left .x-slider-column>.x-slider-scroll>ul>li{border-right:.125rem solid var(--x-border)}.x-anchor-left .x-slider-column>.x-slider-scroll>ul>li.x-slider-highlight{border:none;border-top-right-radius:0;border-bottom-right-radius:0;z-index:2;border-right:.125rem solid var(--x-primary)}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: i0.Renderer2\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i1.XConfigService\n    }];\n  }, {\n    anchor: [{\n      type: ViewChild,\n      args: ['anchor', {\n        static: true\n      }]\n    }],\n    content: [{\n      type: ViewChild,\n      args: ['content', {\n        static: true\n      }]\n    }]\n  });\n})();\n\nclass XAnchorModule {}\n/** @nocollapse */\n\n\nXAnchorModule.ɵfac = function XAnchorModule_Factory(t) {\n  return new (t || XAnchorModule)();\n};\n/** @nocollapse */\n\n\nXAnchorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: XAnchorModule\n});\n/** @nocollapse */\n\nXAnchorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [CommonModule, XAffixModule, XSliderModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XAnchorModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [XAnchorComponent, XAnchorProperty],\n      exports: [XAnchorComponent],\n      imports: [CommonModule, XAffixModule, XSliderModule]\n    }]\n  }], null, null);\n})();\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\n\nexport { XAnchorComponent, XAnchorModule, XAnchorPrefix, XAnchorProperty };","map":{"version":3,"names":["i0","Component","Input","ViewEncapsulation","ChangeDetectionStrategy","Inject","ViewChild","NgModule","__decorate","i1","XProperty","XWithConfig","computedStyle","XIsEmpty","XIsUndefined","XIsNumber","reqAnimFrame","i2","DOCUMENT","CommonModule","Subject","fromEvent","throttleTime","takeUntil","i3","XAffixModule","i4","XSliderModule","XAnchorPrefix","X_CONFIG_NAME","XAnchorProperty","ɵfac","ɵcmp","prototype","type","args","template","scroll","affixTop","layout","justify","XAnchorComponent","constructor","renderer","elementRef","cdr","doc","configService","hElements","sliderData","activatedIndex","_scrolling","_unSubject","document","_fontSize","parseFloat","documentElement","ngOnInit","setClassMap","setSliderData","setHeight","ngAfterViewInit","setScroll","ngOnDestroy","next","unsubscribe","activatedChange","index","hElement","scrollTop","offsetTop","anchor","nativeElement","maxScrollTop","scrollHeight","clientHeight","scrollTo","parseInt","classMap","window","pipe","subscribe","setActivatedByScroll","now","forEach","h","distance","detectChanges","content","querySelectorAll","length","list","x","i","link","left","setLeft","setAttribute","id","label","innerText","element","eles","indexOf","tagName","height","offsetHeight","top","borderTop","bottom","borderBottom","sliderHeight","getTop","Number","replace","to","duration","difference","perTick","setTimeout","Renderer2","ElementRef","ChangeDetectorRef","XConfigService","NgClass","XAffixComponent","XSliderComponent","selector","encapsulation","None","changeDetection","OnPush","styles","undefined","decorators","static","XAnchorModule","ɵmod","ɵinj","declarations","exports","imports"],"sources":["/Users/lzl/my-angular-app/node_modules/@ng-nest/ui/fesm2020/ng-nest-ui-anchor.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Component, Input, ViewEncapsulation, ChangeDetectionStrategy, Inject, ViewChild, NgModule } from '@angular/core';\nimport { __decorate } from 'tslib';\nimport * as i1 from '@ng-nest/ui/core';\nimport { XProperty, XWithConfig, computedStyle, XIsEmpty, XIsUndefined, XIsNumber, reqAnimFrame } from '@ng-nest/ui/core';\nimport * as i2 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { Subject, fromEvent } from 'rxjs';\nimport { throttleTime, takeUntil } from 'rxjs/operators';\nimport * as i3 from '@ng-nest/ui/affix';\nimport { XAffixModule } from '@ng-nest/ui/affix';\nimport * as i4 from '@ng-nest/ui/slider';\nimport { XSliderModule } from '@ng-nest/ui/slider';\n\n/**\r\n * Anchor\r\n * @selector x-anchor\r\n * @decorator component\r\n */\r\nconst XAnchorPrefix = 'x-anchor';\r\nconst X_CONFIG_NAME = 'anchor';\r\n/**\r\n * Anchor Property\r\n */\r\nclass XAnchorProperty extends XProperty {\r\n}\r\n/** @nocollapse */ XAnchorProperty.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XAnchorProperty, deps: null, target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ XAnchorProperty.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.2\", type: XAnchorProperty, selector: \"ng-component\", inputs: { scroll: \"scroll\", affixTop: \"affixTop\", layout: \"layout\", justify: \"justify\" }, usesInheritance: true, ngImport: i0, template: '', isInline: true });\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME, '0')\r\n], XAnchorProperty.prototype, \"affixTop\", void 0);\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME, 'right')\r\n], XAnchorProperty.prototype, \"layout\", void 0);\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME, 'start')\r\n], XAnchorProperty.prototype, \"justify\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XAnchorProperty, decorators: [{\r\n            type: Component,\r\n            args: [{ template: '' }]\r\n        }], propDecorators: { scroll: [{\r\n                type: Input\r\n            }], affixTop: [{\r\n                type: Input\r\n            }], layout: [{\r\n                type: Input\r\n            }], justify: [{\r\n                type: Input\r\n            }] } });\n\nclass XAnchorComponent extends XAnchorProperty {\r\n    constructor(renderer, elementRef, cdr, doc, configService) {\r\n        super();\r\n        this.renderer = renderer;\r\n        this.elementRef = elementRef;\r\n        this.cdr = cdr;\r\n        this.configService = configService;\r\n        this.hElements = [];\r\n        this.sliderData = [];\r\n        this.activatedIndex = 0;\r\n        this._scrolling = false;\r\n        this._unSubject = new Subject();\r\n        this.document = doc;\r\n        this._fontSize = parseFloat(computedStyle(this.document.documentElement, 'font-size'));\r\n    }\r\n    ngOnInit() {\r\n        this.setClassMap();\r\n        this.setSliderData();\r\n        this.setHeight();\r\n    }\r\n    ngAfterViewInit() {\r\n        this.setScroll();\r\n    }\r\n    ngOnDestroy() {\r\n        this._unSubject.next();\r\n        this._unSubject.unsubscribe();\r\n    }\r\n    activatedChange(index) {\r\n        if (XIsEmpty(this.hElements) || XIsUndefined(this.scroll))\r\n            return;\r\n        this._scrolling = true;\r\n        const hElement = this.hElements[index];\r\n        let scrollTop = hElement.offsetTop - this.anchor.nativeElement.offsetTop - parseFloat(computedStyle(hElement, 'margin-top'));\r\n        let maxScrollTop = this.scroll.scrollHeight - this.scroll.clientHeight;\r\n        if (scrollTop > maxScrollTop)\r\n            scrollTop = maxScrollTop;\r\n        this.scrollTo(this.scroll, parseInt(`${scrollTop}`), 150);\r\n    }\r\n    setClassMap() {\r\n        this.classMap[`${XAnchorPrefix}-${this.layout}`] = !XIsEmpty(this.layout);\r\n    }\r\n    setScroll() {\r\n        fromEvent(this.scroll ? this.scroll : window, 'scroll')\r\n            .pipe(throttleTime(10), takeUntil(this._unSubject))\r\n            .subscribe(() => {\r\n            if (this._scrolling)\r\n                return;\r\n            this.setActivatedByScroll();\r\n        });\r\n        if (!this.scroll) {\r\n            this.scroll = this.document.documentElement;\r\n        }\r\n    }\r\n    setActivatedByScroll() {\r\n        let now = 0;\r\n        this.hElements.forEach((h, index) => {\r\n            let distance = this.scroll.scrollTop + this.anchor.nativeElement.offsetTop;\r\n            if (distance >= h.offsetTop) {\r\n                now = index;\r\n                return;\r\n            }\r\n        });\r\n        this.activatedIndex = now;\r\n        this.cdr.detectChanges();\r\n    }\r\n    setSliderData() {\r\n        this.hElements = this.content.nativeElement.querySelectorAll(':scope> h1,:scope> h2,:scope> h3,:scope> h4,:scope> h5');\r\n        if (this.hElements.length > 0) {\r\n            let list = [];\r\n            this.hElements.forEach((x, i) => {\r\n                const link = `x-anchor-${i}`;\r\n                const left = this.setLeft(x);\r\n                this.renderer.setAttribute(x, 'id', link);\r\n                list = [\r\n                    ...list,\r\n                    {\r\n                        id: i,\r\n                        label: x.innerText,\r\n                        left: left,\r\n                        link: link\r\n                    }\r\n                ];\r\n            });\r\n            this.sliderData = list;\r\n        }\r\n    }\r\n    setLeft(element) {\r\n        const eles = ['H1', 'H2', 'H3', 'H4', 'H5'];\r\n        const index = eles.indexOf(element.tagName);\r\n        return index + 1;\r\n    }\r\n    setHeight() {\r\n        if (this.scroll) {\r\n            let height = this.scroll.offsetHeight;\r\n            let top = parseFloat(computedStyle(this.scroll, 'padding-top'));\r\n            let borderTop = parseFloat(computedStyle(this.scroll, 'border-top'));\r\n            let bottom = parseFloat(computedStyle(this.scroll, 'padding-bottom'));\r\n            let borderBottom = parseFloat(computedStyle(this.scroll, 'border-bottom'));\r\n            this.sliderHeight = height - top - bottom - borderTop - borderBottom - this.getTop();\r\n        }\r\n    }\r\n    getTop() {\r\n        if (this.affixTop === '0')\r\n            return 0;\r\n        if (XIsNumber(this.affixTop))\r\n            return Number(this.affixTop);\r\n        else if (this.affixTop.indexOf('rem') !== -1)\r\n            return Number(this.affixTop.replace(/rem/g, '')) * this._fontSize;\r\n        else if (this.affixTop.indexOf('px') !== -1)\r\n            return Number(this.affixTop.replace(/px/g, ''));\r\n        return 0;\r\n    }\r\n    scrollTo(element, to, duration) {\r\n        const difference = to - element.scrollTop;\r\n        const perTick = (difference / duration) * 10;\r\n        reqAnimFrame(() => {\r\n            element.scrollTop = element.scrollTop + perTick;\r\n            if (element.scrollTop === to || duration <= 0) {\r\n                setTimeout(() => (this._scrolling = false), 20);\r\n                return;\r\n            }\r\n            else {\r\n                this.scrollTo(element, to, duration - 10);\r\n            }\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ XAnchorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XAnchorComponent, deps: [{ token: i0.Renderer2 }, { token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: DOCUMENT }, { token: i1.XConfigService }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ XAnchorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.2\", type: XAnchorComponent, selector: \"x-anchor\", viewQueries: [{ propertyName: \"anchor\", first: true, predicate: [\"anchor\"], descendants: true, static: true }, { propertyName: \"content\", first: true, predicate: [\"content\"], descendants: true, static: true }], usesInheritance: true, ngImport: i0, template: \"<div #anchor class=\\\"x-anchor\\\" [ngClass]=\\\"classMap\\\">\\r\\n  <div #content class=\\\"x-anchor-content\\\">\\r\\n    <ng-content></ng-content>\\r\\n  </div>\\r\\n  <x-affix class=\\\"x-anchor-affix\\\" [top]=\\\"affixTop\\\">\\r\\n    <div class=\\\"x-anchor-slider\\\" [style.height.px]=\\\"sliderHeight\\\">\\r\\n      <x-slider\\r\\n        [data]=\\\"sliderData\\\"\\r\\n        layout=\\\"column\\\"\\r\\n        [activatedIndex]=\\\"activatedIndex\\\"\\r\\n        [nodeJustify]=\\\"justify\\\"\\r\\n        [nodeTpl]=\\\"sliderNodeTpl\\\"\\r\\n        (indexChange)=\\\"activatedChange($event)\\\"\\r\\n      ></x-slider>\\r\\n    </div>\\r\\n  </x-affix>\\r\\n</div>\\r\\n\\r\\n<ng-template #sliderNodeTpl let-node=\\\"$node\\\">\\r\\n  <span [style.padding-left.rem]=\\\"node.left - 1\\\">{{ node.label }}</span>\\r\\n</ng-template>\\r\\n\", styles: [\".x-anchor{margin:0;padding:0;display:flex}.x-anchor-content{flex:1}.x-anchor-affix{display:block}.x-anchor-slider{float:left;overflow:hidden}.x-anchor-slider:hover{overflow-y:auto}.x-anchor-right{flex-direction:row}.x-anchor-right .x-slider-column>.x-slider-scroll{overflow-y:auto}.x-anchor-right .x-slider-column>.x-slider-scroll>ul>li{border-left:.125rem solid var(--x-border)}.x-anchor-right .x-slider-column>.x-slider-scroll>ul>li.x-slider-highlight{border:none;border-top-left-radius:0;border-bottom-left-radius:0;z-index:2;border-left:.125rem solid var(--x-primary)}.x-anchor-left{flex-direction:row-reverse}.x-anchor-left .x-slider-column>.x-slider-scroll{overflow-y:auto}.x-anchor-left .x-slider-column>.x-slider-scroll>ul>li{border-right:.125rem solid var(--x-border)}.x-anchor-left .x-slider-column>.x-slider-scroll>ul>li.x-slider-highlight{border:none;border-top-right-radius:0;border-bottom-right-radius:0;z-index:2;border-right:.125rem solid var(--x-primary)}\\n\"], dependencies: [{ kind: \"directive\", type: i2.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"component\", type: i3.XAffixComponent, selector: \"x-affix\" }, { kind: \"component\", type: i4.XSliderComponent, selector: \"x-slider\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XAnchorComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: `${XAnchorPrefix}`, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div #anchor class=\\\"x-anchor\\\" [ngClass]=\\\"classMap\\\">\\r\\n  <div #content class=\\\"x-anchor-content\\\">\\r\\n    <ng-content></ng-content>\\r\\n  </div>\\r\\n  <x-affix class=\\\"x-anchor-affix\\\" [top]=\\\"affixTop\\\">\\r\\n    <div class=\\\"x-anchor-slider\\\" [style.height.px]=\\\"sliderHeight\\\">\\r\\n      <x-slider\\r\\n        [data]=\\\"sliderData\\\"\\r\\n        layout=\\\"column\\\"\\r\\n        [activatedIndex]=\\\"activatedIndex\\\"\\r\\n        [nodeJustify]=\\\"justify\\\"\\r\\n        [nodeTpl]=\\\"sliderNodeTpl\\\"\\r\\n        (indexChange)=\\\"activatedChange($event)\\\"\\r\\n      ></x-slider>\\r\\n    </div>\\r\\n  </x-affix>\\r\\n</div>\\r\\n\\r\\n<ng-template #sliderNodeTpl let-node=\\\"$node\\\">\\r\\n  <span [style.padding-left.rem]=\\\"node.left - 1\\\">{{ node.label }}</span>\\r\\n</ng-template>\\r\\n\", styles: [\".x-anchor{margin:0;padding:0;display:flex}.x-anchor-content{flex:1}.x-anchor-affix{display:block}.x-anchor-slider{float:left;overflow:hidden}.x-anchor-slider:hover{overflow-y:auto}.x-anchor-right{flex-direction:row}.x-anchor-right .x-slider-column>.x-slider-scroll{overflow-y:auto}.x-anchor-right .x-slider-column>.x-slider-scroll>ul>li{border-left:.125rem solid var(--x-border)}.x-anchor-right .x-slider-column>.x-slider-scroll>ul>li.x-slider-highlight{border:none;border-top-left-radius:0;border-bottom-left-radius:0;z-index:2;border-left:.125rem solid var(--x-primary)}.x-anchor-left{flex-direction:row-reverse}.x-anchor-left .x-slider-column>.x-slider-scroll{overflow-y:auto}.x-anchor-left .x-slider-column>.x-slider-scroll>ul>li{border-right:.125rem solid var(--x-border)}.x-anchor-left .x-slider-column>.x-slider-scroll>ul>li.x-slider-highlight{border:none;border-top-right-radius:0;border-bottom-right-radius:0;z-index:2;border-right:.125rem solid var(--x-primary)}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{\r\n                    type: Inject,\r\n                    args: [DOCUMENT]\r\n                }] }, { type: i1.XConfigService }]; }, propDecorators: { anchor: [{\r\n                type: ViewChild,\r\n                args: ['anchor', { static: true }]\r\n            }], content: [{\r\n                type: ViewChild,\r\n                args: ['content', { static: true }]\r\n            }] } });\n\nclass XAnchorModule {\r\n}\r\n/** @nocollapse */ XAnchorModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XAnchorModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ XAnchorModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.2\", ngImport: i0, type: XAnchorModule, declarations: [XAnchorComponent, XAnchorProperty], imports: [CommonModule, XAffixModule, XSliderModule], exports: [XAnchorComponent] });\r\n/** @nocollapse */ XAnchorModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XAnchorModule, imports: [CommonModule, XAffixModule, XSliderModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XAnchorModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [XAnchorComponent, XAnchorProperty],\r\n                    exports: [XAnchorComponent],\r\n                    imports: [CommonModule, XAffixModule, XSliderModule]\r\n                }]\r\n        }] });\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { XAnchorComponent, XAnchorModule, XAnchorPrefix, XAnchorProperty };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}