{"ast":null,"code":"import { Subject } from 'rxjs';\nimport * as i0 from '@angular/core';\nimport { Component, Input, ViewEncapsulation, ChangeDetectionStrategy, HostBinding, HostListener, ViewChild, NgModule } from '@angular/core';\nimport { __decorate } from 'tslib';\nimport * as i4 from '@ng-nest/ui/core';\nimport { XDataConvert, XWithConfig, XInputBoolean, XInputNumber, XConnectBaseAnimation, XIsEmpty, XIsArray, XIsChange, XResize, XClearClass, XSetData, XIsFunction, XIsObjectArray, XRemove, XIsString, XIsObservable } from '@ng-nest/ui/core';\nimport { XControlValueAccessor, XValueAccessor, XBaseFormModule } from '@ng-nest/ui/base-form';\nimport * as i1$1 from '@ng-nest/ui/portal';\nimport { XPortalConnectedPosition, XPortalModule } from '@ng-nest/ui/portal';\nimport { takeUntil, map, debounceTime, distinctUntilChanged, throttleTime } from 'rxjs/operators';\nimport * as i1 from '@ng-nest/ui/i18n';\nimport { XI18nModule } from '@ng-nest/ui/i18n';\nimport * as i6 from '@angular/forms';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport * as i3 from '@ng-nest/ui/list';\nimport { XListModule } from '@ng-nest/ui/list';\nimport { DOWN_ARROW, UP_ARROW, LEFT_ARROW, RIGHT_ARROW, ENTER, MAC_ENTER, ESCAPE, TAB } from '@angular/cdk/keycodes';\nimport * as i2 from '@angular/cdk/overlay';\nimport * as i5 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i7 from '@ng-nest/ui/input';\nimport { XInputModule } from '@ng-nest/ui/input';\nimport * as i8 from '@ng-nest/ui/tag';\nimport { XTagModule } from '@ng-nest/ui/tag';\nimport * as i9 from '@ng-nest/ui/outlet';\nimport { XOutletModule } from '@ng-nest/ui/outlet';\n/**\r\n * Select\r\n * @selector x-select\r\n * @decorator component\r\n */\n\nconst _c0 = [\"list\"];\nconst _c1 = [\"inputCom\"];\nconst _c2 = [\"select\"];\nconst _c3 = [\"multipleValueTpl\"];\nconst _c4 = [\"multipleInput\"];\n\nfunction XSelectComponent_ng_template_5_x_tag_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"x-tag\", 9);\n    i0.ɵɵlistener(\"close\", function XSelectComponent_ng_template_5_x_tag_0_Template_x_tag_close_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const node_r7 = restoredCtx.$implicit;\n      const i_r8 = restoredCtx.index;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.closeNode($event, node_r7, i_r8));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const node_r7 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"@.disabled\", true)(\"closable\", !ctx_r4.disabled)(\"size\", ctx_r4.size);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(node_r7.label);\n  }\n}\n\nfunction XSelectComponent_ng_template_5_x_tag_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r11.displayMore);\n  }\n}\n\nconst _c5 = function (a0, a1) {\n  return {\n    $surplus: a0,\n    $total: a1\n  };\n};\n\nfunction XSelectComponent_ng_template_5_x_tag_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"x-tag\", 10);\n    i0.ɵɵtemplate(1, XSelectComponent_ng_template_5_x_tag_1_ng_container_1_Template, 2, 1, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"@.disabled\", true)(\"size\", ctx_r5.size);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"xOutlet\", ctx_r5.getMaxTagContent)(\"xOutletContext\", i0.ɵɵpureFunction2(4, _c5, ctx_r5.selectedSurplus, ctx_r5.selectedTotal));\n  }\n}\n\nfunction XSelectComponent_ng_template_5_x_input_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"x-input\", 12, 13);\n    i0.ɵɵlistener(\"ngModelChange\", function XSelectComponent_ng_template_5_x_input_2_Template_x_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.multipleSearchValue = $event);\n    })(\"xInput\", function XSelectComponent_ng_template_5_x_input_2_Template_x_input_xInput_0_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.onInput($event));\n    })(\"xKeydown\", function XSelectComponent_ng_template_5_x_input_2_Template_x_input_xKeydown_0_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.onKeydown($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"size\", ctx_r6.size)(\"ngModel\", ctx_r6.multipleSearchValue);\n  }\n}\n\nfunction XSelectComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, XSelectComponent_ng_template_5_x_tag_0_Template, 2, 4, \"x-tag\", 6);\n    i0.ɵɵtemplate(1, XSelectComponent_ng_template_5_x_tag_1_Template, 2, 7, \"x-tag\", 7);\n    i0.ɵɵtemplate(2, XSelectComponent_ng_template_5_x_input_2_Template, 2, 2, \"x-input\", 8);\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.displayNodes);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.showDisplayMore);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.search);\n  }\n}\n\nconst XSelectPrefix = 'x-select';\nconst X_CONFIG_NAME = 'select';\n/**\r\n * Select Property\r\n */\n\nclass XSelectProperty extends XControlValueAccessor {\n  constructor() {\n    super(...arguments);\n    /**\r\n     * @zh_CN 节点数据\r\n     * @en_US Node data\r\n     */\n\n    this.data = [];\n  }\n\n}\n/** @nocollapse */\n\n\nXSelectProperty.ɵfac = /* @__PURE__ */function () {\n  let ɵXSelectProperty_BaseFactory;\n  return function XSelectProperty_Factory(t) {\n    return (ɵXSelectProperty_BaseFactory || (ɵXSelectProperty_BaseFactory = i0.ɵɵgetInheritedFactory(XSelectProperty)))(t || XSelectProperty);\n  };\n}();\n/** @nocollapse */\n\n\nXSelectProperty.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: XSelectProperty,\n  selectors: [[\"ng-component\"]],\n  inputs: {\n    data: \"data\",\n    clearable: \"clearable\",\n    async: \"async\",\n    placement: \"placement\",\n    multiple: \"multiple\",\n    selectAll: \"selectAll\",\n    selectAllText: \"selectAllText\",\n    nodeTpl: \"nodeTpl\",\n    size: \"size\",\n    bordered: \"bordered\",\n    portalMaxHeight: \"portalMaxHeight\",\n    search: \"search\",\n    caseSensitive: \"caseSensitive\",\n    debounceTime: \"debounceTime\",\n    maxTagCount: \"maxTagCount\",\n    maxTagContent: \"maxTagContent\"\n  },\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 0,\n  vars: 0,\n  template: function XSelectProperty_Template(rf, ctx) {},\n  encapsulation: 2\n});\n\n__decorate([XDataConvert()], XSelectProperty.prototype, \"data\", void 0);\n\n__decorate([XWithConfig(X_CONFIG_NAME, true), XInputBoolean()], XSelectProperty.prototype, \"clearable\", void 0);\n\n__decorate([XInputBoolean()], XSelectProperty.prototype, \"async\", void 0);\n\n__decorate([XWithConfig(X_CONFIG_NAME, 'bottom')], XSelectProperty.prototype, \"placement\", void 0);\n\n__decorate([XInputBoolean()], XSelectProperty.prototype, \"multiple\", void 0);\n\n__decorate([XInputBoolean()], XSelectProperty.prototype, \"selectAll\", void 0);\n\n__decorate([XWithConfig(X_CONFIG_NAME)], XSelectProperty.prototype, \"selectAllText\", void 0);\n\n__decorate([XWithConfig(X_CONFIG_NAME, 'medium')], XSelectProperty.prototype, \"size\", void 0);\n\n__decorate([XInputBoolean(), XWithConfig(X_CONFIG_NAME, true)], XSelectProperty.prototype, \"bordered\", void 0);\n\n__decorate([XWithConfig(X_CONFIG_NAME, '12rem')], XSelectProperty.prototype, \"portalMaxHeight\", void 0);\n\n__decorate([XInputBoolean(), XWithConfig(X_CONFIG_NAME, false)], XSelectProperty.prototype, \"search\", void 0);\n\n__decorate([XInputBoolean(), XWithConfig(X_CONFIG_NAME, true)], XSelectProperty.prototype, \"caseSensitive\", void 0);\n\n__decorate([XWithConfig(X_CONFIG_NAME, 200)], XSelectProperty.prototype, \"debounceTime\", void 0);\n\n__decorate([XInputNumber(), XWithConfig(X_CONFIG_NAME)], XSelectProperty.prototype, \"maxTagCount\", void 0);\n\n__decorate([XWithConfig(X_CONFIG_NAME)], XSelectProperty.prototype, \"maxTagContent\", void 0);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XSelectProperty, [{\n    type: Component,\n    args: [{\n      template: ''\n    }]\n  }], null, {\n    data: [{\n      type: Input\n    }],\n    clearable: [{\n      type: Input\n    }],\n    async: [{\n      type: Input\n    }],\n    placement: [{\n      type: Input\n    }],\n    multiple: [{\n      type: Input\n    }],\n    selectAll: [{\n      type: Input\n    }],\n    selectAllText: [{\n      type: Input\n    }],\n    nodeTpl: [{\n      type: Input\n    }],\n    size: [{\n      type: Input\n    }],\n    bordered: [{\n      type: Input\n    }],\n    portalMaxHeight: [{\n      type: Input\n    }],\n    search: [{\n      type: Input\n    }],\n    caseSensitive: [{\n      type: Input\n    }],\n    debounceTime: [{\n      type: Input\n    }],\n    maxTagCount: [{\n      type: Input\n    }],\n    maxTagContent: [{\n      type: Input\n    }]\n  });\n})();\n/**\r\n * Select Portal\r\n * @selector x-select-portal\r\n * @decorator component\r\n */\n\n\nconst XSelectPortalPrefix = 'x-select-portal';\n\nclass XSelectPortalComponent {\n  constructor(renderer, cdr, i18n) {\n    this.renderer = renderer;\n    this.cdr = cdr;\n    this.i18n = i18n;\n    this.multiple = 1;\n    this.selectAll = false;\n    this.show = false;\n    this.objectArray = false;\n    this.caseSensitive = true;\n    this.active = -1;\n    this.portalMaxHeight = '';\n    this.locale = {};\n    this.search = false;\n    this.scrollNull = undefined;\n    this._unSubject = new Subject();\n  }\n\n  done(event) {\n    this.animating(false);\n    event.toState === 'void' && this.destroyPortal();\n  }\n\n  start() {\n    this.animating(true);\n  }\n\n  get getSelectAllText() {\n    return this.selectAllText || this.locale.selectAllText;\n  }\n\n  ngOnInit() {\n    this.valueChange.pipe(takeUntil(this._unSubject)).subscribe(x => {\n      this.value = x;\n      this.cdr.detectChanges();\n    });\n    this.positionChange.pipe(takeUntil(this._unSubject)).subscribe(x => {\n      this.placement = x;\n      this.cdr.detectChanges();\n    });\n    this.dataChange.pipe(takeUntil(this._unSubject)).subscribe(x => {\n      this.data = x;\n      this.cdr.detectChanges();\n    });\n    this.closeSubject.pipe(takeUntil(this._unSubject)).subscribe(() => {\n      this.list.setUnActive(this.active);\n    });\n    this.keydownSubject.pipe(takeUntil(this._unSubject)).subscribe(x => {\n      this.list.keydown(x);\n    });\n    this.i18n.localeChange.pipe(map(x => x.select), takeUntil(this._unSubject)).subscribe(x => {\n      this.locale = x;\n      this.cdr.markForCheck();\n    });\n  }\n\n  ngOnDestroy() {\n    this._unSubject.next();\n\n    this._unSubject.unsubscribe();\n  }\n\n  stopPropagation(event) {\n    event.stopPropagation();\n  }\n\n  nodeClick(node) {\n    if (this.multiple === 0) {\n      this.nodeEmit(node, this.value);\n    } else {\n      this.nodeEmit(node);\n    }\n  }\n\n  onSelectAll(_isSelectAll) {\n    this.nodeEmit(null, this.value);\n  }\n\n  onActive(num) {\n    this.active = num;\n  }\n\n  onTabOut() {\n    this.closeSubject.next();\n  }\n\n}\n/** @nocollapse */\n\n\nXSelectPortalComponent.ɵfac = function XSelectPortalComponent_Factory(t) {\n  return new (t || XSelectPortalComponent)(i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.XI18nService));\n};\n/** @nocollapse */\n\n\nXSelectPortalComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: XSelectPortalComponent,\n  selectors: [[\"x-select-portal\"]],\n  viewQuery: function XSelectPortalComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.list = _t.first);\n    }\n  },\n  hostVars: 1,\n  hostBindings: function XSelectPortalComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵsyntheticHostListener(\"@x-connect-base-animation.done\", function XSelectPortalComponent_animation_x_connect_base_animation_done_HostBindingHandler($event) {\n        return ctx.done($event);\n      })(\"@x-connect-base-animation.start\", function XSelectPortalComponent_animation_x_connect_base_animation_start_HostBindingHandler($event) {\n        return ctx.start($event);\n      });\n    }\n\n    if (rf & 2) {\n      i0.ɵɵsyntheticHostProperty(\"@x-connect-base-animation\", ctx.placement);\n    }\n  },\n  decls: 4,\n  vars: 10,\n  consts: [[1, \"x-select-portal\", 3, \"click\"], [\"selectPortal\", \"\"], [\"checked\", \"\", 3, \"data\", \"ngModel\", \"objectArray\", \"multiple\", \"selectAll\", \"selectAllText\", \"nodeTpl\", \"scrollElement\", \"ngModelChange\", \"nodeClick\", \"keyManagerChange\", \"keyManagerTabOut\", \"onSelectAll\"], [\"list\", \"\"]],\n  template: function XSelectPortalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0, 1);\n      i0.ɵɵlistener(\"click\", function XSelectPortalComponent_Template_div_click_0_listener($event) {\n        ctx.inputCom.inputFocus();\n        return ctx.stopPropagation($event);\n      });\n      i0.ɵɵelementStart(2, \"x-list\", 2, 3);\n      i0.ɵɵlistener(\"ngModelChange\", function XSelectPortalComponent_Template_x_list_ngModelChange_2_listener($event) {\n        return ctx.value = $event;\n      })(\"nodeClick\", function XSelectPortalComponent_Template_x_list_nodeClick_2_listener($event) {\n        return ctx.nodeClick($event);\n      })(\"keyManagerChange\", function XSelectPortalComponent_Template_x_list_keyManagerChange_2_listener($event) {\n        return ctx.onActive($event);\n      })(\"keyManagerTabOut\", function XSelectPortalComponent_Template_x_list_keyManagerTabOut_2_listener() {\n        return ctx.onTabOut();\n      })(\"onSelectAll\", function XSelectPortalComponent_Template_x_list_onSelectAll_2_listener($event) {\n        return ctx.onSelectAll($event);\n      });\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(1);\n\n      i0.ɵɵstyleProp(\"max-height\", ctx.portalMaxHeight);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"data\", ctx.data)(\"ngModel\", ctx.value)(\"objectArray\", ctx.objectArray)(\"multiple\", ctx.multiple)(\"selectAll\", ctx.selectAll)(\"selectAllText\", ctx.getSelectAllText)(\"nodeTpl\", ctx.nodeTpl)(\"scrollElement\", ctx.search ? ctx.scrollNull : _r0);\n    }\n  },\n  dependencies: [i6.NgControlStatus, i6.NgModel, i3.XListComponent],\n  styles: [\"@charset \\\"UTF-8\\\";x-select-portal{width:100%}.x-select-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);width:100%;border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);position:relative;display:flex;background-color:var(--x-background);overflow:hidden auto;max-height:calc((calc(var(--x-font-size) + .875rem) * 6) + (var(--x-border-width) * 7))}\\n\"],\n  encapsulation: 2,\n  data: {\n    animation: [XConnectBaseAnimation]\n  },\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XSelectPortalComponent, [{\n    type: Component,\n    args: [{\n      selector: `${XSelectPortalPrefix}`,\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      animations: [XConnectBaseAnimation],\n      template: \"<div #selectPortal class=\\\"x-select-portal\\\" (click)=\\\"inputCom.inputFocus(); stopPropagation($event)\\\" [style.maxHeight]=\\\"portalMaxHeight\\\">\\r\\n  <x-list\\r\\n    #list\\r\\n    [data]=\\\"data\\\"\\r\\n    [(ngModel)]=\\\"value\\\"\\r\\n    (nodeClick)=\\\"nodeClick($event)\\\"\\r\\n    (keyManagerChange)=\\\"onActive($event)\\\"\\r\\n    (keyManagerTabOut)=\\\"onTabOut()\\\"\\r\\n    (onSelectAll)=\\\"onSelectAll($event)\\\"\\r\\n    checked\\r\\n    [objectArray]=\\\"objectArray\\\"\\r\\n    [multiple]=\\\"multiple\\\"\\r\\n    [selectAll]=\\\"selectAll\\\"\\r\\n    [selectAllText]=\\\"getSelectAllText\\\"\\r\\n    [nodeTpl]=\\\"nodeTpl\\\"\\r\\n    [scrollElement]=\\\"search ? scrollNull : selectPortal\\\"\\r\\n  ></x-list>\\r\\n</div>\\r\\n\",\n      styles: [\"@charset \\\"UTF-8\\\";x-select-portal{width:100%}.x-select-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);width:100%;border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);position:relative;display:flex;background-color:var(--x-background);overflow:hidden auto;max-height:calc((calc(var(--x-font-size) + .875rem) * 6) + (var(--x-border-width) * 7))}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: i0.Renderer2\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1.XI18nService\n    }];\n  }, {\n    placement: [{\n      type: HostBinding,\n      args: ['@x-connect-base-animation']\n    }],\n    done: [{\n      type: HostListener,\n      args: ['@x-connect-base-animation.done', ['$event']]\n    }],\n    start: [{\n      type: HostListener,\n      args: ['@x-connect-base-animation.start', ['$event']]\n    }],\n    list: [{\n      type: ViewChild,\n      args: ['list']\n    }]\n  });\n})();\n\nclass XSelectComponent extends XSelectProperty {\n  constructor(renderer, cdr, portalService, viewContainerRef, overlay, i18n, configService) {\n    super();\n    this.renderer = renderer;\n    this.cdr = cdr;\n    this.portalService = portalService;\n    this.viewContainerRef = viewContainerRef;\n    this.overlay = overlay;\n    this.i18n = i18n;\n    this.configService = configService;\n    this.readonly = true;\n    this.enter = false;\n    this.showClearable = false;\n    this.displayValue = '';\n    this.multipleSearchValue = '';\n    this.nodes = [];\n    this.selectedNodes = [];\n    this.displayNodes = [];\n    this.displayMore = '';\n    this.showDisplayMore = false;\n    this.searchNodes = [];\n    this.icon = 'fto-chevron-down';\n    this.iconSpin = false;\n    this.maxNodes = 6;\n    this.inputPadding = 0.4;\n    this.protalTobottom = true;\n    this.asyncLoading = false;\n    this.animating = false;\n    this.objectArray = false;\n    this.selectedSurplus = 0;\n    this.selectedTotal = 0;\n    this.locale = {};\n    this.valueTplContext = {\n      $node: null,\n      $isValue: true\n    };\n    this.valueChange = new Subject();\n    this.positionChange = new Subject();\n    this.closeSubject = new Subject();\n    this.dataChange = new Subject();\n    this.keydownSubject = new Subject();\n    this.inputChange = new Subject();\n    this.composition = false;\n    this.multipleInputSizeChange = new Subject();\n    this._unSubject = new Subject();\n  }\n\n  get getReadonly() {\n    return this.readonly && !this.search || Boolean(this.search) && Boolean(this.multiple);\n  }\n\n  get getMaxTagContent() {\n    return this.maxTagContent || this.locale.maxTagContent;\n  }\n\n  writeValue(value) {\n    if (this.multiple) {\n      if (XIsEmpty(value)) {\n        value = [];\n      }\n\n      if (!XIsArray(value)) {\n        value = [value];\n      }\n    }\n\n    this.value = value;\n    this.setDisplayValue();\n    this.valueChange.next(this.value);\n    this.cdr.detectChanges();\n  }\n\n  ngOnInit() {\n    this.setFlex(this.select.nativeElement, this.renderer, this.justify, this.align, this.direction);\n    this.setClassMap();\n    this.setSubject();\n\n    if (this.multiple) {\n      this.valueTpl = this.multipleValueTpl;\n      this.inputPadding = 0.125;\n    }\n\n    this.i18n.localeChange.pipe(map(x => x.select), takeUntil(this._unSubject)).subscribe(x => {\n      this.locale = x;\n      this.cdr.markForCheck();\n    });\n  }\n\n  ngOnChanges(changes) {\n    const {\n      data\n    } = changes;\n    XIsChange(data) && this.setData();\n  }\n\n  ngAfterViewInit() {\n    this.setPortal();\n\n    if (this.multiple && this.inputCom.inputValueRef) {\n      XResize(this.inputCom.inputValueRef.nativeElement).pipe(debounceTime(30), takeUntil(this._unSubject)).subscribe(x => {\n        this._resizeObserver = x.resizeObserver;\n        this.setMutipleInputSize();\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this._unSubject.next();\n\n    this._unSubject.unsubscribe();\n\n    this._resizeObserver?.disconnect();\n  }\n\n  setClassMap() {\n    XClearClass(this.labelMap);\n    this.labelMap[`x-text-align-${this.labelAlign}`] = this.labelAlign ? true : false;\n  }\n\n  setData() {\n    if (this.async) return;\n    XSetData(this.data, this._unSubject).subscribe(x => {\n      this.nodes = x;\n      this.setDisplayValue();\n      this.setPortal();\n      this.cdr.detectChanges();\n    });\n  }\n\n  setSubject() {\n    this.closeSubject.pipe(takeUntil(this._unSubject)).subscribe(() => {\n      this.closePortal();\n    });\n    this.inputChange.pipe(debounceTime(this.debounceTime), distinctUntilChanged(), takeUntil(this._unSubject)).subscribe(x => {\n      this.modelChange(x);\n    });\n    this.keydownSubject.pipe(throttleTime(10), takeUntil(this._unSubject)).subscribe(x => {\n      const keyCode = x.keyCode;\n\n      if (!this.portalAttached() && [DOWN_ARROW, UP_ARROW, LEFT_ARROW, RIGHT_ARROW, ENTER, MAC_ENTER].includes(keyCode)) {\n        this.inputChange.next(this.displayValue);\n      }\n\n      if (this.portalAttached() && [ESCAPE].includes(keyCode)) {\n        this.closeSubject.next();\n      }\n    });\n    this.multipleInputSizeChange.pipe(distinctUntilChanged(), takeUntil(this._unSubject)).subscribe(x => {\n      if (this.multipleInput) {\n        const input = this.multipleInput?.elementRef.nativeElement;\n        this.renderer.setStyle(input, 'width', `${x}px`);\n      }\n    });\n  }\n\n  setMutipleInputSize() {\n    const ivf = this.inputCom.inputValueRef.nativeElement;\n    let {\n      clientWidth,\n      scrollHeight\n    } = ivf;\n    const len = ivf.children.length;\n    let lastRowTagTop = -1;\n    let lines = 1;\n    let rowTagTop = -1;\n    let lastRowTagsWidth = 0;\n    let marginLeft = 0;\n    let marginTop = 0;\n\n    for (let i = len - 1; i >= 0; i--) {\n      const ele = ivf.children[i];\n\n      if (ele.tagName === 'X-TAG') {\n        const {\n          offsetTop,\n          offsetWidth\n        } = ele;\n        const style = getComputedStyle(ele);\n        marginLeft = Number(style.marginLeft.replace('px', ''));\n        marginTop = Number(style.marginTop.replace('px', ''));\n\n        if (rowTagTop === -1) {\n          rowTagTop = offsetTop;\n        } else if (rowTagTop !== offsetTop) {\n          lines++;\n          rowTagTop = offsetTop;\n        }\n\n        if (lastRowTagTop === -1) {\n          lastRowTagTop = offsetTop;\n        }\n\n        if (lastRowTagTop === offsetTop) {\n          lastRowTagsWidth += offsetWidth + marginLeft;\n        }\n      }\n    }\n\n    const height = scrollHeight + (lines > 1 ? marginTop : 0);\n    this.renderer.setStyle(this.inputCom.inputRef.nativeElement, 'height', `${height}px`);\n\n    if (this.multipleInput) {\n      this.multipleInputSizeChange.next(clientWidth - lastRowTagsWidth - marginLeft);\n    }\n\n    this.portal?.overlayRef?.updatePosition();\n  }\n\n  menter() {\n    if (this.disabled || !this.clearable || this.iconSpin) return;\n    this.enter = true;\n\n    if (!XIsEmpty(this.displayValue)) {\n      this.icon = '';\n      this.showClearable = true;\n      this.cdr.detectChanges();\n    }\n  }\n\n  mleave() {\n    if (this.disabled || !this.clearable || this.iconSpin) return;\n    this.enter = false;\n\n    if (this.clearable) {\n      this.icon = 'fto-chevron-down';\n      this.showClearable = false;\n      this.cdr.detectChanges();\n    }\n  }\n\n  modelChange(value) {\n    if (XIsFunction(this.data)) {\n      if (!this.portalAttached()) {\n        this.showPortal();\n      } else {\n        this.icon = 'fto-loader';\n        this.iconSpin = true;\n        this.cdr.detectChanges();\n        XSetData(this.data, this._unSubject, true, value).subscribe(x => {\n          this.icon = '';\n          this.iconSpin = false;\n          this.nodes = x;\n          this.dataChange.next(this.nodes);\n          this.cdr.detectChanges();\n        });\n      }\n\n      return;\n    }\n\n    if (this.nodes) {\n      if (!this.portalAttached()) {\n        this.showPortal();\n      } else {\n        if (XIsEmpty(value)) {\n          this.searchNodes = [...this.nodes];\n        } else {\n          this.setSearchNodes(value);\n        }\n\n        this.dataChange.next(this.searchNodes);\n      }\n    }\n  }\n\n  setSearchNodes(value) {\n    if (this.caseSensitive) {\n      this.searchNodes = this.nodes.filter(x => x.label.indexOf(value) >= 0);\n    } else {\n      this.searchNodes = this.nodes.filter(x => x.label.toLowerCase().indexOf(value.toLowerCase()) >= 0);\n    }\n  }\n\n  clearEmit() {\n    this.value = this.multiple ? [] : '';\n    this.displayValue = '';\n    this.multipleSearchValue = '';\n    this.selectedNodes = [];\n    this.setDisplayNodes();\n    this.valueTplContext.$node = null;\n    this.mleave();\n    this.valueChange.next(this.value);\n    this.inputChange.next('');\n    if (this.onChange) this.onChange(this.value);\n  }\n\n  setDisplayValue(clickNode) {\n    if (this.nodes.length > 0) {\n      if (this.multiple) {\n        if (XIsEmpty(this.value)) {\n          this.value = [];\n          this.displayValue = '';\n          this.selectedNodes = [];\n          this.displayNodes = [];\n          this.displayMore = '';\n          this.valueTplContext.$node = null;\n          this.setDisplayNodes();\n        } else {\n          let ids = [];\n          let selected = [];\n\n          if (XIsObjectArray(this.value)) {\n            this.objectArray = true;\n            ids = this.value.map(x => x.id);\n          } else {\n            this.objectArray = false;\n            ids = this.value;\n          }\n\n          if (clickNode) {\n            if (clickNode.selected) {\n              this.selectedNodes.push(clickNode);\n            } else {\n              XRemove(this.selectedNodes, x => x.id === clickNode.id);\n            }\n          } else {\n            for (let id of ids) {\n              let node = this.nodes.find(x => x.id === id);\n              if (node) selected.push(node);\n            }\n\n            this.selectedNodes = selected;\n          }\n\n          this.setDisplayNodes();\n          this.displayValue = this.selectedNodes.map(x => x.label).join(',');\n          this.valueTplContext.$node = [...this.selectedNodes];\n        }\n      } else {\n        let node = this.nodes.find(x => x.id === this.value);\n\n        if (node) {\n          this.displayValue = node.label;\n          this.valueTplContext.$node = node;\n        } else {\n          this.displayValue = '';\n          this.valueTplContext.$node = null;\n        }\n      }\n\n      this.cdr.detectChanges();\n    }\n  }\n\n  closeNode(event, node, index) {\n    let inx = -1;\n\n    if (XIsObjectArray(this.value)) {\n      inx = this.value.findIndex(y => y.id === node.id);\n    } else {\n      inx = this.value.findIndex(y => y === node.id);\n    }\n\n    if (inx >= 0) {\n      this.value.splice(inx, 1);\n      this.valueChange.next(this.value);\n      if (this.onChange) this.onChange(this.value);\n      this.selectedNodes.splice(index, 1);\n      this.setDisplayNodes();\n    }\n\n    event.stopPropagation();\n  }\n\n  setDisplayNodes() {\n    if (!this.multiple) return;\n    const maxlen = this.selectedNodes.length;\n    let len = 0;\n\n    if (!this.maxTagCount) {\n      len = maxlen;\n    } else {\n      len = maxlen > Number(this.maxTagCount) ? Number(this.maxTagCount) : maxlen;\n    }\n\n    let more = maxlen - len;\n    more = more < 0 ? 0 : more;\n    this.displayNodes = this.selectedNodes.slice(0, len);\n    this.showDisplayMore = more > 0;\n\n    if (XIsString(this.getMaxTagContent)) {\n      this.displayMore = more > 0 ? this.getMaxTagContent.replace(/\\{\\{surplus\\}\\}/g, `${more}`) : '';\n    } else {\n      this.selectedSurplus = more;\n      this.selectedTotal = maxlen;\n    }\n\n    setTimeout(() => this.setMutipleInputSize());\n  }\n\n  portalAttached() {\n    return this.portal?.overlayRef?.hasAttached();\n  }\n\n  closePortal() {\n    if (this.portalAttached()) {\n      this.portal?.overlayRef?.detach();\n      this.active = false;\n      this.multipleSearchValue = '';\n      this.cdr.detectChanges();\n      return true;\n    }\n\n    return false;\n  }\n\n  destroyPortal() {\n    this.portal?.overlayRef?.dispose();\n  }\n\n  showPortal(click = false) {\n    if (this.disabled || this.iconSpin || this.animating) return;\n    this.active = true;\n\n    if (this.async && XIsObservable(this.data) && this.nodes.length === 0 || XIsFunction(this.data)) {\n      this.icon = 'fto-loader';\n      this.iconSpin = true;\n      this.inputCom.cdr.detectChanges();\n      XSetData(this.data, this._unSubject, true, click ? '' : this.displayValue).subscribe(x => {\n        this.icon = 'fto-chevron-down';\n        this.iconSpin = false;\n        this.inputCom.cdr.detectChanges();\n        this.nodes = x;\n        if (!this.search) this.setDisplayValue();\n        this.createPortal();\n        this.cdr.detectChanges();\n      });\n    } else {\n      this.createPortal();\n    }\n\n    if (this.search && this.multiple) {\n      this.multipleInput.inputFocus();\n    } else {\n      this.inputCom.inputFocus();\n    }\n  }\n\n  createPortal() {\n    this.nodes.filter(x => x.selected).map(x => x.selected = false);\n    this.box = this.inputCom.inputRef.nativeElement.getBoundingClientRect();\n    const config = {\n      backdropClass: '',\n      width: this.box.width,\n      positionStrategy: this.setPlacement(),\n      scrollStrategy: this.overlay.scrollStrategies.reposition()\n    };\n    this.setPosition(config);\n    this.portal = this.portalService.attach({\n      content: XSelectPortalComponent,\n      viewContainerRef: this.viewContainerRef,\n      overlayConfig: config\n    });\n    this.portal.overlayRef?.outsidePointerEvents().pipe(takeUntil(this._unSubject)).subscribe(() => {\n      this.setDisplayValue();\n      this.closeSubject.next();\n    });\n    this.setInstance();\n  }\n\n  setPosition(config) {\n    let position = config.positionStrategy;\n    position.positionChanges.pipe(takeUntil(this._unSubject)).subscribe(pos => {\n      const place = XPortalConnectedPosition.get(pos.connectionPair);\n      place !== this.placement && this.positionChange.next(place);\n    });\n  }\n\n  setInstance() {\n    let componentRef = this.portal.componentRef;\n    if (!componentRef) return;\n    Object.assign(componentRef.instance, {\n      data: this.nodes,\n      value: this.value,\n      placement: this.placement,\n      multiple: this.multiple === true ? 0 : 1,\n      selectAll: this.selectAll,\n      nodeTpl: this.nodeTpl,\n      valueChange: this.valueChange,\n      positionChange: this.positionChange,\n      closeSubject: this.closeSubject,\n      keydownSubject: this.keydownSubject,\n      dataChange: this.dataChange,\n      inputCom: this.inputCom,\n      portalMaxHeight: this.portalMaxHeight,\n      objectArray: this.objectArray,\n      selectAllText: this.selectAllText,\n      caseSensitive: this.caseSensitive,\n      search: this.search,\n      destroyPortal: () => this.destroyPortal(),\n      nodeEmit: (node, value) => this.nodeClick(node, value),\n      animating: ing => this.animating = ing\n    });\n    componentRef.changeDetectorRef.detectChanges();\n  }\n\n  nodeClick(node, value) {\n    if (this.multiple) {\n      if (node) {\n        if (XIsObjectArray(value)) {\n          if (node.selected) {\n            this.value.push(node);\n          } else {\n            let inx = this.value.findIndex(x => x.id === node.id);\n            this.value.splice(inx, 1);\n          }\n        } else if (XIsArray(value)) {\n          if (node.selected) {\n            this.value.push(node.id);\n          } else {\n            this.value.splice(this.value.indexOf(node.id), 1);\n          }\n        }\n      } else {\n        this.value = value;\n      }\n\n      if (this.multipleInput) {\n        const input = this.multipleInput.elementRef.nativeElement;\n        this.renderer.setStyle(input, 'width', '2rem');\n      }\n\n      if (this.search && this.multipleSearchValue !== '') {\n        this.multipleSearchValue = '';\n        this.inputChange.next('');\n        this.valueChange.next([...this.value]);\n      }\n\n      this.setDisplayValue(node);\n    } else {\n      node = node;\n      this.displayValue = node.label;\n      this.valueTplContext.$node = node;\n      this.value = node.id;\n      this.closeSubject.next();\n    }\n\n    if (this.search && this.multiple) {\n      this.multipleInput.inputFocus();\n    } else {\n      this.inputCom.inputFocus();\n    }\n\n    if (this.onChange) this.onChange(this.value);\n    this.formControlValidator();\n    this.cdr.detectChanges();\n  }\n\n  selectAllNodes(value) {\n    this.value = value;\n  }\n\n  setPlacement() {\n    return this.portalService.setPlacement({\n      elementRef: this.inputCom.inputRef,\n      placement: [this.placement, 'bottom', 'top'],\n      transformOriginOn: 'x-select-portal'\n    });\n  }\n\n  setPortal() {\n    this.portalAttached() && this.portal?.overlayRef?.updatePositionStrategy(this.setPlacement());\n  }\n\n  formControlChanges() {\n    this.setData();\n    this.ngOnInit();\n    this.writeValue(this.value);\n    this.ngAfterViewInit();\n    this.cdr.detectChanges();\n  }\n\n  onKeydown($event) {\n    this.keydownSubject.next($event);\n\n    if ($event.keyCode !== TAB && !this.search) {\n      $event.preventDefault();\n    }\n  }\n\n  onFocus(_event) {\n    if (this.search && this.multiple) {\n      this.multipleInput.inputFocus();\n    } else {\n      this.inputCom.inputFocus();\n    }\n  }\n\n  onInput(_event) {\n    this.formControlValidator();\n    setTimeout(() => this.inputChange.next(this.multiple ? this.multipleSearchValue : this.displayValue));\n  }\n\n}\n/** @nocollapse */\n\n\nXSelectComponent.ɵfac = function XSelectComponent_Factory(t) {\n  return new (t || XSelectComponent)(i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1$1.XPortalService), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(i2.Overlay), i0.ɵɵdirectiveInject(i1.XI18nService), i0.ɵɵdirectiveInject(i4.XConfigService));\n};\n/** @nocollapse */\n\n\nXSelectComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: XSelectComponent,\n  selectors: [[\"x-select\"]],\n  viewQuery: function XSelectComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c1, 7);\n      i0.ɵɵviewQuery(_c2, 7);\n      i0.ɵɵviewQuery(_c3, 7);\n      i0.ɵɵviewQuery(_c4, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputCom = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.select = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.multipleValueTpl = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.multipleInput = _t.first);\n    }\n  },\n  features: [i0.ɵɵProvidersFeature([XValueAccessor(XSelectComponent)]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature],\n  decls: 7,\n  vars: 28,\n  consts: [[1, \"x-select\"], [\"select\", \"\"], [1, \"x-select-row\"], [\"type\", \"text\", 3, \"label\", \"labelWidth\", \"labelAlign\", \"justify\", \"align\", \"direction\", \"required\", \"disabled\", \"validator\", \"icon\", \"iconSpin\", \"placeholder\", \"readonly\", \"clearable\", \"ngModel\", \"valueTpl\", \"valueTplContext\", \"size\", \"bordered\", \"before\", \"after\", \"pattern\", \"message\", \"pointer\", \"inputPadding\", \"active\", \"ngModelChange\", \"activeChange\", \"clearEmit\", \"xKeydown\", \"xInput\", \"xFocus\", \"xClick\", \"xMouseenter\", \"xMouseleave\", \"xComposition\"], [\"inputCom\", \"\"], [\"multipleValueTpl\", \"\"], [3, \"closable\", \"size\", \"close\", 4, \"ngFor\", \"ngForOf\"], [3, \"size\", 4, \"ngIf\"], [\"bordered\", \"false\", \"inputPadding\", \"0.275\", 3, \"size\", \"ngModel\", \"ngModelChange\", \"xInput\", \"xKeydown\", 4, \"ngIf\"], [3, \"closable\", \"size\", \"close\"], [3, \"size\"], [4, \"xOutlet\", \"xOutletContext\"], [\"bordered\", \"false\", \"inputPadding\", \"0.275\", 3, \"size\", \"ngModel\", \"ngModelChange\", \"xInput\", \"xKeydown\"], [\"multipleInput\", \"\"]],\n  template: function XSelectComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0, 1)(2, \"div\", 2)(3, \"x-input\", 3, 4);\n      i0.ɵɵlistener(\"ngModelChange\", function XSelectComponent_Template_x_input_ngModelChange_3_listener($event) {\n        return ctx.displayValue = $event;\n      })(\"activeChange\", function XSelectComponent_Template_x_input_activeChange_3_listener($event) {\n        return ctx.active = $event;\n      })(\"clearEmit\", function XSelectComponent_Template_x_input_clearEmit_3_listener() {\n        return ctx.clearEmit();\n      })(\"xKeydown\", function XSelectComponent_Template_x_input_xKeydown_3_listener($event) {\n        return ctx.onKeydown($event);\n      })(\"xInput\", function XSelectComponent_Template_x_input_xInput_3_listener($event) {\n        return ctx.onInput($event);\n      })(\"xFocus\", function XSelectComponent_Template_x_input_xFocus_3_listener($event) {\n        return ctx.onFocus($event);\n      })(\"xClick\", function XSelectComponent_Template_x_input_xClick_3_listener() {\n        return ctx.showPortal(true);\n      })(\"xMouseenter\", function XSelectComponent_Template_x_input_xMouseenter_3_listener() {\n        return ctx.menter();\n      })(\"xMouseleave\", function XSelectComponent_Template_x_input_xMouseleave_3_listener() {\n        return ctx.mleave();\n      })(\"xComposition\", function XSelectComponent_Template_x_input_xComposition_3_listener($event) {\n        return ctx.composition = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(5, XSelectComponent_ng_template_5_Template, 3, 3, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵclassProp(\"x-select-multiple\", ctx.multiple);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"label\", ctx.label)(\"labelWidth\", ctx.labelWidth)(\"labelAlign\", ctx.labelAlign)(\"justify\", ctx.justify)(\"align\", ctx.align)(\"direction\", ctx.direction)(\"required\", ctx.required)(\"disabled\", ctx.disabled)(\"validator\", ctx.validator)(\"icon\", ctx.icon)(\"iconSpin\", ctx.iconSpin)(\"placeholder\", ctx.placeholder)(\"readonly\", ctx.getReadonly)(\"clearable\", ctx.showClearable)(\"ngModel\", ctx.displayValue)(\"valueTpl\", ctx.valueTpl ? ctx.valueTpl : ctx.nodeTpl)(\"valueTplContext\", ctx.valueTplContext)(\"size\", ctx.size)(\"bordered\", ctx.bordered)(\"before\", ctx.before)(\"after\", ctx.after)(\"pattern\", ctx.pattern)(\"message\", ctx.message)(\"pointer\", true)(\"inputPadding\", ctx.inputPadding)(\"active\", ctx.active);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i6.NgControlStatus, i6.RequiredValidator, i6.PatternValidator, i6.NgModel, i7.XInputComponent, i8.XTagComponent, i9.XOutletDirective],\n  styles: [\"@charset \\\"UTF-8\\\";x-select{display:inline-block;width:12rem}.x-select{margin:0;padding:0;width:100%}.x-select x-input{width:100%}.x-select-multiple .x-input-value-template-value{display:flex;align-items:center;margin-bottom:.125rem;flex-wrap:wrap;width:initial;height:initial!important}.x-select-multiple .x-input-value-template-value>x-tag{display:inline-flex;margin-left:.0625rem;margin-top:.125rem}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-big{height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-big>.x-icon{right:calc(-var(--x-padding-large)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-large{height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-large>.x-icon{right:calc(-var(--x-padding-medium)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-medium{height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-medium>.x-icon{right:calc(-var(--x-padding-small)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-small{height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-small>.x-icon{right:calc(-var(--x-padding-mini)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-mini{height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-mini>.x-icon{right:-.0625rem}.x-select-multiple .x-input-value-template-value>x-input{margin-top:.125rem;width:5rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-large);line-height:var(--x-height-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>label{height:var(--x-height-large);line-height:var(--x-height-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-medium);line-height:var(--x-height-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>label{height:var(--x-height-medium);line-height:var(--x-height-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-small);line-height:var(--x-height-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>label{height:var(--x-height-small);line-height:var(--x-height-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-mini);line-height:var(--x-height-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>label{height:var(--x-height-mini);line-height:var(--x-height-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-value-template-value{height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-max-length{height:1.125rem;line-height:1.125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>label{height:1.125rem;line-height:1.125rem}.x-select-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);width:100%;border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);position:relative;display:flex;background-color:var(--x-background);overflow:hidden auto;max-height:calc((calc(var(--x-font-size) + .875rem) * 6) + (var(--x-border-width) * 7))}\\n\"],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XSelectComponent, [{\n    type: Component,\n    args: [{\n      selector: `${XSelectPrefix}`,\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [XValueAccessor(XSelectComponent)],\n      template: \"<div #select class=\\\"x-select\\\" [class.x-select-multiple]=\\\"multiple\\\">\\r\\n  <div class=\\\"x-select-row\\\">\\r\\n    <x-input\\r\\n      #inputCom\\r\\n      type=\\\"text\\\"\\r\\n      [label]=\\\"label\\\"\\r\\n      [labelWidth]=\\\"labelWidth\\\"\\r\\n      [labelAlign]=\\\"labelAlign\\\"\\r\\n      [justify]=\\\"justify\\\"\\r\\n      [align]=\\\"align\\\"\\r\\n      [direction]=\\\"direction\\\"\\r\\n      [required]=\\\"required\\\"\\r\\n      [disabled]=\\\"disabled\\\"\\r\\n      [validator]=\\\"validator\\\"\\r\\n      [icon]=\\\"icon\\\"\\r\\n      [iconSpin]=\\\"iconSpin\\\"\\r\\n      [placeholder]=\\\"placeholder\\\"\\r\\n      [readonly]=\\\"getReadonly\\\"\\r\\n      [clearable]=\\\"showClearable\\\"\\r\\n      [(ngModel)]=\\\"displayValue\\\"\\r\\n      [valueTpl]=\\\"valueTpl ? valueTpl : nodeTpl\\\"\\r\\n      [valueTplContext]=\\\"valueTplContext\\\"\\r\\n      [size]=\\\"size\\\"\\r\\n      [bordered]=\\\"bordered\\\"\\r\\n      [before]=\\\"before\\\"\\r\\n      [after]=\\\"after\\\"\\r\\n      [pattern]=\\\"pattern\\\"\\r\\n      [message]=\\\"message\\\"\\r\\n      [pointer]=\\\"true\\\"\\r\\n      [inputPadding]=\\\"inputPadding\\\"\\r\\n      [(active)]=\\\"active\\\"\\r\\n      (clearEmit)=\\\"clearEmit()\\\"\\r\\n      (xKeydown)=\\\"onKeydown($event)\\\"\\r\\n      (xInput)=\\\"onInput($event)\\\"\\r\\n      (xFocus)=\\\"onFocus($event)\\\"\\r\\n      (xClick)=\\\"showPortal(true)\\\"\\r\\n      (xMouseenter)=\\\"menter()\\\"\\r\\n      (xMouseleave)=\\\"mleave()\\\"\\r\\n      (xComposition)=\\\"composition = $event\\\"\\r\\n    ></x-input>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #multipleValueTpl>\\r\\n  <x-tag\\r\\n    [@.disabled]=\\\"true\\\"\\r\\n    *ngFor=\\\"let node of displayNodes; index as i\\\"\\r\\n    [closable]=\\\"!disabled\\\"\\r\\n    (close)=\\\"closeNode($event, node, i)\\\"\\r\\n    [size]=\\\"size\\\"\\r\\n    >{{ node.label }}</x-tag\\r\\n  >\\r\\n  <x-tag [@.disabled]=\\\"true\\\" *ngIf=\\\"showDisplayMore\\\" [size]=\\\"size\\\">\\r\\n    <ng-container *xOutlet=\\\"getMaxTagContent; context: { $surplus: selectedSurplus, $total: selectedTotal }\\\">{{\\r\\n      displayMore\\r\\n    }}</ng-container>\\r\\n  </x-tag>\\r\\n  <x-input\\r\\n    #multipleInput\\r\\n    *ngIf=\\\"search\\\"\\r\\n    bordered=\\\"false\\\"\\r\\n    [size]=\\\"size\\\"\\r\\n    inputPadding=\\\"0.275\\\"\\r\\n    [(ngModel)]=\\\"multipleSearchValue\\\"\\r\\n    (xInput)=\\\"onInput($event)\\\"\\r\\n    (xKeydown)=\\\"onKeydown($event)\\\"\\r\\n  ></x-input>\\r\\n</ng-template>\\r\\n\",\n      styles: [\"@charset \\\"UTF-8\\\";x-select{display:inline-block;width:12rem}.x-select{margin:0;padding:0;width:100%}.x-select x-input{width:100%}.x-select-multiple .x-input-value-template-value{display:flex;align-items:center;margin-bottom:.125rem;flex-wrap:wrap;width:initial;height:initial!important}.x-select-multiple .x-input-value-template-value>x-tag{display:inline-flex;margin-left:.0625rem;margin-top:.125rem}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-big{height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-big>.x-icon{right:calc(-var(--x-padding-large)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-large{height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-large>.x-icon{right:calc(-var(--x-padding-medium)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-medium{height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-medium>.x-icon{right:calc(-var(--x-padding-small)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-small{height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-small>.x-icon{right:calc(-var(--x-padding-mini)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-mini{height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-mini>.x-icon{right:-.0625rem}.x-select-multiple .x-input-value-template-value>x-input{margin-top:.125rem;width:5rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-large);line-height:var(--x-height-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>label{height:var(--x-height-large);line-height:var(--x-height-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-medium);line-height:var(--x-height-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>label{height:var(--x-height-medium);line-height:var(--x-height-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-small);line-height:var(--x-height-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>label{height:var(--x-height-small);line-height:var(--x-height-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-mini);line-height:var(--x-height-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>label{height:var(--x-height-mini);line-height:var(--x-height-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-value-template-value{height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-max-length{height:1.125rem;line-height:1.125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>label{height:1.125rem;line-height:1.125rem}.x-select-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);width:100%;border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);position:relative;display:flex;background-color:var(--x-background);overflow:hidden auto;max-height:calc((calc(var(--x-font-size) + .875rem) * 6) + (var(--x-border-width) * 7))}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: i0.Renderer2\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1$1.XPortalService\n    }, {\n      type: i0.ViewContainerRef\n    }, {\n      type: i2.Overlay\n    }, {\n      type: i1.XI18nService\n    }, {\n      type: i4.XConfigService\n    }];\n  }, {\n    inputCom: [{\n      type: ViewChild,\n      args: ['inputCom', {\n        static: true\n      }]\n    }],\n    select: [{\n      type: ViewChild,\n      args: ['select', {\n        static: true\n      }]\n    }],\n    multipleValueTpl: [{\n      type: ViewChild,\n      args: ['multipleValueTpl', {\n        static: true\n      }]\n    }],\n    multipleInput: [{\n      type: ViewChild,\n      args: ['multipleInput']\n    }]\n  });\n})();\n\nclass XSelectModule {}\n/** @nocollapse */\n\n\nXSelectModule.ɵfac = function XSelectModule_Factory(t) {\n  return new (t || XSelectModule)();\n};\n/** @nocollapse */\n\n\nXSelectModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: XSelectModule\n});\n/** @nocollapse */\n\nXSelectModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, XPortalModule, XInputModule, XListModule, XBaseFormModule, XTagModule, XI18nModule, XOutletModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(XSelectModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [XSelectComponent, XSelectPortalComponent, XSelectProperty],\n      exports: [XSelectComponent, XSelectPortalComponent],\n      imports: [CommonModule, FormsModule, ReactiveFormsModule, XPortalModule, XInputModule, XListModule, XBaseFormModule, XTagModule, XI18nModule, XOutletModule]\n    }]\n  }], null, null);\n})();\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\n\nexport { XSelectComponent, XSelectModule, XSelectPortalComponent, XSelectPortalPrefix, XSelectPrefix, XSelectProperty };","map":{"version":3,"names":["Subject","i0","Component","Input","ViewEncapsulation","ChangeDetectionStrategy","HostBinding","HostListener","ViewChild","NgModule","__decorate","i4","XDataConvert","XWithConfig","XInputBoolean","XInputNumber","XConnectBaseAnimation","XIsEmpty","XIsArray","XIsChange","XResize","XClearClass","XSetData","XIsFunction","XIsObjectArray","XRemove","XIsString","XIsObservable","XControlValueAccessor","XValueAccessor","XBaseFormModule","i1$1","XPortalConnectedPosition","XPortalModule","takeUntil","map","debounceTime","distinctUntilChanged","throttleTime","i1","XI18nModule","i6","FormsModule","ReactiveFormsModule","i3","XListModule","DOWN_ARROW","UP_ARROW","LEFT_ARROW","RIGHT_ARROW","ENTER","MAC_ENTER","ESCAPE","TAB","i2","i5","CommonModule","i7","XInputModule","i8","XTagModule","i9","XOutletModule","XSelectPrefix","X_CONFIG_NAME","XSelectProperty","constructor","arguments","data","ɵfac","ɵcmp","prototype","type","args","template","clearable","async","placement","multiple","selectAll","selectAllText","nodeTpl","size","bordered","portalMaxHeight","search","caseSensitive","maxTagCount","maxTagContent","XSelectPortalPrefix","XSelectPortalComponent","renderer","cdr","i18n","show","objectArray","active","locale","scrollNull","undefined","_unSubject","done","event","animating","toState","destroyPortal","start","getSelectAllText","ngOnInit","valueChange","pipe","subscribe","x","value","detectChanges","positionChange","dataChange","closeSubject","list","setUnActive","keydownSubject","keydown","localeChange","select","markForCheck","ngOnDestroy","next","unsubscribe","stopPropagation","nodeClick","node","nodeEmit","onSelectAll","_isSelectAll","onActive","num","onTabOut","Renderer2","ChangeDetectorRef","XI18nService","NgControlStatus","NgModel","XListComponent","selector","encapsulation","None","changeDetection","OnPush","animations","styles","XSelectComponent","portalService","viewContainerRef","overlay","configService","readonly","enter","showClearable","displayValue","multipleSearchValue","nodes","selectedNodes","displayNodes","displayMore","showDisplayMore","searchNodes","icon","iconSpin","maxNodes","inputPadding","protalTobottom","asyncLoading","selectedSurplus","selectedTotal","valueTplContext","$node","$isValue","inputChange","composition","multipleInputSizeChange","getReadonly","Boolean","getMaxTagContent","writeValue","setDisplayValue","setFlex","nativeElement","justify","align","direction","setClassMap","setSubject","valueTpl","multipleValueTpl","ngOnChanges","changes","setData","ngAfterViewInit","setPortal","inputCom","inputValueRef","_resizeObserver","resizeObserver","setMutipleInputSize","disconnect","labelMap","labelAlign","closePortal","modelChange","keyCode","portalAttached","includes","multipleInput","input","elementRef","setStyle","ivf","clientWidth","scrollHeight","len","children","length","lastRowTagTop","lines","rowTagTop","lastRowTagsWidth","marginLeft","marginTop","i","ele","tagName","offsetTop","offsetWidth","style","getComputedStyle","Number","replace","height","inputRef","portal","overlayRef","updatePosition","menter","disabled","mleave","showPortal","setSearchNodes","filter","label","indexOf","toLowerCase","clearEmit","setDisplayNodes","onChange","clickNode","ids","selected","id","push","find","join","closeNode","index","inx","findIndex","y","splice","maxlen","more","slice","setTimeout","hasAttached","detach","dispose","click","createPortal","inputFocus","box","getBoundingClientRect","config","backdropClass","width","positionStrategy","setPlacement","scrollStrategy","scrollStrategies","reposition","setPosition","attach","content","overlayConfig","outsidePointerEvents","setInstance","position","positionChanges","pos","place","get","connectionPair","componentRef","Object","assign","instance","ing","changeDetectorRef","formControlValidator","selectAllNodes","transformOriginOn","updatePositionStrategy","formControlChanges","onKeydown","$event","preventDefault","onFocus","_event","onInput","XPortalService","ViewContainerRef","Overlay","XConfigService","NgForOf","NgIf","RequiredValidator","PatternValidator","XInputComponent","XTagComponent","XOutletDirective","providers","static","XSelectModule","ɵmod","ɵinj","declarations","exports","imports"],"sources":["/Users/lzl/my-angular-app/node_modules/@ng-nest/ui/fesm2020/ng-nest-ui-select.mjs"],"sourcesContent":["import { Subject } from 'rxjs';\nimport * as i0 from '@angular/core';\nimport { Component, Input, ViewEncapsulation, ChangeDetectionStrategy, HostBinding, HostListener, ViewChild, NgModule } from '@angular/core';\nimport { __decorate } from 'tslib';\nimport * as i4 from '@ng-nest/ui/core';\nimport { XDataConvert, XWithConfig, XInputBoolean, XInputNumber, XConnectBaseAnimation, XIsEmpty, XIsArray, XIsChange, XResize, XClearClass, XSetData, XIsFunction, XIsObjectArray, XRemove, XIsString, XIsObservable } from '@ng-nest/ui/core';\nimport { XControlValueAccessor, XValueAccessor, XBaseFormModule } from '@ng-nest/ui/base-form';\nimport * as i1$1 from '@ng-nest/ui/portal';\nimport { XPortalConnectedPosition, XPortalModule } from '@ng-nest/ui/portal';\nimport { takeUntil, map, debounceTime, distinctUntilChanged, throttleTime } from 'rxjs/operators';\nimport * as i1 from '@ng-nest/ui/i18n';\nimport { XI18nModule } from '@ng-nest/ui/i18n';\nimport * as i6 from '@angular/forms';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport * as i3 from '@ng-nest/ui/list';\nimport { XListModule } from '@ng-nest/ui/list';\nimport { DOWN_ARROW, UP_ARROW, LEFT_ARROW, RIGHT_ARROW, ENTER, MAC_ENTER, ESCAPE, TAB } from '@angular/cdk/keycodes';\nimport * as i2 from '@angular/cdk/overlay';\nimport * as i5 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i7 from '@ng-nest/ui/input';\nimport { XInputModule } from '@ng-nest/ui/input';\nimport * as i8 from '@ng-nest/ui/tag';\nimport { XTagModule } from '@ng-nest/ui/tag';\nimport * as i9 from '@ng-nest/ui/outlet';\nimport { XOutletModule } from '@ng-nest/ui/outlet';\n\n/**\r\n * Select\r\n * @selector x-select\r\n * @decorator component\r\n */\r\nconst XSelectPrefix = 'x-select';\r\nconst X_CONFIG_NAME = 'select';\r\n/**\r\n * Select Property\r\n */\r\nclass XSelectProperty extends XControlValueAccessor {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * @zh_CN 节点数据\r\n         * @en_US Node data\r\n         */\r\n        this.data = [];\r\n    }\r\n}\r\n/** @nocollapse */ XSelectProperty.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XSelectProperty, deps: null, target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ XSelectProperty.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.2\", type: XSelectProperty, selector: \"ng-component\", inputs: { data: \"data\", clearable: \"clearable\", async: \"async\", placement: \"placement\", multiple: \"multiple\", selectAll: \"selectAll\", selectAllText: \"selectAllText\", nodeTpl: \"nodeTpl\", size: \"size\", bordered: \"bordered\", portalMaxHeight: \"portalMaxHeight\", search: \"search\", caseSensitive: \"caseSensitive\", debounceTime: \"debounceTime\", maxTagCount: \"maxTagCount\", maxTagContent: \"maxTagContent\" }, usesInheritance: true, ngImport: i0, template: '', isInline: true });\r\n__decorate([\r\n    XDataConvert()\r\n], XSelectProperty.prototype, \"data\", void 0);\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME, true),\r\n    XInputBoolean()\r\n], XSelectProperty.prototype, \"clearable\", void 0);\r\n__decorate([\r\n    XInputBoolean()\r\n], XSelectProperty.prototype, \"async\", void 0);\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME, 'bottom')\r\n], XSelectProperty.prototype, \"placement\", void 0);\r\n__decorate([\r\n    XInputBoolean()\r\n], XSelectProperty.prototype, \"multiple\", void 0);\r\n__decorate([\r\n    XInputBoolean()\r\n], XSelectProperty.prototype, \"selectAll\", void 0);\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME)\r\n], XSelectProperty.prototype, \"selectAllText\", void 0);\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME, 'medium')\r\n], XSelectProperty.prototype, \"size\", void 0);\r\n__decorate([\r\n    XInputBoolean(),\r\n    XWithConfig(X_CONFIG_NAME, true)\r\n], XSelectProperty.prototype, \"bordered\", void 0);\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME, '12rem')\r\n], XSelectProperty.prototype, \"portalMaxHeight\", void 0);\r\n__decorate([\r\n    XInputBoolean(),\r\n    XWithConfig(X_CONFIG_NAME, false)\r\n], XSelectProperty.prototype, \"search\", void 0);\r\n__decorate([\r\n    XInputBoolean(),\r\n    XWithConfig(X_CONFIG_NAME, true)\r\n], XSelectProperty.prototype, \"caseSensitive\", void 0);\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME, 200)\r\n], XSelectProperty.prototype, \"debounceTime\", void 0);\r\n__decorate([\r\n    XInputNumber(),\r\n    XWithConfig(X_CONFIG_NAME)\r\n], XSelectProperty.prototype, \"maxTagCount\", void 0);\r\n__decorate([\r\n    XWithConfig(X_CONFIG_NAME)\r\n], XSelectProperty.prototype, \"maxTagContent\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XSelectProperty, decorators: [{\r\n            type: Component,\r\n            args: [{ template: '' }]\r\n        }], propDecorators: { data: [{\r\n                type: Input\r\n            }], clearable: [{\r\n                type: Input\r\n            }], async: [{\r\n                type: Input\r\n            }], placement: [{\r\n                type: Input\r\n            }], multiple: [{\r\n                type: Input\r\n            }], selectAll: [{\r\n                type: Input\r\n            }], selectAllText: [{\r\n                type: Input\r\n            }], nodeTpl: [{\r\n                type: Input\r\n            }], size: [{\r\n                type: Input\r\n            }], bordered: [{\r\n                type: Input\r\n            }], portalMaxHeight: [{\r\n                type: Input\r\n            }], search: [{\r\n                type: Input\r\n            }], caseSensitive: [{\r\n                type: Input\r\n            }], debounceTime: [{\r\n                type: Input\r\n            }], maxTagCount: [{\r\n                type: Input\r\n            }], maxTagContent: [{\r\n                type: Input\r\n            }] } });\r\n/**\r\n * Select Portal\r\n * @selector x-select-portal\r\n * @decorator component\r\n */\r\nconst XSelectPortalPrefix = 'x-select-portal';\n\nclass XSelectPortalComponent {\r\n    constructor(renderer, cdr, i18n) {\r\n        this.renderer = renderer;\r\n        this.cdr = cdr;\r\n        this.i18n = i18n;\r\n        this.multiple = 1;\r\n        this.selectAll = false;\r\n        this.show = false;\r\n        this.objectArray = false;\r\n        this.caseSensitive = true;\r\n        this.active = -1;\r\n        this.portalMaxHeight = '';\r\n        this.locale = {};\r\n        this.search = false;\r\n        this.scrollNull = undefined;\r\n        this._unSubject = new Subject();\r\n    }\r\n    done(event) {\r\n        this.animating(false);\r\n        event.toState === 'void' && this.destroyPortal();\r\n    }\r\n    start() {\r\n        this.animating(true);\r\n    }\r\n    get getSelectAllText() {\r\n        return this.selectAllText || this.locale.selectAllText;\r\n    }\r\n    ngOnInit() {\r\n        this.valueChange.pipe(takeUntil(this._unSubject)).subscribe((x) => {\r\n            this.value = x;\r\n            this.cdr.detectChanges();\r\n        });\r\n        this.positionChange.pipe(takeUntil(this._unSubject)).subscribe((x) => {\r\n            this.placement = x;\r\n            this.cdr.detectChanges();\r\n        });\r\n        this.dataChange.pipe(takeUntil(this._unSubject)).subscribe((x) => {\r\n            this.data = x;\r\n            this.cdr.detectChanges();\r\n        });\r\n        this.closeSubject.pipe(takeUntil(this._unSubject)).subscribe(() => {\r\n            this.list.setUnActive(this.active);\r\n        });\r\n        this.keydownSubject.pipe(takeUntil(this._unSubject)).subscribe((x) => {\r\n            this.list.keydown(x);\r\n        });\r\n        this.i18n.localeChange\r\n            .pipe(map((x) => x.select), takeUntil(this._unSubject))\r\n            .subscribe((x) => {\r\n            this.locale = x;\r\n            this.cdr.markForCheck();\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this._unSubject.next();\r\n        this._unSubject.unsubscribe();\r\n    }\r\n    stopPropagation(event) {\r\n        event.stopPropagation();\r\n    }\r\n    nodeClick(node) {\r\n        if (this.multiple === 0) {\r\n            this.nodeEmit(node, this.value);\r\n        }\r\n        else {\r\n            this.nodeEmit(node);\r\n        }\r\n    }\r\n    onSelectAll(_isSelectAll) {\r\n        this.nodeEmit(null, this.value);\r\n    }\r\n    onActive(num) {\r\n        this.active = num;\r\n    }\r\n    onTabOut() {\r\n        this.closeSubject.next();\r\n    }\r\n}\r\n/** @nocollapse */ XSelectPortalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XSelectPortalComponent, deps: [{ token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: i1.XI18nService }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ XSelectPortalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.2\", type: XSelectPortalComponent, selector: \"x-select-portal\", host: { listeners: { \"@x-connect-base-animation.done\": \"done($event)\", \"@x-connect-base-animation.start\": \"start($event)\" }, properties: { \"@x-connect-base-animation\": \"this.placement\" } }, viewQueries: [{ propertyName: \"list\", first: true, predicate: [\"list\"], descendants: true }], ngImport: i0, template: \"<div #selectPortal class=\\\"x-select-portal\\\" (click)=\\\"inputCom.inputFocus(); stopPropagation($event)\\\" [style.maxHeight]=\\\"portalMaxHeight\\\">\\r\\n  <x-list\\r\\n    #list\\r\\n    [data]=\\\"data\\\"\\r\\n    [(ngModel)]=\\\"value\\\"\\r\\n    (nodeClick)=\\\"nodeClick($event)\\\"\\r\\n    (keyManagerChange)=\\\"onActive($event)\\\"\\r\\n    (keyManagerTabOut)=\\\"onTabOut()\\\"\\r\\n    (onSelectAll)=\\\"onSelectAll($event)\\\"\\r\\n    checked\\r\\n    [objectArray]=\\\"objectArray\\\"\\r\\n    [multiple]=\\\"multiple\\\"\\r\\n    [selectAll]=\\\"selectAll\\\"\\r\\n    [selectAllText]=\\\"getSelectAllText\\\"\\r\\n    [nodeTpl]=\\\"nodeTpl\\\"\\r\\n    [scrollElement]=\\\"search ? scrollNull : selectPortal\\\"\\r\\n  ></x-list>\\r\\n</div>\\r\\n\", styles: [\"@charset \\\"UTF-8\\\";x-select-portal{width:100%}.x-select-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);width:100%;border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);position:relative;display:flex;background-color:var(--x-background);overflow:hidden auto;max-height:calc((calc(var(--x-font-size) + .875rem) * 6) + (var(--x-border-width) * 7))}\\n\"], dependencies: [{ kind: \"directive\", type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i6.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"component\", type: i3.XListComponent, selector: \"x-list\" }], animations: [XConnectBaseAnimation], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XSelectPortalComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: `${XSelectPortalPrefix}`, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, animations: [XConnectBaseAnimation], template: \"<div #selectPortal class=\\\"x-select-portal\\\" (click)=\\\"inputCom.inputFocus(); stopPropagation($event)\\\" [style.maxHeight]=\\\"portalMaxHeight\\\">\\r\\n  <x-list\\r\\n    #list\\r\\n    [data]=\\\"data\\\"\\r\\n    [(ngModel)]=\\\"value\\\"\\r\\n    (nodeClick)=\\\"nodeClick($event)\\\"\\r\\n    (keyManagerChange)=\\\"onActive($event)\\\"\\r\\n    (keyManagerTabOut)=\\\"onTabOut()\\\"\\r\\n    (onSelectAll)=\\\"onSelectAll($event)\\\"\\r\\n    checked\\r\\n    [objectArray]=\\\"objectArray\\\"\\r\\n    [multiple]=\\\"multiple\\\"\\r\\n    [selectAll]=\\\"selectAll\\\"\\r\\n    [selectAllText]=\\\"getSelectAllText\\\"\\r\\n    [nodeTpl]=\\\"nodeTpl\\\"\\r\\n    [scrollElement]=\\\"search ? scrollNull : selectPortal\\\"\\r\\n  ></x-list>\\r\\n</div>\\r\\n\", styles: [\"@charset \\\"UTF-8\\\";x-select-portal{width:100%}.x-select-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);width:100%;border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);position:relative;display:flex;background-color:var(--x-background);overflow:hidden auto;max-height:calc((calc(var(--x-font-size) + .875rem) * 6) + (var(--x-border-width) * 7))}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i1.XI18nService }]; }, propDecorators: { placement: [{\r\n                type: HostBinding,\r\n                args: ['@x-connect-base-animation']\r\n            }], done: [{\r\n                type: HostListener,\r\n                args: ['@x-connect-base-animation.done', ['$event']]\r\n            }], start: [{\r\n                type: HostListener,\r\n                args: ['@x-connect-base-animation.start', ['$event']]\r\n            }], list: [{\r\n                type: ViewChild,\r\n                args: ['list']\r\n            }] } });\n\nclass XSelectComponent extends XSelectProperty {\r\n    constructor(renderer, cdr, portalService, viewContainerRef, overlay, i18n, configService) {\r\n        super();\r\n        this.renderer = renderer;\r\n        this.cdr = cdr;\r\n        this.portalService = portalService;\r\n        this.viewContainerRef = viewContainerRef;\r\n        this.overlay = overlay;\r\n        this.i18n = i18n;\r\n        this.configService = configService;\r\n        this.readonly = true;\r\n        this.enter = false;\r\n        this.showClearable = false;\r\n        this.displayValue = '';\r\n        this.multipleSearchValue = '';\r\n        this.nodes = [];\r\n        this.selectedNodes = [];\r\n        this.displayNodes = [];\r\n        this.displayMore = '';\r\n        this.showDisplayMore = false;\r\n        this.searchNodes = [];\r\n        this.icon = 'fto-chevron-down';\r\n        this.iconSpin = false;\r\n        this.maxNodes = 6;\r\n        this.inputPadding = 0.4;\r\n        this.protalTobottom = true;\r\n        this.asyncLoading = false;\r\n        this.animating = false;\r\n        this.objectArray = false;\r\n        this.selectedSurplus = 0;\r\n        this.selectedTotal = 0;\r\n        this.locale = {};\r\n        this.valueTplContext = { $node: null, $isValue: true };\r\n        this.valueChange = new Subject();\r\n        this.positionChange = new Subject();\r\n        this.closeSubject = new Subject();\r\n        this.dataChange = new Subject();\r\n        this.keydownSubject = new Subject();\r\n        this.inputChange = new Subject();\r\n        this.composition = false;\r\n        this.multipleInputSizeChange = new Subject();\r\n        this._unSubject = new Subject();\r\n    }\r\n    get getReadonly() {\r\n        return (this.readonly && !this.search) || (Boolean(this.search) && Boolean(this.multiple));\r\n    }\r\n    get getMaxTagContent() {\r\n        return this.maxTagContent || this.locale.maxTagContent;\r\n    }\r\n    writeValue(value) {\r\n        if (this.multiple) {\r\n            if (XIsEmpty(value)) {\r\n                value = [];\r\n            }\r\n            if (!XIsArray(value)) {\r\n                value = [value];\r\n            }\r\n        }\r\n        this.value = value;\r\n        this.setDisplayValue();\r\n        this.valueChange.next(this.value);\r\n        this.cdr.detectChanges();\r\n    }\r\n    ngOnInit() {\r\n        this.setFlex(this.select.nativeElement, this.renderer, this.justify, this.align, this.direction);\r\n        this.setClassMap();\r\n        this.setSubject();\r\n        if (this.multiple) {\r\n            this.valueTpl = this.multipleValueTpl;\r\n            this.inputPadding = 0.125;\r\n        }\r\n        this.i18n.localeChange\r\n            .pipe(map((x) => x.select), takeUntil(this._unSubject))\r\n            .subscribe((x) => {\r\n            this.locale = x;\r\n            this.cdr.markForCheck();\r\n        });\r\n    }\r\n    ngOnChanges(changes) {\r\n        const { data } = changes;\r\n        XIsChange(data) && this.setData();\r\n    }\r\n    ngAfterViewInit() {\r\n        this.setPortal();\r\n        if (this.multiple && this.inputCom.inputValueRef) {\r\n            XResize(this.inputCom.inputValueRef.nativeElement)\r\n                .pipe(debounceTime(30), takeUntil(this._unSubject))\r\n                .subscribe((x) => {\r\n                this._resizeObserver = x.resizeObserver;\r\n                this.setMutipleInputSize();\r\n            });\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this._unSubject.next();\r\n        this._unSubject.unsubscribe();\r\n        this._resizeObserver?.disconnect();\r\n    }\r\n    setClassMap() {\r\n        XClearClass(this.labelMap);\r\n        this.labelMap[`x-text-align-${this.labelAlign}`] = this.labelAlign ? true : false;\r\n    }\r\n    setData() {\r\n        if (this.async)\r\n            return;\r\n        XSetData(this.data, this._unSubject).subscribe((x) => {\r\n            this.nodes = x;\r\n            this.setDisplayValue();\r\n            this.setPortal();\r\n            this.cdr.detectChanges();\r\n        });\r\n    }\r\n    setSubject() {\r\n        this.closeSubject.pipe(takeUntil(this._unSubject)).subscribe(() => {\r\n            this.closePortal();\r\n        });\r\n        this.inputChange.pipe(debounceTime(this.debounceTime), distinctUntilChanged(), takeUntil(this._unSubject)).subscribe((x) => {\r\n            this.modelChange(x);\r\n        });\r\n        this.keydownSubject.pipe(throttleTime(10), takeUntil(this._unSubject)).subscribe((x) => {\r\n            const keyCode = x.keyCode;\r\n            if (!this.portalAttached() && [DOWN_ARROW, UP_ARROW, LEFT_ARROW, RIGHT_ARROW, ENTER, MAC_ENTER].includes(keyCode)) {\r\n                this.inputChange.next(this.displayValue);\r\n            }\r\n            if (this.portalAttached() && [ESCAPE].includes(keyCode)) {\r\n                this.closeSubject.next();\r\n            }\r\n        });\r\n        this.multipleInputSizeChange.pipe(distinctUntilChanged(), takeUntil(this._unSubject)).subscribe((x) => {\r\n            if (this.multipleInput) {\r\n                const input = this.multipleInput?.elementRef.nativeElement;\r\n                this.renderer.setStyle(input, 'width', `${x}px`);\r\n            }\r\n        });\r\n    }\r\n    setMutipleInputSize() {\r\n        const ivf = this.inputCom.inputValueRef.nativeElement;\r\n        let { clientWidth, scrollHeight } = ivf;\r\n        const len = ivf.children.length;\r\n        let lastRowTagTop = -1;\r\n        let lines = 1;\r\n        let rowTagTop = -1;\r\n        let lastRowTagsWidth = 0;\r\n        let marginLeft = 0;\r\n        let marginTop = 0;\r\n        for (let i = len - 1; i >= 0; i--) {\r\n            const ele = ivf.children[i];\r\n            if (ele.tagName === 'X-TAG') {\r\n                const { offsetTop, offsetWidth } = ele;\r\n                const style = getComputedStyle(ele);\r\n                marginLeft = Number(style.marginLeft.replace('px', ''));\r\n                marginTop = Number(style.marginTop.replace('px', ''));\r\n                if (rowTagTop === -1) {\r\n                    rowTagTop = offsetTop;\r\n                }\r\n                else if (rowTagTop !== offsetTop) {\r\n                    lines++;\r\n                    rowTagTop = offsetTop;\r\n                }\r\n                if (lastRowTagTop === -1) {\r\n                    lastRowTagTop = offsetTop;\r\n                }\r\n                if (lastRowTagTop === offsetTop) {\r\n                    lastRowTagsWidth += offsetWidth + marginLeft;\r\n                }\r\n            }\r\n        }\r\n        const height = scrollHeight + (lines > 1 ? marginTop : 0);\r\n        this.renderer.setStyle(this.inputCom.inputRef.nativeElement, 'height', `${height}px`);\r\n        if (this.multipleInput) {\r\n            this.multipleInputSizeChange.next(clientWidth - lastRowTagsWidth - marginLeft);\r\n        }\r\n        this.portal?.overlayRef?.updatePosition();\r\n    }\r\n    menter() {\r\n        if (this.disabled || !this.clearable || this.iconSpin)\r\n            return;\r\n        this.enter = true;\r\n        if (!XIsEmpty(this.displayValue)) {\r\n            this.icon = '';\r\n            this.showClearable = true;\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n    mleave() {\r\n        if (this.disabled || !this.clearable || this.iconSpin)\r\n            return;\r\n        this.enter = false;\r\n        if (this.clearable) {\r\n            this.icon = 'fto-chevron-down';\r\n            this.showClearable = false;\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n    modelChange(value) {\r\n        if (XIsFunction(this.data)) {\r\n            if (!this.portalAttached()) {\r\n                this.showPortal();\r\n            }\r\n            else {\r\n                this.icon = 'fto-loader';\r\n                this.iconSpin = true;\r\n                this.cdr.detectChanges();\r\n                XSetData(this.data, this._unSubject, true, value).subscribe((x) => {\r\n                    this.icon = '';\r\n                    this.iconSpin = false;\r\n                    this.nodes = x;\r\n                    this.dataChange.next(this.nodes);\r\n                    this.cdr.detectChanges();\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        if (this.nodes) {\r\n            if (!this.portalAttached()) {\r\n                this.showPortal();\r\n            }\r\n            else {\r\n                if (XIsEmpty(value)) {\r\n                    this.searchNodes = [...this.nodes];\r\n                }\r\n                else {\r\n                    this.setSearchNodes(value);\r\n                }\r\n                this.dataChange.next(this.searchNodes);\r\n            }\r\n        }\r\n    }\r\n    setSearchNodes(value) {\r\n        if (this.caseSensitive) {\r\n            this.searchNodes = this.nodes.filter((x) => x.label.indexOf(value) >= 0);\r\n        }\r\n        else {\r\n            this.searchNodes = this.nodes.filter((x) => x.label.toLowerCase().indexOf(value.toLowerCase()) >= 0);\r\n        }\r\n    }\r\n    clearEmit() {\r\n        this.value = this.multiple ? [] : '';\r\n        this.displayValue = '';\r\n        this.multipleSearchValue = '';\r\n        this.selectedNodes = [];\r\n        this.setDisplayNodes();\r\n        this.valueTplContext.$node = null;\r\n        this.mleave();\r\n        this.valueChange.next(this.value);\r\n        this.inputChange.next('');\r\n        if (this.onChange)\r\n            this.onChange(this.value);\r\n    }\r\n    setDisplayValue(clickNode) {\r\n        if (this.nodes.length > 0) {\r\n            if (this.multiple) {\r\n                if (XIsEmpty(this.value)) {\r\n                    this.value = [];\r\n                    this.displayValue = '';\r\n                    this.selectedNodes = [];\r\n                    this.displayNodes = [];\r\n                    this.displayMore = '';\r\n                    this.valueTplContext.$node = null;\r\n                    this.setDisplayNodes();\r\n                }\r\n                else {\r\n                    let ids = [];\r\n                    let selected = [];\r\n                    if (XIsObjectArray(this.value)) {\r\n                        this.objectArray = true;\r\n                        ids = this.value.map((x) => x.id);\r\n                    }\r\n                    else {\r\n                        this.objectArray = false;\r\n                        ids = this.value;\r\n                    }\r\n                    if (clickNode) {\r\n                        if (clickNode.selected) {\r\n                            this.selectedNodes.push(clickNode);\r\n                        }\r\n                        else {\r\n                            XRemove(this.selectedNodes, (x) => x.id === clickNode.id);\r\n                        }\r\n                    }\r\n                    else {\r\n                        for (let id of ids) {\r\n                            let node = this.nodes.find((x) => x.id === id);\r\n                            if (node)\r\n                                selected.push(node);\r\n                        }\r\n                        this.selectedNodes = selected;\r\n                    }\r\n                    this.setDisplayNodes();\r\n                    this.displayValue = this.selectedNodes.map((x) => x.label).join(',');\r\n                    this.valueTplContext.$node = [...this.selectedNodes];\r\n                }\r\n            }\r\n            else {\r\n                let node = this.nodes.find((x) => x.id === this.value);\r\n                if (node) {\r\n                    this.displayValue = node.label;\r\n                    this.valueTplContext.$node = node;\r\n                }\r\n                else {\r\n                    this.displayValue = '';\r\n                    this.valueTplContext.$node = null;\r\n                }\r\n            }\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n    closeNode(event, node, index) {\r\n        let inx = -1;\r\n        if (XIsObjectArray(this.value)) {\r\n            inx = this.value.findIndex((y) => y.id === node.id);\r\n        }\r\n        else {\r\n            inx = this.value.findIndex((y) => y === node.id);\r\n        }\r\n        if (inx >= 0) {\r\n            this.value.splice(inx, 1);\r\n            this.valueChange.next(this.value);\r\n            if (this.onChange)\r\n                this.onChange(this.value);\r\n            this.selectedNodes.splice(index, 1);\r\n            this.setDisplayNodes();\r\n        }\r\n        event.stopPropagation();\r\n    }\r\n    setDisplayNodes() {\r\n        if (!this.multiple)\r\n            return;\r\n        const maxlen = this.selectedNodes.length;\r\n        let len = 0;\r\n        if (!this.maxTagCount) {\r\n            len = maxlen;\r\n        }\r\n        else {\r\n            len = maxlen > Number(this.maxTagCount) ? Number(this.maxTagCount) : maxlen;\r\n        }\r\n        let more = maxlen - len;\r\n        more = more < 0 ? 0 : more;\r\n        this.displayNodes = this.selectedNodes.slice(0, len);\r\n        this.showDisplayMore = more > 0;\r\n        if (XIsString(this.getMaxTagContent)) {\r\n            this.displayMore = more > 0 ? this.getMaxTagContent.replace(/\\{\\{surplus\\}\\}/g, `${more}`) : '';\r\n        }\r\n        else {\r\n            this.selectedSurplus = more;\r\n            this.selectedTotal = maxlen;\r\n        }\r\n        setTimeout(() => this.setMutipleInputSize());\r\n    }\r\n    portalAttached() {\r\n        return this.portal?.overlayRef?.hasAttached();\r\n    }\r\n    closePortal() {\r\n        if (this.portalAttached()) {\r\n            this.portal?.overlayRef?.detach();\r\n            this.active = false;\r\n            this.multipleSearchValue = '';\r\n            this.cdr.detectChanges();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    destroyPortal() {\r\n        this.portal?.overlayRef?.dispose();\r\n    }\r\n    showPortal(click = false) {\r\n        if (this.disabled || this.iconSpin || this.animating)\r\n            return;\r\n        this.active = true;\r\n        if ((this.async && XIsObservable(this.data) && this.nodes.length === 0) || XIsFunction(this.data)) {\r\n            this.icon = 'fto-loader';\r\n            this.iconSpin = true;\r\n            this.inputCom.cdr.detectChanges();\r\n            XSetData(this.data, this._unSubject, true, click ? '' : this.displayValue).subscribe((x) => {\r\n                this.icon = 'fto-chevron-down';\r\n                this.iconSpin = false;\r\n                this.inputCom.cdr.detectChanges();\r\n                this.nodes = x;\r\n                if (!this.search)\r\n                    this.setDisplayValue();\r\n                this.createPortal();\r\n                this.cdr.detectChanges();\r\n            });\r\n        }\r\n        else {\r\n            this.createPortal();\r\n        }\r\n        if (this.search && this.multiple) {\r\n            this.multipleInput.inputFocus();\r\n        }\r\n        else {\r\n            this.inputCom.inputFocus();\r\n        }\r\n    }\r\n    createPortal() {\r\n        this.nodes.filter((x) => x.selected).map((x) => (x.selected = false));\r\n        this.box = this.inputCom.inputRef.nativeElement.getBoundingClientRect();\r\n        const config = {\r\n            backdropClass: '',\r\n            width: this.box.width,\r\n            positionStrategy: this.setPlacement(),\r\n            scrollStrategy: this.overlay.scrollStrategies.reposition()\r\n        };\r\n        this.setPosition(config);\r\n        this.portal = this.portalService.attach({\r\n            content: XSelectPortalComponent,\r\n            viewContainerRef: this.viewContainerRef,\r\n            overlayConfig: config\r\n        });\r\n        this.portal.overlayRef\r\n            ?.outsidePointerEvents()\r\n            .pipe(takeUntil(this._unSubject))\r\n            .subscribe(() => {\r\n            this.setDisplayValue();\r\n            this.closeSubject.next();\r\n        });\r\n        this.setInstance();\r\n    }\r\n    setPosition(config) {\r\n        let position = config.positionStrategy;\r\n        position.positionChanges.pipe(takeUntil(this._unSubject)).subscribe((pos) => {\r\n            const place = XPortalConnectedPosition.get(pos.connectionPair);\r\n            place !== this.placement && this.positionChange.next(place);\r\n        });\r\n    }\r\n    setInstance() {\r\n        let componentRef = this.portal.componentRef;\r\n        if (!componentRef)\r\n            return;\r\n        Object.assign(componentRef.instance, {\r\n            data: this.nodes,\r\n            value: this.value,\r\n            placement: this.placement,\r\n            multiple: this.multiple === true ? 0 : 1,\r\n            selectAll: this.selectAll,\r\n            nodeTpl: this.nodeTpl,\r\n            valueChange: this.valueChange,\r\n            positionChange: this.positionChange,\r\n            closeSubject: this.closeSubject,\r\n            keydownSubject: this.keydownSubject,\r\n            dataChange: this.dataChange,\r\n            inputCom: this.inputCom,\r\n            portalMaxHeight: this.portalMaxHeight,\r\n            objectArray: this.objectArray,\r\n            selectAllText: this.selectAllText,\r\n            caseSensitive: this.caseSensitive,\r\n            search: this.search,\r\n            destroyPortal: () => this.destroyPortal(),\r\n            nodeEmit: (node, value) => this.nodeClick(node, value),\r\n            animating: (ing) => (this.animating = ing)\r\n        });\r\n        componentRef.changeDetectorRef.detectChanges();\r\n    }\r\n    nodeClick(node, value) {\r\n        if (this.multiple) {\r\n            if (node) {\r\n                if (XIsObjectArray(value)) {\r\n                    if (node.selected) {\r\n                        this.value.push(node);\r\n                    }\r\n                    else {\r\n                        let inx = this.value.findIndex((x) => x.id === node.id);\r\n                        this.value.splice(inx, 1);\r\n                    }\r\n                }\r\n                else if (XIsArray(value)) {\r\n                    if (node.selected) {\r\n                        this.value.push(node.id);\r\n                    }\r\n                    else {\r\n                        this.value.splice(this.value.indexOf(node.id), 1);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this.value = value;\r\n            }\r\n            if (this.multipleInput) {\r\n                const input = this.multipleInput.elementRef.nativeElement;\r\n                this.renderer.setStyle(input, 'width', '2rem');\r\n            }\r\n            if (this.search && this.multipleSearchValue !== '') {\r\n                this.multipleSearchValue = '';\r\n                this.inputChange.next('');\r\n                this.valueChange.next([...this.value]);\r\n            }\r\n            this.setDisplayValue(node);\r\n        }\r\n        else {\r\n            node = node;\r\n            this.displayValue = node.label;\r\n            this.valueTplContext.$node = node;\r\n            this.value = node.id;\r\n            this.closeSubject.next();\r\n        }\r\n        if (this.search && this.multiple) {\r\n            this.multipleInput.inputFocus();\r\n        }\r\n        else {\r\n            this.inputCom.inputFocus();\r\n        }\r\n        if (this.onChange)\r\n            this.onChange(this.value);\r\n        this.formControlValidator();\r\n        this.cdr.detectChanges();\r\n    }\r\n    selectAllNodes(value) {\r\n        this.value = value;\r\n    }\r\n    setPlacement() {\r\n        return this.portalService.setPlacement({\r\n            elementRef: this.inputCom.inputRef,\r\n            placement: [this.placement, 'bottom', 'top'],\r\n            transformOriginOn: 'x-select-portal'\r\n        });\r\n    }\r\n    setPortal() {\r\n        this.portalAttached() && this.portal?.overlayRef?.updatePositionStrategy(this.setPlacement());\r\n    }\r\n    formControlChanges() {\r\n        this.setData();\r\n        this.ngOnInit();\r\n        this.writeValue(this.value);\r\n        this.ngAfterViewInit();\r\n        this.cdr.detectChanges();\r\n    }\r\n    onKeydown($event) {\r\n        this.keydownSubject.next($event);\r\n        if ($event.keyCode !== TAB && !this.search) {\r\n            $event.preventDefault();\r\n        }\r\n    }\r\n    onFocus(_event) {\r\n        if (this.search && this.multiple) {\r\n            this.multipleInput.inputFocus();\r\n        }\r\n        else {\r\n            this.inputCom.inputFocus();\r\n        }\r\n    }\r\n    onInput(_event) {\r\n        this.formControlValidator();\r\n        setTimeout(() => this.inputChange.next(this.multiple ? this.multipleSearchValue : this.displayValue));\r\n    }\r\n}\r\n/** @nocollapse */ XSelectComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XSelectComponent, deps: [{ token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: i1$1.XPortalService }, { token: i0.ViewContainerRef }, { token: i2.Overlay }, { token: i1.XI18nService }, { token: i4.XConfigService }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ XSelectComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.2\", type: XSelectComponent, selector: \"x-select\", providers: [XValueAccessor(XSelectComponent)], viewQueries: [{ propertyName: \"inputCom\", first: true, predicate: [\"inputCom\"], descendants: true, static: true }, { propertyName: \"select\", first: true, predicate: [\"select\"], descendants: true, static: true }, { propertyName: \"multipleValueTpl\", first: true, predicate: [\"multipleValueTpl\"], descendants: true, static: true }, { propertyName: \"multipleInput\", first: true, predicate: [\"multipleInput\"], descendants: true }], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<div #select class=\\\"x-select\\\" [class.x-select-multiple]=\\\"multiple\\\">\\r\\n  <div class=\\\"x-select-row\\\">\\r\\n    <x-input\\r\\n      #inputCom\\r\\n      type=\\\"text\\\"\\r\\n      [label]=\\\"label\\\"\\r\\n      [labelWidth]=\\\"labelWidth\\\"\\r\\n      [labelAlign]=\\\"labelAlign\\\"\\r\\n      [justify]=\\\"justify\\\"\\r\\n      [align]=\\\"align\\\"\\r\\n      [direction]=\\\"direction\\\"\\r\\n      [required]=\\\"required\\\"\\r\\n      [disabled]=\\\"disabled\\\"\\r\\n      [validator]=\\\"validator\\\"\\r\\n      [icon]=\\\"icon\\\"\\r\\n      [iconSpin]=\\\"iconSpin\\\"\\r\\n      [placeholder]=\\\"placeholder\\\"\\r\\n      [readonly]=\\\"getReadonly\\\"\\r\\n      [clearable]=\\\"showClearable\\\"\\r\\n      [(ngModel)]=\\\"displayValue\\\"\\r\\n      [valueTpl]=\\\"valueTpl ? valueTpl : nodeTpl\\\"\\r\\n      [valueTplContext]=\\\"valueTplContext\\\"\\r\\n      [size]=\\\"size\\\"\\r\\n      [bordered]=\\\"bordered\\\"\\r\\n      [before]=\\\"before\\\"\\r\\n      [after]=\\\"after\\\"\\r\\n      [pattern]=\\\"pattern\\\"\\r\\n      [message]=\\\"message\\\"\\r\\n      [pointer]=\\\"true\\\"\\r\\n      [inputPadding]=\\\"inputPadding\\\"\\r\\n      [(active)]=\\\"active\\\"\\r\\n      (clearEmit)=\\\"clearEmit()\\\"\\r\\n      (xKeydown)=\\\"onKeydown($event)\\\"\\r\\n      (xInput)=\\\"onInput($event)\\\"\\r\\n      (xFocus)=\\\"onFocus($event)\\\"\\r\\n      (xClick)=\\\"showPortal(true)\\\"\\r\\n      (xMouseenter)=\\\"menter()\\\"\\r\\n      (xMouseleave)=\\\"mleave()\\\"\\r\\n      (xComposition)=\\\"composition = $event\\\"\\r\\n    ></x-input>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #multipleValueTpl>\\r\\n  <x-tag\\r\\n    [@.disabled]=\\\"true\\\"\\r\\n    *ngFor=\\\"let node of displayNodes; index as i\\\"\\r\\n    [closable]=\\\"!disabled\\\"\\r\\n    (close)=\\\"closeNode($event, node, i)\\\"\\r\\n    [size]=\\\"size\\\"\\r\\n    >{{ node.label }}</x-tag\\r\\n  >\\r\\n  <x-tag [@.disabled]=\\\"true\\\" *ngIf=\\\"showDisplayMore\\\" [size]=\\\"size\\\">\\r\\n    <ng-container *xOutlet=\\\"getMaxTagContent; context: { $surplus: selectedSurplus, $total: selectedTotal }\\\">{{\\r\\n      displayMore\\r\\n    }}</ng-container>\\r\\n  </x-tag>\\r\\n  <x-input\\r\\n    #multipleInput\\r\\n    *ngIf=\\\"search\\\"\\r\\n    bordered=\\\"false\\\"\\r\\n    [size]=\\\"size\\\"\\r\\n    inputPadding=\\\"0.275\\\"\\r\\n    [(ngModel)]=\\\"multipleSearchValue\\\"\\r\\n    (xInput)=\\\"onInput($event)\\\"\\r\\n    (xKeydown)=\\\"onKeydown($event)\\\"\\r\\n  ></x-input>\\r\\n</ng-template>\\r\\n\", styles: [\"@charset \\\"UTF-8\\\";x-select{display:inline-block;width:12rem}.x-select{margin:0;padding:0;width:100%}.x-select x-input{width:100%}.x-select-multiple .x-input-value-template-value{display:flex;align-items:center;margin-bottom:.125rem;flex-wrap:wrap;width:initial;height:initial!important}.x-select-multiple .x-input-value-template-value>x-tag{display:inline-flex;margin-left:.0625rem;margin-top:.125rem}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-big{height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-big>.x-icon{right:calc(-var(--x-padding-large)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-large{height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-large>.x-icon{right:calc(-var(--x-padding-medium)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-medium{height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-medium>.x-icon{right:calc(-var(--x-padding-small)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-small{height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-small>.x-icon{right:calc(-var(--x-padding-mini)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-mini{height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-mini>.x-icon{right:-.0625rem}.x-select-multiple .x-input-value-template-value>x-input{margin-top:.125rem;width:5rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-large);line-height:var(--x-height-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>label{height:var(--x-height-large);line-height:var(--x-height-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-medium);line-height:var(--x-height-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>label{height:var(--x-height-medium);line-height:var(--x-height-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-small);line-height:var(--x-height-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>label{height:var(--x-height-small);line-height:var(--x-height-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-mini);line-height:var(--x-height-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>label{height:var(--x-height-mini);line-height:var(--x-height-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-value-template-value{height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-max-length{height:1.125rem;line-height:1.125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>label{height:1.125rem;line-height:1.125rem}.x-select-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);width:100%;border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);position:relative;display:flex;background-color:var(--x-background);overflow:hidden auto;max-height:calc((calc(var(--x-font-size) + .875rem) * 6) + (var(--x-border-width) * 7))}\\n\"], dependencies: [{ kind: \"directive\", type: i5.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i6.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { kind: \"directive\", type: i6.PatternValidator, selector: \"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]\", inputs: [\"pattern\"] }, { kind: \"directive\", type: i6.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"component\", type: i7.XInputComponent, selector: \"x-input\" }, { kind: \"component\", type: i8.XTagComponent, selector: \"x-tag\" }, { kind: \"directive\", type: i9.XOutletDirective, selector: \"[xOutlet]\", inputs: [\"xOutletContext\", \"xOutlet\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XSelectComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: `${XSelectPrefix}`, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, providers: [XValueAccessor(XSelectComponent)], template: \"<div #select class=\\\"x-select\\\" [class.x-select-multiple]=\\\"multiple\\\">\\r\\n  <div class=\\\"x-select-row\\\">\\r\\n    <x-input\\r\\n      #inputCom\\r\\n      type=\\\"text\\\"\\r\\n      [label]=\\\"label\\\"\\r\\n      [labelWidth]=\\\"labelWidth\\\"\\r\\n      [labelAlign]=\\\"labelAlign\\\"\\r\\n      [justify]=\\\"justify\\\"\\r\\n      [align]=\\\"align\\\"\\r\\n      [direction]=\\\"direction\\\"\\r\\n      [required]=\\\"required\\\"\\r\\n      [disabled]=\\\"disabled\\\"\\r\\n      [validator]=\\\"validator\\\"\\r\\n      [icon]=\\\"icon\\\"\\r\\n      [iconSpin]=\\\"iconSpin\\\"\\r\\n      [placeholder]=\\\"placeholder\\\"\\r\\n      [readonly]=\\\"getReadonly\\\"\\r\\n      [clearable]=\\\"showClearable\\\"\\r\\n      [(ngModel)]=\\\"displayValue\\\"\\r\\n      [valueTpl]=\\\"valueTpl ? valueTpl : nodeTpl\\\"\\r\\n      [valueTplContext]=\\\"valueTplContext\\\"\\r\\n      [size]=\\\"size\\\"\\r\\n      [bordered]=\\\"bordered\\\"\\r\\n      [before]=\\\"before\\\"\\r\\n      [after]=\\\"after\\\"\\r\\n      [pattern]=\\\"pattern\\\"\\r\\n      [message]=\\\"message\\\"\\r\\n      [pointer]=\\\"true\\\"\\r\\n      [inputPadding]=\\\"inputPadding\\\"\\r\\n      [(active)]=\\\"active\\\"\\r\\n      (clearEmit)=\\\"clearEmit()\\\"\\r\\n      (xKeydown)=\\\"onKeydown($event)\\\"\\r\\n      (xInput)=\\\"onInput($event)\\\"\\r\\n      (xFocus)=\\\"onFocus($event)\\\"\\r\\n      (xClick)=\\\"showPortal(true)\\\"\\r\\n      (xMouseenter)=\\\"menter()\\\"\\r\\n      (xMouseleave)=\\\"mleave()\\\"\\r\\n      (xComposition)=\\\"composition = $event\\\"\\r\\n    ></x-input>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #multipleValueTpl>\\r\\n  <x-tag\\r\\n    [@.disabled]=\\\"true\\\"\\r\\n    *ngFor=\\\"let node of displayNodes; index as i\\\"\\r\\n    [closable]=\\\"!disabled\\\"\\r\\n    (close)=\\\"closeNode($event, node, i)\\\"\\r\\n    [size]=\\\"size\\\"\\r\\n    >{{ node.label }}</x-tag\\r\\n  >\\r\\n  <x-tag [@.disabled]=\\\"true\\\" *ngIf=\\\"showDisplayMore\\\" [size]=\\\"size\\\">\\r\\n    <ng-container *xOutlet=\\\"getMaxTagContent; context: { $surplus: selectedSurplus, $total: selectedTotal }\\\">{{\\r\\n      displayMore\\r\\n    }}</ng-container>\\r\\n  </x-tag>\\r\\n  <x-input\\r\\n    #multipleInput\\r\\n    *ngIf=\\\"search\\\"\\r\\n    bordered=\\\"false\\\"\\r\\n    [size]=\\\"size\\\"\\r\\n    inputPadding=\\\"0.275\\\"\\r\\n    [(ngModel)]=\\\"multipleSearchValue\\\"\\r\\n    (xInput)=\\\"onInput($event)\\\"\\r\\n    (xKeydown)=\\\"onKeydown($event)\\\"\\r\\n  ></x-input>\\r\\n</ng-template>\\r\\n\", styles: [\"@charset \\\"UTF-8\\\";x-select{display:inline-block;width:12rem}.x-select{margin:0;padding:0;width:100%}.x-select x-input{width:100%}.x-select-multiple .x-input-value-template-value{display:flex;align-items:center;margin-bottom:.125rem;flex-wrap:wrap;width:initial;height:initial!important}.x-select-multiple .x-input-value-template-value>x-tag{display:inline-flex;margin-left:.0625rem;margin-top:.125rem}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-big{height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-big>.x-icon{right:calc(-var(--x-padding-large)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-large{height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-large>.x-icon{right:calc(-var(--x-padding-medium)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-medium{height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-medium>.x-icon{right:calc(-var(--x-padding-small)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-small{height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-small>.x-icon{right:calc(-var(--x-padding-mini)/2)}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-mini{height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-tag .x-tag-mini>.x-icon{right:-.0625rem}.x-select-multiple .x-input-value-template-value>x-input{margin-top:.125rem;width:5rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-large);line-height:var(--x-height-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-big>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-large);line-height:var(--x-height-large);padding:0 var(--x-padding-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-big>label{height:var(--x-height-large);line-height:var(--x-height-large)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-medium);line-height:var(--x-height-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-large>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-medium);line-height:var(--x-height-medium);padding:0 var(--x-padding-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-large>label{height:var(--x-height-medium);line-height:var(--x-height-medium)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-small);line-height:var(--x-height-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-small);line-height:var(--x-height-small);padding:0 var(--x-padding-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-medium>label{height:var(--x-height-small);line-height:var(--x-height-small)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-value-template-value{height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-input>.x-input-max-length{height:var(--x-height-mini);line-height:var(--x-height-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-small>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:var(--x-height-mini);line-height:var(--x-height-mini);padding:0 var(--x-padding-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-small>label{height:var(--x-height-mini);line-height:var(--x-height-mini)}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>input,.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-row-after:not(.x-input-row-after-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-value-template-value{height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-input>.x-input-max-length{height:1.125rem;line-height:1.125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-row-before:not(.x-input-row-before-template),.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>.x-input-row>.x-input-row-after:not(.x-input-row-after-template){height:1.125rem;line-height:1.125rem;padding:0 .125rem}.x-select-multiple .x-input-value-template-value>x-input .x-input-mini>label{height:1.125rem;line-height:1.125rem}.x-select-portal{margin:.0625rem 0;font-size:var(--x-font-size);color:var(--x-text);border:var(--x-border-width) var(--x-border-style) var(--x-border);width:100%;border-radius:var(--x-border-radius);box-shadow:var(--x-box-shadow) var(--x-box-shadow-light-color);position:relative;display:flex;background-color:var(--x-background);overflow:hidden auto;max-height:calc((calc(var(--x-font-size) + .875rem) * 6) + (var(--x-border-width) * 7))}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i1$1.XPortalService }, { type: i0.ViewContainerRef }, { type: i2.Overlay }, { type: i1.XI18nService }, { type: i4.XConfigService }]; }, propDecorators: { inputCom: [{\r\n                type: ViewChild,\r\n                args: ['inputCom', { static: true }]\r\n            }], select: [{\r\n                type: ViewChild,\r\n                args: ['select', { static: true }]\r\n            }], multipleValueTpl: [{\r\n                type: ViewChild,\r\n                args: ['multipleValueTpl', { static: true }]\r\n            }], multipleInput: [{\r\n                type: ViewChild,\r\n                args: ['multipleInput']\r\n            }] } });\n\nclass XSelectModule {\r\n}\r\n/** @nocollapse */ XSelectModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XSelectModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ XSelectModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.2\", ngImport: i0, type: XSelectModule, declarations: [XSelectComponent, XSelectPortalComponent, XSelectProperty], imports: [CommonModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        XPortalModule,\r\n        XInputModule,\r\n        XListModule,\r\n        XBaseFormModule,\r\n        XTagModule,\r\n        XI18nModule,\r\n        XOutletModule], exports: [XSelectComponent, XSelectPortalComponent] });\r\n/** @nocollapse */ XSelectModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XSelectModule, imports: [CommonModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        XPortalModule,\r\n        XInputModule,\r\n        XListModule,\r\n        XBaseFormModule,\r\n        XTagModule,\r\n        XI18nModule,\r\n        XOutletModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.2\", ngImport: i0, type: XSelectModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [XSelectComponent, XSelectPortalComponent, XSelectProperty],\r\n                    exports: [XSelectComponent, XSelectPortalComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        XPortalModule,\r\n                        XInputModule,\r\n                        XListModule,\r\n                        XBaseFormModule,\r\n                        XTagModule,\r\n                        XI18nModule,\r\n                        XOutletModule\r\n                    ]\r\n                }]\r\n        }] });\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { XSelectComponent, XSelectModule, XSelectPortalComponent, XSelectPortalPrefix, XSelectPrefix, XSelectProperty };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}